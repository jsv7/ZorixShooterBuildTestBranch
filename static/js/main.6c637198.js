/*! For license information please see main.6c637198.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},96:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnityLoader=void 0;var r=n(43),i=n(711),s=n(947);t.useUnityLoader=function(e){var t=(0,r.useState)(s.UnityLoaderStatus.Loading),n=t[0],o=t[1];return(0,r.useEffect)((function(){if(!1!==i.isBrowserEnvironment){if(null!==e.loaderUrl){var t=window.document.querySelector('script[src="'.concat(e.loaderUrl,'"]'));null===t?((t=window.document.createElement("script")).type="text/javascript",t.src=e.loaderUrl,t.async=!0,t.setAttribute("data-status","loading"),window.document.body.appendChild(t),t.addEventListener("load",(function(){return null===t||void 0===t?void 0:t.setAttribute("data-status","loaded")})),t.addEventListener("error",(function(){return null===t||void 0===t?void 0:t.setAttribute("data-status","error")}))):o("loaded"===t.getAttribute("data-status")?s.UnityLoaderStatus.Loaded:s.UnityLoaderStatus.Error);var n=function(e){return o("load"===e.type?s.UnityLoaderStatus.Loaded:s.UnityLoaderStatus.Error)};return t.addEventListener("load",n),t.addEventListener("error",n),function(){null!==t&&(t.removeEventListener("load",n),t.removeEventListener("error",n),window.document.body.removeChild(t))}}o(s.UnityLoaderStatus.Idle)}}),[e.loaderUrl]),n}},128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Unity=void 0;var r=n(43),i=n(43),s=n(257),o=n(984),a=n(139),l=n(96),u=(0,i.forwardRef)((function(e,t){var n=(0,i.useRef)(null),u=(0,s.useUnityCanvasId)(e),c=(0,a.useUnityArguments)(e),h=(0,l.useUnityLoader)(e.unityProvider.unityConfig);return(0,o.useUnityInstance)(h,n.current,c,e.unityProvider),(0,r.useImperativeHandle)(t,(function(){return n.current})),(0,r.createElement)("canvas",{ref:n,id:u,style:e.style,className:e.className,tabIndex:e.tabIndex})}));t.Unity=u},139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnityArguments=void 0;var r=n(43);t.useUnityArguments=function(e){return(0,r.useMemo)((function(){return{dataUrl:e.unityProvider.unityConfig.dataUrl,frameworkUrl:e.unityProvider.unityConfig.frameworkUrl,codeUrl:e.unityProvider.unityConfig.codeUrl,streamingAssetsUrl:e.unityProvider.unityConfig.streamingAssetsUrl,memoryUrl:e.unityProvider.unityConfig.memoryUrl,symbolsUrl:e.unityProvider.unityConfig.symbolsUrl,workerUrl:e.unityProvider.unityConfig.workerUrl,companyName:e.unityProvider.unityConfig.companyName,productName:e.unityProvider.unityConfig.productName,productVersion:e.unityProvider.unityConfig.productVersion,webglContextAttributes:e.unityProvider.unityConfig.webglContextAttributes||{},cacheControl:e.unityProvider.unityConfig.cacheControl||function(){return"must-revalidate"},devicePixelRatio:e.devicePixelRatio||1,autoSyncPersistentDataPath:e.autoSyncPersistentDataPath,matchWebGLToCanvasSize:"boolean"!==typeof e.matchWebGLToCanvasSize||e.matchWebGLToCanvasSize,disabledCanvasEvents:e.disabledCanvasEvents||["contextmenu","dragstart"],print:function(e){},printErr:function(e){}}}),[])}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,g(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!T.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+A(l,0):s,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var u=0;u<e.length;u++){var c=s+A(a=e[u],u);l+=P(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=P(a=a.value,t,i,c=s+A(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var x={current:null},O={transition:null},D={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!T.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return x.current.useCallback(e,t)},t.useContext=function(e){return x.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return x.current.useDeferredValue(e)},t.useEffect=function(e,t){return x.current.useEffect(e,t)},t.useId=function(){return x.current.useId()},t.useImperativeHandle=function(e,t,n){return x.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.current.useMemo(e,t)},t.useReducer=function(e,t,n){return x.current.useReducer(e,t,n)},t.useRef=function(e){return x.current.useRef(e)},t.useState=function(e){return x.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(m=!1,b(e),!g)if(null!==r(u))g=!0,O(E);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function E(e,n){g=!1,m&&(m=!1,v(I),I=-1),p=!0;var s=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&D(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,k=null,I=-1,C=5,A=-1;function P(){return!(t.unstable_now()-A<C)}function R(){if(null!==k){var e=t.unstable_now();A=e;var n=!0;try{n=k(!0,e)}finally{n?S():(T=!1,k=null)}}else T=!1}if("function"===typeof _)S=function(){_(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,x=N.port2;N.port1.onmessage=R,S=function(){x.postMessage(null)}}else S=function(){y(R,0)};function O(e){k=e,T||(T=!0,S())}function D(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(m?(v(I),I=-1):m=!0,D(w,s-o))):(e.sortIndex=a,n(u,e),g||p||(g=!0,O(E))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},257:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnityCanvasId=void 0;var r=n(43),i=0,s="react-unity-webgl-canvas";t.useUnityCanvasId=function(e){return void 0!==e.id?e.id:(0,r.useMemo)((function(){return[s,++i].join("-")}),[])}},262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNullableState=void 0;var r=n(43);t.useNullableState=function(e){return(0,r.useState)(e||null)}},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var u=s[l];if(!a(u))return!1;var c=e[u],h=t[u];if(!1===(i=n?n.call(r,c,h,u):void 0)||void 0===i&&c!==h)return!1}return!0}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},397:(e,t,n)=>{"use strict";t.sT=t.G9=void 0;var r=n(128);Object.defineProperty(t,"G9",{enumerable:!0,get:function(){return r.Unity}});var i=n(544);Object.defineProperty(t,"sT",{enumerable:!0,get:function(){return i.useUnityContext}})},544:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(l){a=[6,l],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useUnityContext=void 0;var s=n(43),o=n(855),a=n(969),l=n(262);t.useUnityContext=function(e){var t=(0,l.useNullableState)(),n=t[0],u=t[1],c=(0,s.useState)(0),h=c[0],d=c[1],f=(0,s.useState)(!1),p=f[0],g=f[1],m=(0,l.useNullableState)(),y=m[0],v=m[1],_=(0,a.useEventSystem)(),b=(0,s.useRef)({setLoadingProgression:d,setInitialisationError:v,setUnityInstance:u,setIsLoaded:g,unityConfig:e}),w=(0,s.useCallback)((function(e){null!==n?n.SetFullscreen(!0===e?1:0):console.warn(o.errorMessages.requestFullscreenNoUnityInstance)}),[n]),E=(0,s.useCallback)((function(){if(null!==n&&"undefined"!==typeof n.Module.canvas)return n.Module.canvas.requestPointerLock();console.warn(o.errorMessages.requestPointerLockNoUnityInstanceOrCanvas)}),[n]),S=(0,s.useCallback)((function(e,t,r){null!==n?n.SendMessage(e,t,r):console.warn(o.errorMessages.sendMessageNoUnityInstance)}),[n]),T=(0,s.useCallback)((function(e,t){if(null!==n&&"undefined"!==typeof n.Module.canvas)return n.Module.canvas.toDataURL(e,t);console.warn(o.errorMessages.screenshotNoUnityInstanceOrCanvas)}),[n]),k=(0,s.useCallback)((function(){return null===n?(console.warn(o.errorMessages.quitNoUnityInstance),Promise.reject()):n.Quit()}),[n]),I=(0,s.useCallback)((function(){return r(void 0,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return null===n||"undefined"===typeof n.Module.canvas?(console.warn(o.errorMessages.genericNoUnityInstance),[2,Promise.reject()]):(e=n.Module.canvas,document.body.appendChild(e),e.style.display="none",[4,k()]);case 1:return t.sent(),e.remove(),[2]}}))}))}),[n]);return(0,s.useEffect)((function(){g(1===h)}),[h]),{unityProvider:b.current,loadingProgression:h,initialisationError:y,isLoaded:p,UNSAFE__unityInstance:n,requestFullscreen:w,requestPointerLock:E,sendMessage:S,takeScreenshot:T,unload:k,UNSAFE__detachAndUnloadImmediate:I,addEventListener:_.addEventListener,removeEventListener:_.removeEventListener}}},579:(e,t,n)=>{"use strict";e.exports=n(153)},711:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserEnvironment=void 0,t.isBrowserEnvironment="undefined"!==typeof window&&"undefined"!==typeof document},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function j(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case k:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Te=null;function ke(e){if(e=_i(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Ie(e){Se?Te?Te.push(e):Te=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Te;if(Te=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ae(e,t,n)}finally{Re=!1,(null!==Se||null!==Te)&&(Pe(),Ce())}}function xe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Le(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,Ue=!1,Ve=null,ze={onError:function(e){Me=!0,Fe=e}};function je(e,t,n,r,i,s,o,a,l){Me=!1,Fe=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,St,Tt,kt,It=!1,Ct=[],At=null,Pt=null,Rt=null,Nt=new Map,xt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function zt(){It=!1,null!==At&&Ut(At)&&(At=null),null!==Pt&&Ut(Pt)&&(Pt=null),null!==Rt&&Ut(Rt)&&(Rt=null),Nt.forEach(Vt),xt.forEach(Vt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return jt(t,e)}if(0<Ct.length){jt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&jt(At,e),null!==Pt&&jt(Pt,e),null!==Rt&&jt(Rt,e),Nt.forEach(t),xt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var $t=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=_t,s=$t.transition;$t.transition=null;try{_t=1,Kt(e,t,n,r)}finally{_t=i,$t.transition=s}}function Wt(e,t,n,r){var i=_t,s=$t.transition;$t.transition=null;try{_t=4,Kt(e,t,n,r)}finally{_t=i,$t.transition=s}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Mt(At,e,t,n,r,i),!0;case"dragenter":return Pt=Mt(Pt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nt.set(s,Mt(Nt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xt.set(s,Mt(xt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=_i(i);if(null!==s&&wt(s),null===(s=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=F({},un,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),gn=sn(F({},fn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),yn=sn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(vn),bn=sn(F({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return Tn}var In=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(In),An=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=sn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=sn(Nn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Hn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Ur(e,0)}function Qn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Ne(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Tr={};function kr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}c&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Ir=kr("animationend"),Cr=kr("animationiteration"),Ar=kr("animationstart"),Pr=kr("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){Rr.set(e,t),l(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];xr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}xr(Ir,"onAnimationEnd"),xr(Cr,"onAnimationIteration"),xr(Ar,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Pr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(je.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,zr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=s,i=we(n),o=[];e:{var a=Rr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Ir:case Cr:case Ar:l=yn;break;case Pr:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=xn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=xe(p,d))&&c.push(Hr(p,g,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==u?a:bi(u),(a=new c(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,vi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,g=c),h=g,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Kr(f))p++;for(f=0,g=d;g;g=Kr(g))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Kr(c),d=Kr(d)}c=null}else c=null;null!==l&&Gr(o,a,l,c,!1),null!==u&&null!==h&&Gr(o,h,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if(qn(a))if(Xn)m=or;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?zn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Wr(r,_)).length&&(_=new bn(_,e,null,n,i),o.push({event:_,listeners:y}),v?_.data=v:null!==(v=jn(n))&&(_.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=xe(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=xe(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=xe(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=xe(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var Ei=[],Si=-1;function Ti(e){return{current:e}}function ki(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function Ii(e,t){Si++,Ei[Si]=e.current,e.current=t}var Ci={},Ai=Ti(Ci),Pi=Ti(!1),Ri=Ci;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Pi),ki(Ai)}function Di(e,t,n){if(Ai.current!==Ci)throw Error(s(168));Ii(Ai,t),Ii(Pi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ri=Ai.current,Ii(Ai,e),Ii(Pi,Pi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(Pi),ki(Ai),Ii(Ai,e)):ki(Pi),Ii(Pi,n)}var Ui=null,Vi=!1,zi=!1;function ji(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=_t;try{var n=Ui;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ze,Bi),i}finally{_t=t,zi=!1}}return null}var $i=[],qi=0,Hi=null,Wi=0,Ki=[],Gi=0,Qi=null,Yi=1,Xi="";function Ji(e,t){$i[qi++]=Wi,$i[qi++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=$i[--qi],$i[qi]=null,Wi=$i[--qi],$i[qi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=b.ReactCurrentBatchConfig;function ms(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function _s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===x&&vs(s)===t.type)?((r=i(t,n.props)).ref=ms(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=ms(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=ms(e,null,t),n.return=e,n;case E:return(t=Uu(t,e.mode,n)).return=e,t;case x:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case x:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function g(i,s,a,l){for(var u=null,c=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,a[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===a.length)return n(i,h),is&&Ji(i,g),u;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(s=o(h,s,g),null===c?u=h:c.sibling=h,c=h);return is&&Ji(i,g),u}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}function m(i,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var _=f(i,g,v.value,u);if(null===_){null===g&&(g=y);break}e&&g&&null===_.alternate&&t(i,g),a=o(_,a,m),null===h?c=_:h.sibling=_,h=_,g=y}if(v.done)return n(i,g),is&&Ji(i,m),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,u))&&(a=o(v,a,m),null===h?c=v:h.sibling=v,h=v);return is&&Ji(i,m),c}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,u))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===h?c=v:h.sibling=v,h=v);return e&&g.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===x&&vs(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=ms(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((s=Lu(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Du(o.type,o.key,o.props,null,r.mode,l)).ref=ms(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uu(o,r.mode,l)).return=r,r=s}return a(r);case x:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return g(r,s,o,l);if(L(o))return m(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var bs=_s(!0),ws=_s(!1),Es=Ti(null),Ss=null,Ts=null,ks=null;function Is(){ks=Ts=Ss=null}function Cs(e){var t=Es.current;ki(Es),e._currentValue=t}function As(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){Ss=e,ks=Ts=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===Ts){if(null===Ss)throw Error(s(308));Ts=e,Ss.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return t}var Ns=null;function xs(e){null===Ns?Ns=[e]:Ns.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,xs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function js(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=h}}function $s(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Hs=Ti(qs),Ws=Ti(qs),Ks=Ti(qs);function Gs(e){if(e===qs)throw Error(s(174));return e}function Qs(e,t){switch(Ii(Ks,t),Ii(Ws,e),Ii(Hs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Hs),Ii(Hs,t)}function Ys(){ki(Hs),ki(Ws),ki(Ks)}function Xs(e){Gs(Ks.current);var t=Gs(Hs.current),n=le(t,e.type);t!==n&&(Ii(Ws,e),Ii(Hs,n))}function Js(e){Ws.current===e&&(ki(Hs),ki(Ws))}var Zs=Ti(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(s(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(co)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function _o(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((so&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,oo.lanes|=h,Ml|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ml|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(_a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function To(e,t){var n=oo,r=_o(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,No(9,Io.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&so)||ko(n,t,i)}return i}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Po(e)}function Co(e,t,n){return n((function(){Ao(t)&&Po(e)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Po(e){var t=Ds(e,1);null!==t&&nu(t,e,1,-1)}function Ro(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function xo(){return _o().memoizedState}function Oo(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=_o();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=No(t,n,s,r))}oo.flags|=e,i.memoizedState=No(1|t,n,s,r)}function Lo(e,t){return Oo(8390656,8,e,t)}function Mo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function Uo(e,t){return Do(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Vo.bind(null,t,e),n)}function jo(){}function Bo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),oo.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ho(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{_t=n,io.transition=r}}function Wo(){return _o().memoizedState}function Ko(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Yo(t,n);else if(null!==(n=Os(e,t,n,r))){nu(n,e,r,eu()),Xo(n,t,r)}}function Go(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Yo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,xs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Os(e,t,i,r))&&(nu(n,e,r,i=eu()),Xo(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:Rs,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Rs,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ro,useDebugValue:jo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=Ho.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&so)||ko(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,No(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Pl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Rs,useCallback:Bo,useContext:Rs,useEffect:Mo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:$o,useReducer:wo,useRef:xo,useState:function(){return wo(bo)},useDebugValue:jo,useDeferredValue:function(e){return qo(_o(),ao.memoizedState,e)},useTransition:function(){return[wo(bo)[0],_o().memoizedState]},useMutableSource:So,useSyncExternalStore:To,useId:Wo,unstable_isNewReconciler:!1},ta={readContext:Rs,useCallback:Bo,useContext:Rs,useEffect:Mo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:$o,useReducer:Eo,useRef:xo,useState:function(){return Eo(bo)},useDebugValue:jo,useDeferredValue:function(e){var t=_o();return null===ao?t.memoizedState=e:qo(t,ao.memoizedState,e)},useTransition:function(){return[Eo(bo)[0],_o().memoizedState]},useMutableSource:So,useSyncExternalStore:To,useId:Wo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Us(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nu(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Us(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nu(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Us(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(nu(t,e,r,n),zs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(i=xi(t)?Ri:Ai.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Rs(s):(s=xi(t)?Ri:Ai.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Hl=r),ha(0,t)},n}function pa(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,_a=!1;function ba(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var s=t.ref;return Ps(t,i),r=mo(e,t,n,r,s,i),n=yo(),null===e||_a?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||xu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Ou(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Ia(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ol,xl),xl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ol,xl),xl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ii(Ol,xl),xl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ii(Ol,xl),xl|=r;return ba(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var s=xi(n)?Ri:Ai.current;return s=Ni(t,s),Ps(t,i),n=mo(e,t,n,r,s,i),r=yo(),null===e||_a?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ca(e,t,n,r,i){if(xi(n)){var s=!0;Mi(t)}else s=!1;if(Ps(t,i),null===t.stateNode)$a(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Rs(u):u=Ni(t,u=xi(n)?Ri:Ai.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,o,r,u),Ls=!1;var d=t.memoizedState;o.state=d,Bs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Pi.current||Ls?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Ls||sa(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rs(l):l=Ni(t,l=xi(n)?Ri:Ai.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Ls=!1,d=t.memoizedState,o.state=d,Bs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Pi.current||Ls?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(u=Ls||sa(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,s,i)}function Aa(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),qa(e,t,s);r=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qs(e,t.containerInfo)}function Ra(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ba(e,t,n,r),t.child}var Na,xa,Oa,Da,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(Zs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mu(l,i,0,null),e=Lu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(o=Lu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ca(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),nu(r,e,i,-1))}return gu(),Va(e,t,a,r=ca(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ou(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ou(r,a):(a=Lu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Ou(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),As(e.return,t,n)}function ja(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ja(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ja(t,!0,n,null,s);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return xi(t.type)&&Oi(),Wa(t),null;case 3:return r=t.stateNode,Ys(),ki(Pi),ki(Ai),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),xa(e,t),Wa(t),null;case 5:Js(t);var i=Gs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wa(t),null}if(e=Gs(Hs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ve(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Vr("scroll",e):null!=c&&_(e,o,c,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ks.current),Gs(Hs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wa(t),null;case 13:if(ki(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):gu())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return Ys(),xa(e,t),null===e&&Br(t.stateNode.containerInfo),Wa(t),null;case 10:return Cs(t.type._context),Wa(t),null;case 19:if(ki(Zs),null===(o=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ha(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ha(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bl&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Wa(t),null}else 2*Xe()-o.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Ii(Zs,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&xl)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ga(e,t){switch(ts(t),t.tag){case 1:return xi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),ki(Pi),ki(Ai),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(ki(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Zs),null;case 4:return Ys(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xa=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(Hs.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Vr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Ya=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Tu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=cl,i=hl;cl=null,dl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tu(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,dl(e,t,n),Ya=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));fl(o,a,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Tu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Tu(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Tu(e,e.return,m)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Tu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),_e(l,a);var c=_e(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,c)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Tu(e,e.return,m)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Tu(e,e.return,m)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Tu(e,e.return,m)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=Xe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(c=Ya)||h,gl(t,e),Ya=c):gl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Tu(r,n,m)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Ja=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(m){Tu(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Tu(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Tu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ja=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Qa;var u=Ya;if(Qa=o,(Ya=l)&&!u)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,Ja=l):El(i);for(;null!==s;)Ja=s,_l(s,t,n),s=s.sibling;Ja=i,Qa=a,Ya=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&$s(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$s(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Ya||512&t.flags&&il(t)}catch(f){Tu(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function El(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Tu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tu(t,i,l)}}var s=t.return;try{il(t)}catch(l){Tu(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Tu(t,o,l)}}}catch(l){Tu(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Sl,Tl=Math.ceil,kl=b.ReactCurrentDispatcher,Il=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Al=0,Pl=null,Rl=null,Nl=0,xl=0,Ol=Ti(0),Dl=0,Ll=null,Ml=0,Fl=0,Ul=0,Vl=null,zl=null,jl=0,Bl=1/0,$l=null,ql=!1,Hl=null,Wl=null,Kl=!1,Gl=null,Ql=0,Yl=0,Xl=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Al)?Xe():-1!==Jl?Jl:Jl=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Nl?Nl&-Nl:null!==gs.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(s(185));yt(e,n,r),0!==(2&Al)&&e===Pl||(e===Pl&&(0===(2&Al)&&(Fl|=n),4===Dl&&au(e,Nl)),ru(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Bl=Xe()+500,Vi&&Bi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Pl?Nl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,ji(e)}(lu.bind(null,e)):ji(lu.bind(null,e)),oi((function(){0===(6&Al)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Zl=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=dt(e,e===Pl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Al;Al|=2;var o=pu();for(Pl===e&&Nl===t||($l=null,Bl=Xe()+500,du(e,t));;)try{vu();break}catch(l){fu(e,l)}Is(),kl.current=o,Al=i,null!==Rl?t=0:(Pl=null,Nl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Ll,du(e,0),au(e,r),ru(e,Xe()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(o=pt(e))&&(r=o,t=su(e,o))),1===t))throw n=Ll,du(e,0),au(e,r),ru(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wu(e,zl,$l);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=jl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,zl,$l),t);break}wu(e,zl,$l);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,zl,$l),r);break}wu(e,zl,$l);break;default:throw Error(s(329))}}}return ru(e,Xe()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=mu(e,t))&&(t=zl,zl=n,null!==t&&ou(t)),e}function ou(e){null===zl?zl=e:zl.push.apply(zl,e)}function au(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Al))throw Error(s(327));Eu();var t=dt(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Ll,du(e,0),au(e,t),ru(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,zl,$l),ru(e,Xe()),null}function uu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Bl=Xe()+500,Vi&&Bi())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Al)&&Eu();var t=Al;Al|=1;var n=Cl.transition,r=_t;try{if(Cl.transition=null,_t=1,e)return e()}finally{_t=r,Cl.transition=n,0===(6&(Al=t))&&Bi()}}function hu(){xl=Ol.current,ki(Ol)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Ys(),ki(Pi),ki(Ai),no();break;case 5:Js(r);break;case 4:Ys();break;case 13:case 19:ki(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Pl=e,Rl=e=Ou(e.current,null),Nl=xl=t,Dl=0,Ll=null,Ul=Fl=Ml=0,zl=Vl=null,null!==Ns){for(t=0;t<Ns.length;t++)if(null!==(r=(n=Ns[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ns=null}return e}function fu(e,t){for(;;){var n=Rl;try{if(Is(),ro.current=Jo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,Il.current=null,null===n||null===n.return){Dl=1,Ll=t,Rl=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Nl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ga(o,c,t),gu();break e}u=Error(s(426))}else if(is&&1&l.mode){var y=ma(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),ps(ua(u,l));break e}}o=u=ua(u,l),4!==Dl&&(Dl=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,js(o,fa(0,u,t));break e;case 1:l=u;var v=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Wl||!Wl.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,js(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function pu(){var e=kl.current;return kl.current=Jo,null===e?Jo:e}function gu(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Pl||0===(268435455&Ml)&&0===(268435455&Fl)||au(Pl,Nl)}function mu(e,t){var n=Al;Al|=2;var r=pu();for(Pl===e&&Nl===t||($l=null,du(e,t));;)try{yu();break}catch(i){fu(e,i)}if(Is(),Al=n,kl.current=r,null!==Rl)throw Error(s(261));return Pl=null,Nl=0,Dl}function yu(){for(;null!==Rl;)_u(Rl)}function vu(){for(;null!==Rl&&!Qe();)_u(Rl)}function _u(e){var t=Sl(e.alternate,e,xl);e.memoizedProps=e.pendingProps,null===t?bu(e):Rl=t,Il.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,xl)))return void(Rl=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Dl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wu(e,t,n){var r=_t,i=Cl.transition;try{Cl.transition=null,_t=1,function(e,t,n,r){do{Eu()}while(null!==Gl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Pl&&(Rl=Pl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pu(tt,(function(){return Eu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=_t;_t=1;var l=Al;Al|=4,Il.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){Tu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Al=l,_t=a,Cl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Ql=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&Eu(),o=e.pendingLanes,0!==(1&o)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,_t=r}return null}function Eu(){if(null!==Gl){var e=bt(Ql),t=Cl.transition,n=_t;try{if(Cl.transition=null,_t=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ja=c;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===c){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ja=v;break e}Ja=o.return}}var _=e.current;for(Ja=_;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=_;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Tu(l,l.return,E)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Al=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{_t=n,Cl.transition=t}}return!1}function Su(e,t,n){e=Vs(e,t=fa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Tu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Vs(t,e=pa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Nl&n)===n&&(4===Dl||3===Dl&&(130023424&Nl)===Nl&&500>Xe()-jl?du(e,0):Ul|=n),ru(e,t)}function Iu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ds(e,t))&&(yt(e,t,n),ru(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Iu(e,n)}function Pu(e,t){return Ke(e,t)}function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Ru(e,t,n,r)}function xu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)xu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Lu(n.children,i,o,t);case T:a=8,i|=8;break;case k:return(e=Nu(12,n,t,2|i)).elementType=k,e.lanes=o,e;case P:return(e=Nu(13,n,t,i)).elementType=P,e.lanes=o,e;case R:return(e=Nu(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Mu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case C:a=9;break e;case A:a=11;break e;case N:a=14;break e;case x:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lu(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,i,s,o,a,l){return e=new Vu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Nu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function ju(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(xi(n))return Li(e,n,t)}return t}function Bu(e,t,n,r,i,s,o,a,l){return(e=zu(n,r,!0,e,0,s,0,a,l)).context=ju(null),n=e.current,(s=Us(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function $u(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,o))&&(nu(e,i,o,s),zs(e,i,o)),o}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),fs();break;case 5:Xs(t);break;case 1:xi(t.type)&&Mi(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ii(Zs,1&Zs.current),null!==(e=qa(e,t,n))?e.sibling:null);Ii(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return qa(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$a(e,t),e=t.pendingProps;var i=Ni(t,Ai.current);Ps(t,n),i=mo(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Aa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($a(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return xu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Pa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fs(e,t),Bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ra(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Fa(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ii(Es,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Pi.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Us(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),As(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),As(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ps(t,n),r=r(i=Rs(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ea(e,t,r,i=na(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),$a(e,t),t.tag=1,xi(r)?(e=!0,Mi(t)):e=!1,Ps(t,n),oa(t,r,i),la(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=qu(o);a.call(e)}}$u(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qu(o);s.call(e)}}var o=Bu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qu(l);a.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),cu((function(){$u(t,l,n,r)})),l}(n,t,e,i,r);return qu(o)}Qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$u(e,t,null,null)},Qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){$u(null,e,null,null)})),t[pi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Xe()),0===(6&Al)&&(Bl=Xe()+500,Bi()))}break;case 13:cu((function(){var t=Ds(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Wu(e,1)}},Et=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nu(t,e,134217728,eu());Wu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Ds(e,t);if(null!==n)nu(n,e,t,eu());Wu(e,t)}},Tt=function(){return _t},kt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uu,Pe=cu;var ec={usingClientEntryPoint:!1,Events:[_i,bi,wi,Ie,Ce,uu]},tc={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(s(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(s(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},855:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessages=void 0;t.errorMessages={genericNoUnityInstance:"No Unity Instance found.",requestFullscreenNoUnityInstance:"Unable to Set Fullscreen while Unity is not Instantiated.",requestPointerLockNoUnityInstanceOrCanvas:"Unable to Request Pointer Lock while Unity is not Instantiated or the Canvas is not found.",sendMessageNoUnityInstance:"Unable to Send Message while Unity is not Instantiated.",quitNoUnityInstance:"Unable to Quit Unity while Unity is not Instantiated.",screenshotNoUnityInstanceOrCanvas:"Unable to Take Screenshot while Unity is not Instantiated or Canvas is not available.",noEventListener:"Unable to find Event Listener in Event System for Event"}},947:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UnityLoaderStatus=void 0,function(e){e.Idle="Idle",e.Loading="Loading",e.Loaded="Loaded",e.Error="Error"}(n||(t.UnityLoaderStatus=n={}))},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},969:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.useEventSystem=void 0;var i=n(43),s=n(855),o=n(711),a=[];!0===o.isBrowserEnvironment&&(window.dispatchReactUnityEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=void 0;return a.forEach((function(n){i=n.apply(void 0,r([e],t,!1))})),i});t.useEventSystem=function(){var e=(0,i.useRef)([]),t=(0,i.useCallback)((function(t,n){e.current=r(r([],e.current,!0),[{eventName:t,callback:n}],!1)}),[e]),n=(0,i.useCallback)((function(t,n){e.current=e.current.filter((function(e){return e.eventName!==t&&e.callback!==n}))}),[e]),o=(0,i.useCallback)((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e.current.find((function(e){return e.eventName===t}));if("undefined"!==typeof i)return i.callback.apply(i,n);console.warn(s.errorMessages.noEventListener,{eventName:t})}),[e]);return(0,i.useEffect)((function(){return a.push(o),function(){a.splice(a.indexOf(o),1)}}),[o]),{addEventListener:t,removeEventListener:n}}},984:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(l){a=[6,l],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useUnityInstance=void 0;var s=n(43),o=n(947),a=n(711);t.useUnityInstance=function(e,t,n,l){(0,s.useEffect)((function(){r(void 0,void 0,void 0,(function(){var r,s;return i(this,(function(i){switch(i.label){case 0:if(!1===a.isBrowserEnvironment)return[2];if(e!==o.UnityLoaderStatus.Loaded||null===t)return l.setUnityInstance(null),l.setInitialisationError(null),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,window.createUnityInstance(t,n,l.setLoadingProgression)];case 2:return r=i.sent(),l.setUnityInstance(r),l.setInitialisationError(null),[3,4];case 3:return s=i.sent(),l.setUnityInstance(null),l.setInitialisationError(s),[3,4];case 4:return[2]}}))}))}),[e,t,n,l])}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".ebfc429b.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="zorixshooterbuildtest:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ZorixShooterBuildTestBranch/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkzorixshooterbuildtest=self.webpackChunkzorixshooterbuildtest||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e=n(43),t=n(391),r=n(397);const i=()=>{var e;return"undefined"!=typeof window&&null!=(e=window)&&null!=(e=e.Telegram)&&e.WebApp?window.Telegram.WebApp:null},s=(0,e.createContext)(i()),o={smoothButtonsTransition:!1,smoothButtonsTransitionMs:10},a=((0,e.createContext)(o),(0,e.createContext)({MainButton:{current:null},BackButton:{current:null}}),()=>(0,e.useContext)(s));var l,u,c,h;function d(e){return{lang:e?.lang??l?.lang,message:e?.message,abortEarly:e?.abortEarly??l?.abortEarly,abortPipeEarly:e?.abortPipeEarly??l?.abortPipeEarly}}function f(e){const t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function p(e,t,n,r,i){const s=i&&"input"in i?i.input:n.value,o=i?.expected??e.expects??null,a=i?.received??f(s),l={kind:e.kind,type:e.type,input:s,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},d="schema"===e.kind,p=i?.message??e.message??(g=e.reference,m=l.lang,h?.get(g)?.get(m))??(d?function(e){return c?.get(e)}(l.lang):null)??r.message??function(e){return u?.get(e)}(l.lang);var g,m;void 0!==p&&(l.message="function"===typeof p?p(l):p),d&&(n.typed=!1),n.issues?n.issues.push(l):n.issues=[l]}function g(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},d())}}function m(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}var y=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function v(e,t,n){return"function"===typeof e.fallback?e.fallback(t,n):e.fallback}function _(e,t,n){return"function"===typeof e.default?e.default(t,n):e.default}function b(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function w(){return{kind:"schema",type:"any",reference:w,expects:"any",async:!1,get"~standard"(){return g(this)},"~run":e=>(e.typed=!0,e)}}function E(e){return{kind:"schema",type:"boolean",reference:E,expects:"boolean",async:!1,message:e,get"~standard"(){return g(this)},"~run"(e,t){return"boolean"===typeof e.value?e.typed=!0:p(this,"type",e,t),e}}}function S(e){return{kind:"schema",type:"function",reference:S,expects:"Function",async:!1,message:e,get"~standard"(){return g(this)},"~run"(e,t){return"function"===typeof e.value?e.typed=!0:p(this,"type",e,t),e}}}function T(e,t){return{kind:"schema",type:"loose_object",reference:T,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return g(this)},"~run"(e,t){const n=e.value;if(n&&"object"===typeof n){e.typed=!0,e.value={};for(const r in this.entries){const i=this.entries[r];if(r in n||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){const s=r in n?n[r]:_(i),o=i["~run"]({value:s},t);if(o.issues){const i={type:"object",origin:"value",input:n,key:r,value:s};for(const t of o.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[r]=o.value}else if(void 0!==i.fallback)e.value[r]=v(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(p(this,"key",e,t,{input:void 0,expected:`"${r}"`,path:[{type:"object",origin:"key",input:n,key:r,value:n[r]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(const t in n)m(n,t)&&!(t in this.entries)&&(e.value[t]=n[t])}else p(this,"type",e,t);return e}}}function k(e,t){return{kind:"schema",type:"nullish",reference:k,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return g(this)},"~run"(e,t){return null!==e.value&&void 0!==e.value||(void 0!==this.default&&(e.value=_(this,e,t)),null!==e.value&&void 0!==e.value)?this.wrapped["~run"](e,t):(e.typed=!0,e)}}}function I(e){return{kind:"schema",type:"number",reference:I,expects:"number",async:!1,message:e,get"~standard"(){return g(this)},"~run"(e,t){return"number"!==typeof e.value||isNaN(e.value)?p(this,"type",e,t):e.typed=!0,e}}}function C(e,t){return{kind:"schema",type:"optional",reference:C,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return g(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=_(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function A(e){return{kind:"schema",type:"string",reference:A,expects:"string",async:!1,message:e,get"~standard"(){return g(this)},"~run"(e,t){return"string"===typeof e.value?e.typed=!0:p(this,"type",e,t),e}}}function P(e,t,n){const r=e["~run"]({value:t},d(n));if(r.issues)throw new y(r.issues);return r.value}var R=Object.defineProperty,N=(e,t,n)=>((e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),x=Object.defineProperty,O=(e,t,n)=>((e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,t+"",n);function D(e,t){return n=>n instanceof e&&n.type===t}function L(e,t){t||(t=[]);const n=Symbol(e);class r extends Error{constructor(){super(..."function"==typeof t?t(...arguments):"string"==typeof t?[t]:t||[]),O(this,"type",n),this.name=e}}return Object.defineProperty(r,"name",{value:e}),[r,D(r,n)]}const[M,F]=L("CancelledError","Promise was canceled"),[U,V]=L("TimeoutError",((e,t)=>[`Timeout reached: ${e}ms`,{cause:t}])),z=Symbol("Resolved");function j(e){return Array.isArray(e)&&e[0]===z}function B(e,t){return e.reject=t.reject,e.abort=t.abort,e}class $ extends Promise{constructor(e,t){let n,r;super(((i,s)=>{let o,a;"function"==typeof e?(o=e,a=t):a=e;const l=[],u=e=>function(){const t=e(...arguments);return l.forEach((e=>e())),t},c=new AbortController,{signal:h}=c;r=e=>{!h.aborted&&c.abort(e)};const d=()=>h.reason,f=e=>{const t=()=>{e(d())};h.addEventListener("abort",t,!0);const n=()=>{h.removeEventListener("abort",t,!0)};return l.push(n),n},p=u((e=>{i(e),r(function(e){return[z,e]}(e))}));n=u((e=>{s(e),r(e)})),a||(a={});const{abortSignal:g,rejectOnAbort:m=!0}=a;if(g)if(g.aborted){const{reason:e}=g;if(m)return n(e);r(e)}else{const e=()=>{r(g.reason)};g.addEventListener("abort",e),l.push((()=>{g.removeEventListener("abort",e)}))}m&&f(s);const{timeout:y}=a;if(y){const e=setTimeout((()=>{r(new U(y))}),y);l.push((()=>{clearTimeout(e)}))}const v=()=>h.aborted,_=()=>j(d()),b=()=>{const e=d();return j(e)?e[1]:void 0};try{const e=o&&o(p,n,{abortReason:d,abortSignal:h,isAborted:v,isResolved:_,onAborted:f,onResolved:e=>f((()=>{_()&&e(b())})),resolved:b,throwIfAborted(){if(v())throw d()}});e instanceof Promise&&e.catch(n)}catch(w){n(w)}})),N(this,"abort"),N(this,"reject"),this.abort=r,this.reject=n}static fn(e,t){return new $((async(t,n,r)=>{try{t(await e(r))}catch(i){n(i)}}),t)}static resolve(e){return this.fn((()=>e))}static reject(e){return new $(((t,n)=>{n(e)}))}cancel(){this.abort(new M)}catch(e){return this.then(void 0,e)}finally(e){return B(super.finally(e),this)}then(e,t){return B(super.then(e,t),this)}}function q(e,t){return e.resolve=t.resolve,e}class H extends ${constructor(e,t){let n,r,i;"function"==typeof e?(n=e,r=t):r=e,super(((e,t,r)=>{i=e,n&&n(e,t,r)}),r),N(this,"resolve"),this.resolve=i}static fn(e,t){return new H(((t,n,r)=>{try{Promise.resolve(e(r)).then(t,n)}catch(i){n(i)}}),t)}static resolve(e){return this.fn((()=>e))}static reject(e){return new H(((t,n)=>{n(e)}))}catch(e){return this.then(void 0,e)}finally(e){return q(super.finally(e),this)}then(e,t){return q(super.then(e,t),this)}}function W(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}function K(e){const t=function(e){return Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return e[function(e){return e.replace(/_[a-z]/g,(e=>e[1].toUpperCase()))}(n)]=r,e}),{})}(e);for(const n in t){const e=t[n];e&&"object"==typeof e&&!(e instanceof Date)&&(t[n]=Array.isArray(e)?e.map(K):K(e))}return t}function G(e){return`tapps/${e}`}function Q(e,t){sessionStorage.setItem(G(e),JSON.stringify(t))}function Y(e){const t=sessionStorage.getItem(G(e));try{return t?JSON.parse(t):void 0}catch{}}function X(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.flat(1);return[r.push.bind(r),()=>{r.forEach((e=>{e()}))}]}function J(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:i}=t,s=void 0===i||i,o="boolean"==typeof s?()=>s:s,a=function(t,i){if(i||o()){const i="font-weight:bold;padding:0 5px;border-radius:100px",[o,u,c]={log:["#0089c3","white","INFO"],error:["#ff0000F0","white","ERR"],warn:["#D38E15","white","WARN"]}[t];for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];console[t](`%c${c} ${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c %c${e}`,`${i};background-color:${o};color:${u}`,"",`${i};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...a)}};return[["log","forceLog"],["warn","forceWarn"],["error","forceError"]].reduce(((e,t)=>{let[n,r]=t;return e[n]=a.bind(void 0,n,!1),e[r]=a.bind(void 0,n,!0),e}),{})}function Z(e){return{lang:(null==e?void 0:e.lang)??void 0,message:null==e?void 0:e.message,abortEarly:(null==e?void 0:e.abortEarly)??void 0,abortPipeEarly:(null==e?void 0:e.abortPipeEarly)??void 0}}function ee(e,t){var n;return null==(n=void 0)?void 0:n.get(t)}function te(e){var t,n;const r=typeof e;return"string"===r?`"${e}"`:"number"===r||"bigint"===r||"boolean"===r?`${e}`:"object"===r||"function"===r?(e&&(null==(n=null==(t=Object.getPrototypeOf(e))?void 0:t.constructor)?void 0:n.name))??"null":r}function ne(e,t,n,r,i){const s=i&&"input"in i?i.input:n.value,o=(null==i?void 0:i.expected)??e.expects??null,a=(null==i?void 0:i.received)??te(s),l={kind:e.kind,type:e.type,input:s,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:null==i?void 0:i.path,issues:null==i?void 0:i.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},u="schema"===e.kind,c=(null==i?void 0:i.message)??e.message??ee(e.reference,l.lang)??(u?void l.lang:null)??r.message??void l.lang;c&&(l.message="function"==typeof c?c(l):c),u&&(n.typed=!1),n.issues?n.issues.push(l):n.issues=[l]}function re(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},Z())}}function ie(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}function se(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var oe=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function ae(e,t){return{kind:"validation",type:"check",reference:ae,async:!1,expects:null,requirement:e,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&ne(this,"input",e,t),e}}}function le(e){return{kind:"validation",type:"integer",reference:le,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&ne(this,"integer",e,t),e}}}function ue(e){return{kind:"transformation",type:"transform",reference:ue,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function ce(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function he(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function de(e){return{kind:"schema",type:"boolean",reference:de,expects:"boolean",async:!1,message:e,get"~standard"(){return re(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:ne(this,"type",e,t),e}}}function fe(e){return{kind:"schema",type:"date",reference:fe,expects:"Date",async:!1,message:e,get"~standard"(){return re(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?ne(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:ne(this,"type",e,t),e}}}function pe(e,t){return{kind:"schema",type:"instance",reference:pe,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return re(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:ne(this,"type",e,t),e}}}function ge(e){return{kind:"schema",type:"lazy",reference:ge,expects:"unknown",async:!1,getter:e,get"~standard"(){return re(this)},"~run"(e,t){return this.getter(e.value)["~run"](e,t)}}}function me(e,t){return{kind:"schema",type:"loose_object",reference:me,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return re(this)},"~run"(e,t){var n;const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const i in this.entries){const s=this.entries[i];if(i in r||("exact_optional"===s.type||"optional"===s.type||"nullish"===s.type)&&void 0!==s.default){const o=i in r?r[i]:ce(s),a=s["~run"]({value:o},t);if(a.issues){const s={type:"object",origin:"value",input:r,key:i,value:o};for(const t of a.issues)t.path?t.path.unshift(s):t.path=[s],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value[i]=a.value}else if("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type&&(ne(this,"key",e,t,{input:void 0,expected:`"${i}"`,path:[{type:"object",origin:"key",input:r,key:i,value:r[i]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(const t in r)ie(r,t)&&!(t in this.entries)&&(e.value[t]=r[t])}else ne(this,"type",e,t);return e}}}function ye(e){return{kind:"schema",type:"number",reference:ye,expects:"number",async:!1,message:e,get"~standard"(){return re(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?ne(this,"type",e,t):e.typed=!0,e}}}function ve(e,t){return{kind:"schema",type:"optional",reference:ve,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return re(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=ce(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function _e(e,t,n){return{kind:"schema",type:"record",reference:_e,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return re(this)},"~run"(e,t){var n,r;const i=e.value;if(i&&"object"==typeof i){e.typed=!0,e.value={};for(const s in i)if(ie(i,s)){const o=i[s],a=this.key["~run"]({value:s},t);if(a.issues){const r={type:"object",origin:"key",input:i,key:s,value:o};for(const t of a.issues)t.path=[r],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}const l=this.value["~run"]({value:o},t);if(l.issues){const n={type:"object",origin:"value",input:i,key:s,value:o};for(const t of l.issues)t.path?t.path.unshift(n):t.path=[n],null==(r=e.issues)||r.push(t);if(e.issues||(e.issues=l.issues),t.abortEarly){e.typed=!1;break}}(!a.typed||!l.typed)&&(e.typed=!1),a.typed&&(e.value[a.value]=l.value)}}else ne(this,"type",e,t);return e}}}function be(e){return{kind:"schema",type:"string",reference:be,expects:"string",async:!1,message:e,get"~standard"(){return re(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:ne(this,"type",e,t),e}}}function we(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Ee(e,t){return{kind:"schema",type:"union",reference:Ee,expects:se(e.map((e=>e.expects)),"|"),async:!1,options:e,message:t,get"~standard"(){return re(this)},"~run"(e,t){let n,r,i;for(const s of this.options){const o=s["~run"]({value:e.value},t);if(o.typed){if(!o.issues){n=o;break}r?r.push(o):r=[o]}else i?i.push(o):i=[o]}if(n)return n;if(r){if(1===r.length)return r[0];ne(this,"type",e,t,{issues:we(r)}),e.typed=!0}else{if(1===(null==i?void 0:i.length))return i[0];ne(this,"type",e,t,{issues:we(i)})}return e}}}function Se(){return{kind:"schema",type:"unknown",reference:Se,expects:"unknown",async:!1,get"~standard"(){return re(this)},"~run":e=>(e.typed=!0,e)}}function Te(e,t,n){const r=e["~run"]({value:t},Z(n));if(r.issues)throw new oe(r.issues);return r.value}function ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{...t[0],pipe:t,get"~standard"(){return re(this)},"~run"(e,n){for(const r of t)if("metadata"!==r.kind){if(e.issues&&("schema"===r.kind||"transformation"===r.kind)){e.typed=!1;break}(!e.issues||!n.abortEarly&&!n.abortPipeEarly)&&(e=r["~run"](e,n))}return e}}}function Ie(e){const t=function(e){return Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return e[function(e){return e.replace(/_[a-z]/g,(e=>e[1].toUpperCase()))}(n)]=r,e}),{})}(e);for(const n in t){const e=t[n];e&&"object"==typeof e&&!(e instanceof Date)&&(t[n]=Array.isArray(e)?e.map(Ie):Ie(e))}return t}function Ce(e){return ue((t=>e?Ie(t):t))}function Ae(e){return t=>ke(e,Ce(t))}function Pe(e){return(t,n)=>Te(ke(e,Ce(n)),t)}function Re(){return ue(JSON.parse)}function Ne(e){const t=Ae(e);return e=>ke(be(),Re(),t(e))}function xe(e){return ue((t=>{const n={};return new URLSearchParams(t).forEach(((e,t)=>{const r=n[t];Array.isArray(r)?r.push(e):n[t]=void 0===r?e:[r,e]})),Te(e,n)}))}function Oe(e){return t=>ke(Ee([be(),pe(URLSearchParams)]),xe(e),Ce(t))}const De=ve(ge((()=>Ve()))),Le=me({id:ye(),photo_url:ve(be()),type:be(),title:be(),username:ve(be())}),Me=me({added_to_attachment_menu:ve(de()),allows_write_to_pm:ve(de()),first_name:be(),id:ye(),is_bot:ve(de()),is_premium:ve(de()),last_name:ve(be()),language_code:ve(be()),photo_url:ve(be()),username:ve(be())}),Fe=me({auth_date:ke(be(),ue((e=>new Date(1e3*Number(e)))),fe()),can_send_after:ve(ke(be(),ue(Number),le())),chat:ve(ge((()=>Ue()))),chat_type:ve(be()),chat_instance:ve(be()),hash:be(),query_id:ve(be()),receiver:De,start_param:ve(be()),signature:be(),user:De}),Ue=Ne(Le),Ve=Ne(Me),ze=Oe(Fe);function je(e){return/^#[\da-f]{6}$/i.test(e)}const Be=Ae(_e(be(),ke(Ee([be(),ye()]),ue((e=>"number"==typeof e?`#${(16777215&e).toString(16).padStart(6,"0")}`:e)),ae(je)))),$e=ve(ke(be(),ue((e=>"1"===e)))),qe=Ne(Be()),He=Oe(me({tgWebAppBotInline:$e,tgWebAppData:ve(ze()),tgWebAppDefaultColors:ve(qe()),tgWebAppFullscreen:$e,tgWebAppPlatform:be(),tgWebAppShowSettings:$e,tgWebAppStartParam:ve(be()),tgWebAppThemeParams:qe(),tgWebAppVersion:be()})),We=(Pe(ze()),Pe(He())),Ke=me({eventType:be(),eventData:ve(Se())});function Ge(e){try{return he(He(),e)}catch{return!1}}let Qe;function Ye(e){if(Qe)return e();Qe=new Map;try{e()}finally{Qe.forEach((e=>e())),Qe=void 0}}function Xe(e,t){t||(t={});const n=t.equals||Object.is;let r=[],i=e;const s=e=>{if(!n(i,e)){const t=i;i=e,function(e,t){Qe&&Qe.set(e,t)||t()}(l,(()=>{[...r].forEach((n=>{let[r,i]=n;r(e,t),i&&a(r,!0)}))}))}};function o(e){const t="object"!=typeof e?{once:e}:e;return{once:t.once||!1,signal:t.signal||!1}}const a=(e,t)=>{const n=o(t),i=r.findIndex((t=>{let[r,i]=t;return r===e&&i.once===n.once&&i.signal===n.signal}));i>=0&&r.splice(i,1)},l=Object.assign((function(){return function(e){Je.length&&Je[Je.length-1].add(e)}(l),i}),{destroy(){r=[]},set:s,reset(){s(e)},sub:(e,t)=>(r.push([e,o(t)]),()=>a(e,t)),unsub:a,unsubAll(){r=r.filter((e=>e[1].signal))}});return l}const Je=[];var Ze=Object.defineProperty,et=(e,t,n)=>((e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);function tt(e,t){return n=>n instanceof e&&n.type===t}function nt(e,t){t||(t=[]);const n=Symbol(e);class r extends Error{constructor(){super(..."function"==typeof t?t(...arguments):"string"==typeof t?[t]:t||[]),et(this,"type",n),this.name=e}}return Object.defineProperty(r,"name",{value:e}),[r,tt(r,n)]}function rt(e){return b(T({TelegramWebviewProxy:T({postEvent:S()})}),e)}function it(){try{return window.self!==window.top}catch{return!0}}function st(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let ot=!1;const at=Xe(J("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:()=>ot}));function lt(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:n,set:r})}function ut(e,t){const n=e[t];lt(e,t,(()=>n),(e=>{Object.entries(e).forEach((e=>{let[t,r]=e;n[t]=r}))}))}function ct(e,t,n){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}function ht(e,t,n){const r=e[t],i=[n];"function"==typeof r&&i.push(r);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.forEach((e=>{e(...t)}))},o=Object.assign((function(){s(...arguments)}),{unwrap(){const{length:n}=i;1!==n?2!==n?(i.unshift(1),ct(e,t,s)):ct(e,t,i[1]):delete e[t]}});lt(e,t,(()=>o),(e=>{i.push(e)}))}const dt={clipboard_text_received:T({req_id:A(),data:k(A())}),custom_method_invoked:T({req_id:A(),result:C(function e(){return{kind:"schema",type:"unknown",reference:e,expects:"unknown",async:!1,get"~standard"(){return g(this)},"~run":e=>(e.typed=!0,e)}}()),error:C(A())}),popup_closed:k(T({button_id:k(A(),(()=>{}))}),{}),viewport_changed:T({height:I(),width:k(I(),(()=>window.innerWidth)),is_state_stable:E(),is_expanded:E()}),theme_changed:T({theme_params:Be()})};function ft(e){if(e.source!==window.parent)return;let t;try{t=P(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{...t[0],pipe:t,get"~standard"(){return g(this)},"~run"(e,n){for(const r of t)if("metadata"!==r.kind){if(e.issues&&("schema"===r.kind||"transformation"===r.kind)){e.typed=!1;break}e.issues&&(n.abortEarly||n.abortPipeEarly)||(e=r["~run"](e,n))}return e}}}(A(),Re(),Ke),e.data)}catch{return}const{eventType:n,eventData:r}=t,s=dt[n];let o;try{o=s?P(s,r):r}catch(i){return at().forceError([`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join("\n"),t,i)}mt(n,o)}const[pt,gt,mt,yt]=function(e,t){const n=new Map,r=function(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map((function(e){e(n)})),(r=e.get("*"))&&r.slice().map((function(e){e(t,n)}))}}}(),i=(e,i,s)=>{s||(s=!1);const o=n.get(e)||new Map;n.set(e,o);const a=o.get(i)||[];o.set(i,a);const l=a.findIndex((e=>e[1]===s));if(l>=0&&(r.off(e,a[l][0]),a.splice(l,1),!a.length&&(o.delete(i),!o.size))){const r=n.size;n.delete(e),r&&!n.size&&t()}};return[function(t,s,o){!n.size&&e();const a=()=>{i(t,s,o)},l=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];o&&a(),"*"===t?s(n):s(...n)};r.on(t,l);const u=n.get(t)||new Map;n.set(t,u);const c=u.get(s)||[];return u.set(s,c),c.push([l,o||!1]),a},i,r.emit,function(){const e=n.size;r.all.clear(),n.clear(),e&&t()}]}((()=>{const e=window;!e.TelegramGameProxy&&(e.TelegramGameProxy={}),ht(e.TelegramGameProxy,"receiveEvent",st),ut(e,"TelegramGameProxy"),!e.Telegram&&(e.Telegram={}),!e.Telegram.WebView&&(e.Telegram.WebView={}),ht(e.Telegram.WebView,"receiveEvent",st),ut(e.Telegram,"WebView"),ht(e,"TelegramGameProxy_receiveEvent",st),window.addEventListener("message",ft)}),(()=>{[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach((e=>{const t=window;let n=[void 0,t];for(const s of e)if(n=[n[1],n[1][s]],!n[1])return;const[r,i]=n;"unwrap"in i&&(i.unwrap(),r&&r!==t&&!Object.keys(r).length&&delete t[e[0]])})),window.removeEventListener("message",ft)})),[vt,_t]=nt("MethodUnsupportedError",((e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`])),[bt,wt]=nt("MethodParameterUnsupportedError",((e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`])),[Et,St]=function(e,t,n){const r=Symbol(e);class i extends nt(e,n)[0]{constructor(){super(...arguments),et(this,"data"),et(this,"type",r),this.data=t(...arguments)}}return Object.defineProperty(i,"name",{value:e}),[i,tt(i,r)]}("LaunchParamsRetrieveError",(e=>({errors:e})),(e=>[["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","\ud83d\udcd6 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment","","Collected errors:",...e.map((e=>{let[t,n]=e;return`Source: ${t} / ${n instanceof Error?n.message:String(n)}`}))].join("\n")])),[Tt,kt]=nt("InvalidLaunchParamsError",((e,t)=>[`Invalid value for launch params: ${e}`,{cause:t}])),[It,Ct]=nt("UnknownEnvError"),[At,Pt]=nt("InvokeCustomMethodError",(e=>[`Server returned error: ${e}`])),Rt=Xe((function(){try{window.parent.postMessage(...arguments)}catch(e){e instanceof SyntaxError?at().forceError("Unable to call window.parent.postMessage due to incorrectly configured target origin. Use the setTargetOrigin method to allow this origin to receive events",e):at().forceError(e)}})),Nt=Xe("https://web.telegram.org");function xt(e,t){at().log("Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window,r=JSON.stringify({eventType:e,eventData:t});if(it())return function(){return Rt()(...arguments)}(r,Nt());if(rt(n))n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));else{if(!b(T({external:T({notify:S()})}),n))throw new It;n.external.notify(r)}}function Ot(e,t,n){n||(n={});const{capture:r}=n,[i,s]=X();return new $((s=>{(Array.isArray(t)?t:[t]).forEach((e=>{i(pt(e,(n=>{(!r||(Array.isArray(t)?r({event:e,payload:n}):r(n)))&&s(n)})))})),(n.postEvent||xt)(e,n.params)}),n).finally(s)}const Dt="launchParams";function Lt(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function Mt(){const e=[];for(const[t,n]of[[()=>Lt(window.location.href),"window.location.href"],[()=>{const e=performance.getEntriesByType("navigation")[0];return e&&Lt(e.name)},"performance navigation entries"],[()=>Y(Dt),"local storage"]]){const r=t();if(r){if(Ge(r))return Q(Dt,r),r;try{We(r)}catch(s){e.push([n,s])}}else e.push([n,new Error("Source is empty")])}throw new Et(e)}function Ft(e){const t=We(Mt());return e?K(t):t}function Ut(e,t){if(!e)try{return Ft(),!0}catch{return!1}return $.fn((async e=>{if(rt(window))return!0;try{return await Ot("web_app_request_theme","theme_changed",e),!0}catch{return!1}}),t||{timeout:100})}function Vt(e){return t=>{let{req_id:n}=t;return n===e}}function zt(e){return e.split(".").map(Number)}function jt(e,t){return function(e,t){const n=zt(e),r=zt(t),i=Math.max(n.length,r.length);for(let s=0;s<i;s+=1){const e=n[s]||0,t=r[s]||0;if(e!==t)return e>t?1:-1}return 0}(e,t)<=0}function Bt(e,t,n){if("string"==typeof n){if("web_app_open_link"===e){if("try_instant_view"===t)return jt("6.4",n);if("try_browser"===t)return jt("7.6",n)}if("web_app_set_header_color"===e&&"color"===t)return jt("6.9",n);if("web_app_close"===e&&"return_back"===t)return jt("7.6",n);if("web_app_setup_main_button"===e&&"has_shine_effect"===t)return jt("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return jt("6.1",t);case"web_app_open_popup":return jt("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return jt("6.4",t);case"web_app_switch_inline_query":return jt("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return jt("6.9",t);case"web_app_setup_settings_button":return jt("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return jt("7.2",t);case"web_app_setup_swipe_behavior":return jt("7.7",t);case"web_app_share_to_story":return jt("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return jt("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return jt("8.0",t);case"web_app_device_storage_clear":case"web_app_device_storage_get_key":case"web_app_device_storage_save_key":case"web_app_secure_storage_clear":case"web_app_secure_storage_get_key":case"web_app_secure_storage_restore_key":case"web_app_secure_storage_save_key":return jt("9.0",t);case"web_app_hide_keyboard":return jt("9.1",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function $t(){const e=performance.getEntriesByType("navigation")[0];return!!e&&"reload"===e.type}var qt,Ht,Wt,Kt;function Gt(e){return{lang:e?.lang??qt?.lang,message:e?.message,abortEarly:e?.abortEarly??qt?.abortEarly,abortPipeEarly:e?.abortPipeEarly??qt?.abortPipeEarly}}function Qt(e){const t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function Yt(e,t,n,r,i){const s=i&&"input"in i?i.input:n.value,o=i?.expected??e.expects??null,a=i?.received??Qt(s),l={kind:e.kind,type:e.type,input:s,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},u="schema"===e.kind,c=i?.message??e.message??(h=e.reference,d=l.lang,Kt?.get(h)?.get(d))??(u?function(e){return Wt?.get(e)}(l.lang):null)??r.message??function(e){return Ht?.get(e)}(l.lang);var h,d;void 0!==c&&(l.message="function"===typeof c?c(l):c),u&&(n.typed=!1),n.issues?n.issues.push(l):n.issues=[l]}function Xt(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},Gt())}}function Jt(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}function Zt(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var en=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function tn(e){return{kind:"transformation",type:"transform",reference:tn,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function nn(e,t,n){return"function"===typeof e.fallback?e.fallback(t,n):e.fallback}function rn(e,t,n){return"function"===typeof e.default?e.default(t,n):e.default}function sn(e,t){return{kind:"schema",type:"array",reference:sn,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return Xt(this)},"~run"(e,t){const n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(let r=0;r<n.length;r++){const i=n[r],s=this.item["~run"]({value:i},t);if(s.issues){const o={type:"array",origin:"value",input:n,key:r,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else Yt(this,"type",e,t);return e}}}function on(e){return{kind:"schema",type:"date",reference:on,expects:"Date",async:!1,message:e,get"~standard"(){return Xt(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?Yt(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:Yt(this,"type",e,t),e}}}function an(e,t){return{kind:"schema",type:"instance",reference:an,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return Xt(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:Yt(this,"type",e,t),e}}}function ln(e,t){return{kind:"schema",type:"loose_object",reference:ln,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return Xt(this)},"~run"(e,t){const n=e.value;if(n&&"object"===typeof n){e.typed=!0,e.value={};for(const r in this.entries){const i=this.entries[r];if(r in n||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){const s=r in n?n[r]:rn(i),o=i["~run"]({value:s},t);if(o.issues){const i={type:"object",origin:"value",input:n,key:r,value:s};for(const t of o.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[r]=o.value}else if(void 0!==i.fallback)e.value[r]=nn(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(Yt(this,"key",e,t,{input:void 0,expected:`"${r}"`,path:[{type:"object",origin:"key",input:n,key:r,value:n[r]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(const t in n)Jt(n,t)&&!(t in this.entries)&&(e.value[t]=n[t])}else Yt(this,"type",e,t);return e}}}function un(e){return{kind:"schema",type:"number",reference:un,expects:"number",async:!1,message:e,get"~standard"(){return Xt(this)},"~run"(e,t){return"number"!==typeof e.value||isNaN(e.value)?Yt(this,"type",e,t):e.typed=!0,e}}}function cn(e,t){return{kind:"schema",type:"optional",reference:cn,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return Xt(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=rn(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function hn(e,t,n){return{kind:"schema",type:"record",reference:hn,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return Xt(this)},"~run"(e,t){const n=e.value;if(n&&"object"===typeof n){e.typed=!0,e.value={};for(const r in n)if(Jt(n,r)){const i=n[r],s=this.key["~run"]({value:r},t);if(s.issues){const o={type:"object",origin:"key",input:n,key:r,value:i};for(const t of s.issues)t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}const o=this.value["~run"]({value:i},t);if(o.issues){const s={type:"object",origin:"value",input:n,key:r,value:i};for(const t of o.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}s.typed&&o.typed||(e.typed=!1),s.typed&&(e.value[s.value]=o.value)}}else Yt(this,"type",e,t);return e}}}function dn(e){return{kind:"schema",type:"string",reference:dn,expects:"string",async:!1,message:e,get"~standard"(){return Xt(this)},"~run"(e,t){return"string"===typeof e.value?e.typed=!0:Yt(this,"type",e,t),e}}}function fn(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function pn(e,t){return{kind:"schema",type:"union",reference:pn,expects:Zt(e.map((e=>e.expects)),"|"),async:!1,options:e,message:t,get"~standard"(){return Xt(this)},"~run"(e,t){let n,r,i;for(const s of this.options){const o=s["~run"]({value:e.value},t);if(o.typed){if(!o.issues){n=o;break}r?r.push(o):r=[o]}else i?i.push(o):i=[o]}if(n)return n;if(r){if(1===r.length)return r[0];Yt(this,"type",e,t,{issues:fn(r)}),e.typed=!0}else{if(1===i?.length)return i[0];Yt(this,"type",e,t,{issues:fn(i)})}return e}}}function gn(e,t,n){const r=e["~run"]({value:t},Gt(n));if(r.issues)throw new en(r.issues);return r.value}function mn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{...t[0],pipe:t,get"~standard"(){return Xt(this)},"~run"(e,n){for(const r of t)if("metadata"!==r.kind){if(e.issues&&("schema"===r.kind||"transformation"===r.kind)){e.typed=!1;break}e.issues&&(n.abortEarly||n.abortPipeEarly)||(e=r["~run"](e,n))}return e}}}function yn(e,t){return Xe(e,t)}function vn(e,t){return function(e,t){let n,r=new Set;function i(){return n||(n=Xe(o(),t))}function s(){i().set(o())}function o(){r.forEach((e=>{e.unsub(s,{signal:!0})}));const t=new Set;let n;Je.push(t);try{n=e()}finally{Je.pop()}return t.forEach((e=>{e.sub(s,{signal:!0})})),r=t,n}return Object.assign((function(){return i()()}),{destroy(){i().destroy()},sub(){return i().sub(...arguments)},unsub(){i().unsub(...arguments)},unsubAll(){i().unsubAll(...arguments)}})}(e,t)}function _n(e,t){const n=yn(e,t);return[n,vn(n)]}let bn=!1;const wn=Xe(J("Bridge",{bgColor:"forestgreen",textColor:"white",shouldLog:()=>bn})),En=yn(0),Sn=yn(xt),[Tn,kn]=_n({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),In=vn((()=>kn().tgWebAppVersion));function Cn(e){e||(e={});const{postEvent:t}=e,n=e.launchParams||Ft();Tn.set(n),Sn.set("function"==typeof t?t:function(e,t){t||(t="strict");const n="function"==typeof t?t:e=>{const{method:n,version:r}=e,i="param"in e?new bt(n,e.param,r):new vt(n,r);if("strict"===t)throw i;return at().forceWarn(i.message)};return(t,r)=>Bt(t,e)?"web_app_set_header_color"===t&&b(T({color:w()}),r)&&!Bt(t,"color",e)?n({version:e,method:t,param:"color"}):xt(t,r):n({version:e,method:t})}(n.tgWebAppVersion)),wn().log("The package was configured. Launch params:",Tn())}function An(){return En.set(En()+1),En().toString()}function Pn(e,t,n){return function(e,t,n,r){return Ot("web_app_invoke_custom_method","custom_method_invoked",{...r||{},params:{method:e,params:t,req_id:n},capture:Vt(n)}).then((e=>{let{result:t,error:n}=e;if(n)throw new At(n);return t}))}(e,t,An(),{...n||{},postEvent:Nn})}const Rn=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=Nn),Ot(e,t,n)),Nn=(e,t)=>Sn()(e,t);function xn(e){return vn((()=>Bt(e,In())))}function On(e){return[e]}const[Dn,Ln]=nt("CSSVarsBoundError","CSS variables are already bound"),[Mn,Fn]=nt("NotAvailableError",On),[Un,Vn]=nt("InvalidEnvError",On),[zn,jn]=nt("FunctionNotAvailableError",On),[Bn,$n]=nt("InvalidArgumentsError",((e,t)=>[e,{cause:t}])),[qn,Hn]=nt("ConcurrentCallError",On),[Wn,Kn]=nt("SetEmojiStatusError",(e=>[`Failed to set emoji status: ${e}`])),[Gn,Qn]=nt("AccessDeniedError",On),[Yn,Xn]=nt("FullscreenFailedError",On),[Jn,Zn]=nt("ShareMessageError",On),[er,tr]=nt("UnknownThemeParamsKeyError",(e=>[`Unknown theme params key passed: ${e}`]));function nr(){return typeof window>"u"}function rr(e,t,n){n||(n={});const{isSupported:r,isMounted:i,isMounting:s,component:o,supports:a}=n||{},l=`${o?`${o}.`:""}${e}()`,u=r?Array.isArray(r)||"object"==typeof r&&"any"in r?r:[r]:void 0;function c(e){if(a){const t=a[e];return Bt(t[0],t[1],In())}return!0}function h(){if(!u)return;const e=Array.isArray(u)?u:u.any,t=e.map((function(e){return"function"==typeof e?e():Bt(e,In())?void 0:`it is unsupported in Mini Apps version ${In()}`})).filter(Boolean);return Array.isArray(u)?t[0]:t.length===e.length?t[t.length-1]:void 0}let d;if(a){d={};for(const e in a)d[e]=vn((()=>c(e)))}const f=vn((()=>!h())),p=vn((()=>"0.0"!==In())),g=vn((()=>!i||i())),m=vn((()=>Ut()&&!nr()&&p()&&f()&&g()));return Object.assign((function(){const e=`Unable to call the ${l} ${o?"method":"function"}:`;if(nr()||!Ut())throw new zn(`${e} it can't be called outside Mini Apps`);if(!p())throw new zn(`${e} the SDK was not initialized. Use the SDK init() function`);const n=h();if(n)throw new zn(`${e} ${n}`);const r=function(){for(const e in a)if(a[e][2](...arguments)&&!c(e))return`option ${e} is not supported in Mini Apps version ${In()}`}(...arguments);if(r)throw new zn(`${e} ${r}`);if(!g()){const t=s&&s()?"mounting. Wait for the mount completion":`unmounted. Use the ${o}.mount() method`;throw new zn(`${e} the component is ${t}`)}return t(...arguments)}),t,{isAvailable:m,ifAvailable(){return m()?[!0,t(...arguments)]:[!1]}},u?{isSupported:f}:{},d?{supports:d}:{})}function ir(e,t){return t||(t={}),(n,r,i,s)=>rr(n,r,{...t,isSupported:i||t.isSupported,supports:s,component:e})}function sr(e,t,n){return ir(e,{isSupported:n,isMounted:t})}function or(e,t){return ir(e,{isSupported:t})}const ar="web_app_setup_back_button",lr="back_button_pressed",ur="backButton",[cr,hr]=_n(!1),[dr,fr]=_n(!1),pr=xn(ar),gr=sr(ur,dr,ar),mr=or(ur,ar),yr=gr("hide",(()=>{_r(!1)})),vr=mr("mount",(()=>{dr()||(_r($t()&&Y(ur)||!1),dr.set(!0))}));function _r(e){e!==cr()&&(Nn(ar,{is_visible:e}),Q(ur,e),cr.set(e))}const br=mr("onClick",(e=>pt(lr,e))),wr=mr("offClick",(e=>{gt(lr,e)})),Er=gr("show",(()=>{_r(!0)}));Symbol.toStringTag;function Sr(e,t,n){n||(n={});const{promise:r,error:i}=n,[s,o]=r?[r,vn(r)]:_n(),[a,l]=i?[i,vn(i)]:_n();return[Object.assign((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(s()){const e=new qn(t);return a.set(e),$.reject(e)}let o;return Ye((()=>{s.set(e(...r)),a.set(void 0)})),s().catch((e=>{throw o=e,e})).finally((()=>{Ye((()=>{s.set(void 0),a.set(o)}))}))}),e),[s,o,vn((()=>!!s()))],[a,l]]}function Tr(e,t,n){const[r,...i]=Sr(t,`The ${e} component is already mounting`),[s,o]=_n(!1);return[function(){return s()?$.resolve():r(...arguments).then((e=>{Ye((()=>{s.set(!0),n(e)}))}))},...i,[s,o]]}const[kr,Ir]=_n({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),Cr=vn((()=>kr().available)),Ar="web_app_biometry_get_info",Pr=rr("requestBiometry",(e=>Rn(Ar,"biometry_info_received",e)),{isSupported:Ar});function Rr(e){if(!F(e))throw e}function Nr(e){const t=e();t&&t.catch(Rr).cancel()}const xr="biometry",Or="web_app_biometry_request_auth",Dr="biometry_info_received",Lr=e=>{di(Fr(e))};function Mr(){throw new Mn("Biometry is not available")}function Fr(e){let t=!1,n=!1,r="",i=!1,s="",o=!1;return e.available&&(t=!0,n=e.token_saved,r=e.device_id,i=e.access_requested,s=e.type,o=e.access_granted),{available:t,tokenSaved:n,deviceId:r,type:s,accessGranted:o,accessRequested:i}}const Ur=xn(Or),[Vr,zr,jr,Br]=Tr(xr,(e=>{const t=$t()&&Y(xr);return t?$.resolve(t):Pr({abortSignal:e}).then(Fr)}),(e=>{pt(Dr,Lr),di(e)})),$r=or(xr,Or),qr=sr(xr,Br[0],Or),Hr=$r("mount",Vr),[,Wr,Kr]=zr,[,Gr]=jr,[Qr,Yr]=Br,[Xr,Jr,Zr]=Sr((e=>$.fn((async t=>{const n=kr();n.available||Mr();const r=await Rn(Or,"biometry_auth_requested",{...e,...t,params:{reason:((e||{}).reason||"").trim()}}),{token:i}=r;return"string"==typeof i&&di({...n,token:i}),r}),e)),"Biometry authentication is already in progress"),ei=qr("authenticate",Xr),[,ti,ni]=Jr,[,ri]=Zr,ii=$r("openSettings",(()=>{Nn("web_app_biometry_open_settings")})),[si,oi,ai]=Sr((e=>$.fn((async t=>{const n=await Rn("web_app_biometry_request_access",Dr,{...e,...t,params:{reason:(e||{}).reason||""}}).then(Fr);return n.available||Mr(),di(n),n.accessGranted}),e)),"Biometry access request is already in progress"),li=qr("requestAccess",si),[,ui,ci]=oi,[,hi]=ai;function di(e){kr.set(e),Q(xr,e)}const fi=qr("updateToken",(e=>(e||(e={}),Rn("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then((e=>e.status)))));Symbol.toStringTag;function pi(e,t){return ir(e,{isMounted:t})}const gi=ir,mi="closingBehavior",[yi,vi]=_n(!1),[_i,bi]=_n(!1),wi=pi(mi,bi),Ei=gi(mi),Si=wi("disableConfirmation",(()=>{Ii(!1)})),Ti=wi("enableConfirmation",(()=>{Ii(!0)})),ki=Ei("mount",(()=>{_i()||(Ii($t()&&Y(mi)||!1),_i.set(!0))}));function Ii(e){e!==yi()&&(Nn("web_app_setup_closing_behavior",{need_confirmation:e}),Q(mi,e),yi.set(e))}Symbol.toStringTag;const Ci="web_app_invoke_custom_method",Ai=or("cloudStorage",Ci),Pi=xn(Ci),Ri=Ai("deleteItem",((e,t)=>{const n=Array.isArray(e)?e:[e];return n.length?Pn("deleteStorageValues",{keys:n},t).then():$.resolve()}));const Ni=Ai("getItem",(function(e,t){const n=Array.isArray(e)?e:[e];return n.length?Pn("getStorageValues",{keys:n},t).then((t=>{const r={...n.reduce(((e,t)=>(e[t]="",e)),{}),...gn(hn(dn(),dn()),t)};return"string"==typeof e?r[e]:r})):$.resolve(Array.isArray(e)?{}:"")})),xi=Ai("getKeys",(e=>Pn("getStorageKeys",{},e).then((e=>gn(sn(dn()),e))))),Oi=Ai("setItem",((e,t,n)=>Pn("saveStorageValue",{key:e,value:t},n).then())),Di=Ai("clear",(e=>xi(e).then(Ri))),Li=(Symbol.toStringTag,"web_app_trigger_haptic_feedback"),Mi=or("hapticFeedback",Li),Fi=xn(Li),Ui=Mi("impactOccurred",(e=>{Nn(Li,{type:"impact",impact_style:e})})),Vi=Mi("notificationOccurred",(e=>{Nn(Li,{type:"notification",notification_type:e})})),zi=Mi("selectionChanged",(()=>{Nn(Li,{type:"selection_change"})})),[ji,Bi]=(Symbol.toStringTag,_n(void 0));function $i(e){return vn((()=>{const t=ji();return t?t[e]:void 0}))}const qi=$i("auth_date"),Hi=$i("can_send_after"),Wi=vn((()=>{const e=qi(),t=Hi();return t&&e?new Date(e.getTime()+1e3*t):void 0})),Ki=$i("chat"),Gi=$i("chat_type"),Qi=$i("chat_instance"),Yi=$i("hash"),Xi=$i("query_id"),[Ji,Zi]=_n(),es=$i("receiver");const ts=$i("start_param"),ns=$i("user"),rs=Object.freeze(Object.defineProperty({__proto__:null,authDate:qi,canSendAfter:Hi,canSendAfterDate:Wi,chat:Ki,chatInstance:Qi,chatType:Gi,hash:Yi,queryId:Xi,raw:Zi,receiver:es,restore:function(){const e=Ft();ji.set(e.tgWebAppData),Ji.set(new URLSearchParams(Mt()).get("tgWebAppData")||void 0)},startParam:ts,state:Bi,user:ns},Symbol.toStringTag,{value:"Module"})),is="web_app_open_invoice",ss=or("invoice",is),os=xn(is);const[as,ls,us]=Sr((function(e,t,n){let r;if("url"===t){const{hostname:t,pathname:n}=new URL(e,window.location.href);if("t.me"!==t)throw new Bn(`Link has unexpected hostname: ${t}`);const i=n.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!i)throw new Bn('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=i}else r=e,n=t;return Rn(is,"invoice_closed",{...n,params:{slug:r},capture:e=>r===e.slug}).then((e=>e.status))}),"Invoice is already opened"),cs=ss("open",as),[,hs,ds]=ls,[,fs]=us,ps=(Symbol.toStringTag,"locationManager"),gs="web_app_check_location",ms="web_app_open_location_settings",ys=yn({available:!1,accessGranted:!1,accessRequested:!1});function vs(e){return vn((()=>ys()[e]))}const _s=xn(gs),bs=vs("available"),ws=vs("accessGranted"),Es=vs("accessRequested");function Ss(e){let t,n,r=!1;return e.available&&(r=!0,t=e.access_requested,n=e.access_granted),{available:r,accessGranted:n||!1,accessRequested:t||!1}}const[Ts,ks,Is,Cs]=Tr(ps,(e=>{const t=$t()&&Y(ps);return t?$.resolve(t):Rn("web_app_check_location","location_checked",e).then(Ss)}),(e=>{ys.set(e),Q(ps,e)})),As=or(ps,gs),Ps=sr(ps,Cs[0],gs),Rs=As("mount",Ts),[,Ns,xs]=ks,[,Os]=Is,[Ds,Ls]=Cs,[Ms,Fs,Us]=Sr((e=>Rn("web_app_request_location","location_requested",e).then((e=>{if(!e.available)throw ys.set({...ys(),available:!1}),new Mn("Location data tracking is not available");const{available:t,...n}=e;return n}))),"Location request is currently in progress"),Vs=Ps("requestLocation",Ms),[,zs,js]=Fs,[,Bs]=Us,$s=As("openSettings",(()=>{Nn(ms)}),ms);Symbol.toStringTag;function qs(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=r)}return t}function Hs(e){const t=function(e){const t=e.replace(/\s/g,"").toLowerCase();if(je(t))return t;if(function(e){return/^#[\da-f]{3}$/i.test(e)}(t)){let e="#";for(let n=0;n<3;n+=1)e+=t[1+n].repeat(2);return e}const n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce(((e,t)=>e+parseInt(t,10).toString(16).padStart(2,"0")),"#")}(e);return Math.sqrt([.299,.587,.114].reduce(((e,n,r)=>{const i=parseInt(t.slice(1+2*r,1+2*(r+1)),16);return e+i*i*n}),0))<120}const[Ws,Ks]=_n(!1),[Gs,Qs]=_n({});function Ys(e){return vn((()=>Gs()[e]))}const Xs=Ys("accent_text_color"),Js=Ys("bg_color"),Zs=Ys("button_color"),eo=Ys("button_text_color"),to=Ys("bottom_bar_bg_color"),no=Ys("destructive_text_color"),ro=Ys("header_bg_color"),io=Ys("hint_color"),so=vn((()=>{const e=Js();return!e||Hs(e)})),oo=Ys("link_color"),ao=Ys("secondary_bg_color"),lo=Ys("section_bg_color"),uo=Ys("section_header_text_color"),co=Ys("section_separator_color"),ho=Ys("subtitle_text_color"),fo=Ys("text_color");function po(e){return vn((()=>mo()[e]))}const go=yn({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),mo=vn((()=>{const e=go();return{...e,backgroundColor:e.backgroundColor||Zs()||"#2481cc",textColor:e.textColor||eo()||"#ffffff"}})),[yo,vo]=_n(!1),_o=po("backgroundColor"),bo=po("hasShineEffect"),wo=po("isEnabled"),Eo=po("isLoaderVisible"),So=po("isVisible"),To=po("text"),ko=po("textColor"),Io="main_button_pressed",Co="mainButton",Ao=gi(Co),Po=pi(Co,vo),Ro=Ao("mount",(()=>{if(!yo()){const e=$t()&&Y(Co);e&&go.set(e),yo.set(!0)}})),No=Ao("onClick",(e=>pt(Io,e))),xo=Ao("offClick",(e=>{gt(Io,e)})),Oo=Po("setParams",(e=>{go.set({...go(),...qs(e)}),Q(Co,go());const t=mo();t.text&&Nn("web_app_setup_main_button",{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})}));Symbol.toStringTag;function Do(e,t){document.documentElement.style.setProperty(e,t)}function Lo(e){document.documentElement.style.removeProperty(e)}const Mo="themeParams",Fo="theme_changed",Uo=gi(Mo),Vo=e=>{let{theme_params:t}=e;Gs.set(t),Q(Mo,t)},[zo,jo,Bo,$o]=Tr(Mo,(e=>$.resolve($t()&&Y(Mo)||kn().tgWebAppThemeParams||{})),(e=>{pt(Fo,Vo),Gs.set(e)})),qo=pi(Mo,$o[0])("bindCssVars",(e=>{if(Ws())throw new Dn;function t(e){Object.entries(Gs()).forEach((t=>{let[n,r]=t;r&&e(n,r)}))}function n(){t(((t,n)=>{Do(e(t),n)}))}return e||(e=e=>`--tg-theme-${function(e){return e.replace(/_([a-z])/g,((e,t)=>`-${t.toLowerCase()}`))}(e)}`),n(),Gs.sub(n),Ws.set(!0),()=>{t(Lo),Gs.unsub(n),Ws.set(!1)}})),Ho=Uo("mount",zo),Wo=jo[2],Ko=jo[1],Go=Bo[1],[Qo,Yo]=$o,Xo=Uo("mountSync",(()=>{if(!Qo()){const e=$t()&&Y(Mo)||kn().tgWebAppThemeParams||{};pt(Fo,Vo),Ye((()=>{Gs.set(e),Qo.set(!0)}))}}));function Jo(e){return vn((()=>Zo(e())))}function Zo(e){return je(e)?e:Qs()[e]}const[ea,ta]=_n("bg_color"),na=Jo(ea),[ra,ia]=_n("bottom_bar_bg_color"),sa=vn((()=>{const e=ra();return je(e)?e:Qs()[e]||ao()})),[oa,aa]=_n("bg_color"),la=Jo(oa),[ua,ca]=_n(!1),ha=vn((()=>{const e=na();return!!e&&Hs(e)})),[da,fa]=_n(!0),pa=vn((()=>({backgroundColor:ea(),bottomBarColor:ra(),headerColor:oa(),isActive:da()}))),ga=(Symbol.toStringTag,"web_app_set_background_color"),ma="web_app_set_bottom_bar_color",ya="web_app_set_header_color",va="visibility_changed",_a="miniApp",ba={any:[ga,ma,ya]},wa=vn((()=>ba.any.some((e=>Bt(e,In()))))),Ea=e=>{da.set(e.is_visible),ja()},Sa=e=>{[[oa,ya],[ea,ga],[ra,ma]].forEach((t=>{let[n,r]=t;const i=n();if(!je(i)&&(r!==ya||"bg_color"!==i&&"secondary_bg_color"!==i)){const t=e[i];t&&Nn(r,{color:t})}}))},[Ta,ka,Ia,Ca]=Tr(_a,(e=>Ho(e).then((()=>$t()&&Y(_a)||void 0))),(e=>{Ba.ifAvailable(e?e.backgroundColor:"bg_color"),$a.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),qa.ifAvailable(e?e.headerColor:"bg_color"),da.set(!e||e.isActive),pt(va,Ea),Qs.sub(Sa)})),Aa=gi(_a),Pa=or(_a,ba),Ra=sr(_a,Ca[0],ba),Na=Ra("bindCssVars",(e=>{if(ua())throw new Dn;const[t,n]=X();function r(e,n){function r(){Do(e,n()||null)}r(),t(n.sub(r),Lo.bind(null,e))}return e||(e=e=>`--tg-${W(e)}`),r(e("bgColor"),na),r(e("bottomBarColor"),sa),r(e("headerColor"),la),t((()=>{ua.set(!1)})),ua.set(!0),n})),xa=Aa("close",(e=>{Nn("web_app_close",{return_back:e})})),Oa=Pa("mount",Ta),Da=ka[2],La=ka[1],Ma=Ia[1],[Fa,Ua]=Ca,Va=Pa("mountSync",(()=>{if(!Fa()){Xo();const e=$t()&&Y(_a)||void 0;Ba.ifAvailable(e?e.backgroundColor:"bg_color"),$a.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),qa.ifAvailable(e?e.headerColor:"bg_color"),pt(va,Ea),Qs.sub(Sa),Ye((()=>{da.set(!e||e.isActive),Fa.set(!0)}))}})),za=Aa("ready",(()=>{Nn("web_app_ready")}));function ja(){Q(_a,pa())}const Ba=Ra("setBackgroundColor",(e=>{if(e===ea())return;const t=Zo(e);if(!t)throw new er(e);Nn(ga,{color:t}),ea.set(e),ja()}),ga),$a=Ra("setBottomBarColor",(e=>{if(e===ra())return;const t=Zo(e);if(!t)throw new er(e);Nn(ma,{color:t}),ra.set(e),ja()}),ma),qa=Ra("setHeaderColor",(e=>{if(e!==oa()){if("bg_color"===e||"secondary_bg_color"===e)Nn(ya,{color_key:e});else{const t=Zo(e);if(!t)throw new er(e);Nn(ya,{color:t})}oa.set(e),ja()}}),ya,{rgb:[ya,"color",je]});Symbol.toStringTag;function Ha(e){const t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new Bn(`Invalid title: ${n}`);if(!t||t.length>256)throw new Bn(`Invalid message: ${t}`);if(r.length>3)throw new Bn(`Invalid buttons count: ${r.length}`);return{title:n,message:t,buttons:r.length?r.map(((e,t)=>{const n=e.id||"";if(n.length>64)throw new Bn(`Button with index ${t} has invalid id: ${n}`);if(!e.type||"default"===e.type||"destructive"===e.type){const r=e.text.trim();if(!r||r.length>64)throw new Bn(`Button with index ${t} has invalid text: ${r}`);return{type:e.type,text:r,id:n}}return{type:e.type,id:n}})):[{type:"close",id:""}]}}const Wa="web_app_open_popup",Ka=or("popup",Wa),Ga=xn(Wa),[Qa,Ya,Xa]=Sr((e=>Rn(Wa,"popup_closed",{...e,params:Ha(e)}).then((e=>{let{button_id:t}=e;return void 0===t?null:t}))),"A popup is already opened"),Ja=Ka("open",Qa),Za=Ya[1],el=Ya[2],tl=Xa[1],nl=Ka("show",Qa),[,rl,il]=Ya,[,sl]=Xa,ol=(Symbol.toStringTag,"web_app_close_scan_qr_popup"),al="web_app_open_scan_qr_popup",ll=or("qrScanner",al),ul=ll("close",(()=>{Nn(ol),Nr(gl)})),cl=xn(al);const[hl,dl,fl]=Sr((function(e){e||(e={});const{onCaptured:t,text:n,capture:r}=e,[,i]=X(pt("scan_qr_popup_closed",(()=>{s.resolve()})),pt("qr_text_received",(e=>{t?t(e.data):(!r||r(e.data))&&(s.resolve(e.data),Nn(ol))}))),s=new H(e);return(e.postEvent||Nn)(al,{text:n}),$.resolve(s).catch(Rr).finally(i)}),"The QR Scanner is already opened"),pl=ll("open",hl),[,gl,ml]=dl,[,yl]=fl;Symbol.toStringTag;function vl(e){return vn((()=>bl()[e]))}const _l=yn({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),bl=vn((()=>{const e=_l();return{...e,backgroundColor:e.backgroundColor||sa()||"#000000",textColor:e.textColor||Zs()||"#2481cc"}})),[wl,El]=_n(!1),Sl=vl("backgroundColor"),Tl=vl("hasShineEffect"),kl=vl("isEnabled"),Il=vl("isLoaderVisible"),Cl=vl("isVisible"),Al=vl("position"),Pl=vl("text"),Rl=vl("textColor"),Nl="web_app_setup_secondary_button",xl="secondary_button_pressed",Ol="secondaryButton",Dl=or(Ol,Nl),Ll=sr(Ol,El,Nl),Ml=xn(Nl),Fl=Dl("mount",(()=>{if(!wl()){const e=$t()&&Y(Ol);e&&_l.set(e),wl.set(!0)}})),Ul=Dl("onClick",(e=>pt(xl,e))),Vl=Dl("offClick",(e=>{gt(xl,e)})),zl=Ll("setParams",(e=>{_l.set({..._l(),...qs(e)}),Q(Ol,_l());const t=bl();t.text&&Nn(Nl,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})}));Symbol.toStringTag;const jl="web_app_setup_settings_button",Bl="settings_button_pressed",$l="settingsButton",[ql,Hl]=_n(!1),[Wl,Kl]=_n(!1),Gl=xn(jl),Ql=or($l,jl),Yl=sr($l,Wl,jl),Xl=Yl("hide",(()=>{Zl(!1)})),Jl=Ql("mount",(()=>{Wl()||(Zl($t()&&Y($l)||!1),Wl.set(!0))}));function Zl(e){e!==ql()&&(Nn(jl,{is_visible:e}),Q($l,e),ql.set(e))}const eu=Ql("onClick",(e=>pt(Bl,e))),tu=Ql("offClick",(e=>{gt(Bl,e)})),nu=Yl("show",(()=>{Zl(!0)}));Symbol.toStringTag;const ru="web_app_setup_swipe_behavior",iu="swipeBehavior",[su,ou]=_n(!1),au=xn(ru),[lu,uu]=_n(!0),cu=or(iu,ru),hu=sr(iu,su,ru),du=hu("disableVertical",(()=>{gu(!1)})),fu=hu("enableVertical",(()=>{gu(!0)})),pu=cu("mount",(()=>{su()||(gu($t()&&Y(iu)||!1,!0),su.set(!0))}));function gu(e,t){(e!==lu()||t)&&(Nn(ru,{allow_vertical_swipe:e}),Q(iu,e),lu.set(e))}Symbol.toStringTag;const mu="viewport",yu="fullscreen_changed",vu="safe_area_changed",_u="content_safe_area_changed",bu="viewport_changed",wu=gi(mu),Eu={left:0,top:0,bottom:0,right:0};function Su(e){return Math.max(e,0)}const[Tu,ku]=_n({contentSafeAreaInsets:Eu,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:Eu,stableHeight:0,width:0});function Iu(e){return vn((()=>ku()[e]))}const Cu=Iu("height"),Au=Iu("stableHeight"),Pu=Iu("width"),Ru=Iu("isExpanded"),Nu=vn((()=>Cu()===Au()));function xu(e){const{height:t,stableHeight:n,width:r}=e;Tu.set({...Tu(),...qs({...e,height:t?Su(t):void 0,width:r?Su(r):void 0,stableHeight:n?Su(n):void 0})}),Q(mu,Tu())}function Ou(e){return vn((()=>Du()[e]))}const Du=Iu("contentSafeAreaInsets"),Lu=Ou("bottom"),Mu=Ou("left"),Fu=Ou("right"),Uu=Ou("top");function Vu(e){return vn((()=>zu()[e]))}const zu=Iu("safeAreaInsets"),ju=Vu("bottom"),Bu=Vu("left"),$u=Vu("right"),qu=Vu("top"),Hu="web_app_request_safe_area",Wu=or(mu,Hu),Ku=Wu("requestContentSafeAreaInsets",(e=>Rn("web_app_request_content_safe_area",_u,e)));const Gu=Wu("requestSafeAreaInsets",(e=>Rn(Hu,vu,e))),Qu=e=>{const{height:t}=e;xu({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},Yu=e=>{xu({isFullscreen:e.is_fullscreen})},Xu=e=>{xu({safeAreaInsets:e})},Ju=e=>{xu({contentSafeAreaInsets:e})},[Zu,ec,tc,nc]=Tr(mu,(e=>{const t=$t()&&Y(mu);return t?$.resolve(t):$.fn((async e=>{const t=await $.all([Gu.isAvailable()?Gu(e):zu(),Ku.isAvailable()?Ku(e):Du()]),n=kn(),r={contentSafeAreaInsets:t[1],isFullscreen:!!n.tgWebAppFullscreen,safeAreaInsets:t[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(n.tgWebAppPlatform)){const e=window;return{...r,height:e.innerHeight,isExpanded:!0,stableHeight:e.innerHeight,width:e.innerWidth}}return function(e){return Rn("web_app_request_viewport",bu,e)}(e).then((e=>({...r,height:e.height,isExpanded:e.is_expanded,stableHeight:e.is_state_stable?e.height:0,width:e.width})))}),e)}),(e=>{pt(bu,Qu),pt(yu,Yu),pt(vu,Xu),pt(_u,Ju),xu(e)})),rc=wu("mount",Zu),[,ic,sc]=ec,[,oc]=tc,[ac,lc]=nc;const uc=pi(mu,ac),[cc,hc]=_n(!1),dc=uc("bindCssVars",(e=>{if(cc())throw new Dn;e||(e=e=>`--tg-viewport-${W(e)}`);const t=[["height",Cu],["stableHeight",Au],["width",Pu],["safeAreaInsetTop",qu],["safeAreaInsetBottom",ju],["safeAreaInsetLeft",Bu],["safeAreaInsetRight",$u],["contentSafeAreaInsetTop",Uu],["contentSafeAreaInsetBottom",Lu],["contentSafeAreaInsetLeft",Mu],["contentSafeAreaInsetRight",Fu]].reduce(((t,n)=>{let[r,i]=n;const s=e(r);if(s){const e=()=>{Do(s,`${i()}px`)};t.push([e,i.sub(e),s])}return t}),[]);return t.forEach((e=>{e[0]()})),cc.set(!0),()=>{t.forEach((e=>{e[1](),Lo(e[2])})),cc.set(!1)}})),fc=wu("expand",(()=>{Nn("web_app_expand")})),pc="web_app_request_fullscreen",gc=sr(mu,ac,pc),mc=Iu("isFullscreen"),[yc,vc]=_n(),[_c,bc]=_n();function wc(e,t){return gc(e,Sr((e=>Rn(t?pc:"web_app_exit_fullscreen",[yu,"fullscreen_failed"],e).then((e=>{if("error"in e&&"ALREADY_FULLSCREEN"!==e.error)throw new Yn(e.error);const t=!("is_fullscreen"in e)||e.is_fullscreen;t!==mc()&&xu({isFullscreen:t})}))),"Fullscreen mode change is already being requested",{promise:yc,error:_c})[0])}const Ec=wc("requestFullscreen",!0),Sc=wc("exitFullscreen"),Tc=(Symbol.toStringTag,"web_app_request_emoji_status_access"),[kc,Ic,Cc]=Sr((e=>Rn(Tc,"emoji_status_access_requested",e).then((e=>e.status))),"Emoji status access request is already in progress"),[,Ac,Pc]=Ic,[,Rc]=Cc,Nc="web_app_set_emoji_status",[xc,Oc,Dc]=Sr(((e,t)=>Rn(Nc,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:e,duration:(t||{}).duration},...t}).then((e=>{if(e&&"error"in e)throw new Wn(e.error)}))),"Emoji status set request is currently in progress"),[,Lc,Mc]=Oc,[,Fc]=Dc,Uc="web_app_check_home_screen",[Vc,zc,jc]=Sr((e=>Rn(Uc,"home_screen_checked",e).then((e=>e.status||"unknown"))),"Check home screen status request is currently in progress"),[,Bc,$c]=zc,[,qc]=jc,Hc=(gi()("openLink",((e,t)=>{if("string"==typeof e)try{e=new URL(e)}catch(n){throw new Bn(`"${e.toString()}" is invalid URL`,n)}t||(t={}),Nn("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})})),"web_app_open_tg_link"),Wc=gi()("openTelegramLink",(e=>{const t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new Bn(`"${t}" is invalid URL`);Bt(Hc,In())?(e=new URL(e),Nn(Hc,{path_full:e.pathname+e.search})):window.location.href=t}));gi()("shareURL",((e,t)=>{Wc("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))}));function Kc(e,t){return new $({abortSignal:t,timeout:e}).catch((()=>{}))}const Gc="web_app_request_phone",[Qc,Yc,Xc]=Sr((e=>Rn(Gc,"phone_requested",e).then((e=>e.status))),"Phone access request is currently in progress"),Jc=rr("requestPhoneAccess",Qc,{isSupported:Gc}),[,Zc,eh]=Yc,[,th]=Xc;async function nh(e){const t=gn(dn(),await Pn("getRequestedContact",{},{...e,timeout:(e||{}).timeout||5e3}));return{raw:t,parsed:gn(mn(pn([dn(),an(URLSearchParams)]),xe(ln({contact:mn(dn(),Re(),ln({user_id:un(),phone_number:dn(),first_name:dn(),last_name:cn(dn())})),auth_date:mn(dn(),tn((e=>new Date(1e3*Number(e)))),on()),hash:dn()}))),t)}}const[rh,ih,sh]=Sr((e=>new $((async(e,t,n)=>{try{return e(await nh(n))}catch(s){if(s instanceof en)throw s}if("sent"!==await Jc(n))throw new Gn("User denied access");let r=50;for(;!n.isAborted();){try{return e(await nh(n))}catch(s){if(s instanceof en)throw s}await Kc(r),r+=50}}),e)),"Contact is already being requested"),[,oh,ah]=ih,[,lh]=sh,uh="web_app_request_write_access",[ch,hh,dh]=Sr((e=>Rn(uh,"write_access_requested",e).then((e=>e.status))),"Write access request is currently in progress"),[,fh,ph]=hh,[,gh]=dh;var mh=n(579);var yh=function(){return yh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yh.apply(this,arguments)};Object.create;function vh(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var _h=n(324),bh=n.n(_h),wh="-ms-",Eh="-moz-",Sh="-webkit-",Th="comm",kh="rule",Ih="decl",Ch="@keyframes",Ah=Math.abs,Ph=String.fromCharCode,Rh=Object.assign;function Nh(e){return e.trim()}function xh(e,t){return(e=t.exec(e))?e[0]:e}function Oh(e,t,n){return e.replace(t,n)}function Dh(e,t,n){return e.indexOf(t,n)}function Lh(e,t){return 0|e.charCodeAt(t)}function Mh(e,t,n){return e.slice(t,n)}function Fh(e){return e.length}function Uh(e){return e.length}function Vh(e,t){return t.push(e),e}function zh(e,t){return e.filter((function(e){return!xh(e,t)}))}var jh=1,Bh=1,$h=0,qh=0,Hh=0,Wh="";function Kh(e,t,n,r,i,s,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:jh,column:Bh,length:o,return:"",siblings:a}}function Gh(e,t){return Rh(Kh("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Qh(e){for(;e.root;)e=Gh(e.root,{children:[e]});Vh(e,e.siblings)}function Yh(){return Hh=qh>0?Lh(Wh,--qh):0,Bh--,10===Hh&&(Bh=1,jh--),Hh}function Xh(){return Hh=qh<$h?Lh(Wh,qh++):0,Bh++,10===Hh&&(Bh=1,jh++),Hh}function Jh(){return Lh(Wh,qh)}function Zh(){return qh}function ed(e,t){return Mh(Wh,e,t)}function td(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nd(e){return jh=Bh=1,$h=Fh(Wh=e),qh=0,[]}function rd(e){return Wh="",e}function id(e){return Nh(ed(qh-1,ad(91===e?e+2:40===e?e+1:e)))}function sd(e){for(;(Hh=Jh())&&Hh<33;)Xh();return td(e)>2||td(Hh)>3?"":" "}function od(e,t){for(;--t&&Xh()&&!(Hh<48||Hh>102||Hh>57&&Hh<65||Hh>70&&Hh<97););return ed(e,Zh()+(t<6&&32==Jh()&&32==Xh()))}function ad(e){for(;Xh();)switch(Hh){case e:return qh;case 34:case 39:34!==e&&39!==e&&ad(Hh);break;case 40:41===e&&ad(e);break;case 92:Xh()}return qh}function ld(e,t){for(;Xh()&&e+Hh!==57&&(e+Hh!==84||47!==Jh()););return"/*"+ed(t,qh-1)+"*"+Ph(47===e?e:Xh())}function ud(e){for(;!td(Jh());)Xh();return ed(e,qh)}function cd(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function hd(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ih:return e.return=e.return||e.value;case Th:return"";case Ch:return e.return=e.value+"{"+cd(e.children,r)+"}";case kh:if(!Fh(e.value=e.props.join(",")))return""}return Fh(n=cd(e.children,r))?e.return=e.value+"{"+n+"}":""}function dd(e,t,n){switch(function(e,t){return 45^Lh(e,0)?(((t<<2^Lh(e,0))<<2^Lh(e,1))<<2^Lh(e,2))<<2^Lh(e,3):0}(e,t)){case 5103:return Sh+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Sh+e+e;case 4789:return Eh+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Sh+e+Eh+e+wh+e+e;case 5936:switch(Lh(e,t+11)){case 114:return Sh+e+wh+Oh(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Sh+e+wh+Oh(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Sh+e+wh+Oh(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Sh+e+wh+e+e;case 6165:return Sh+e+wh+"flex-"+e+e;case 5187:return Sh+e+Oh(e,/(\w+).+(:[^]+)/,Sh+"box-$1$2"+wh+"flex-$1$2")+e;case 5443:return Sh+e+wh+"flex-item-"+Oh(e,/flex-|-self/g,"")+(xh(e,/flex-|baseline/)?"":wh+"grid-row-"+Oh(e,/flex-|-self/g,""))+e;case 4675:return Sh+e+wh+"flex-line-pack"+Oh(e,/align-content|flex-|-self/g,"")+e;case 5548:return Sh+e+wh+Oh(e,"shrink","negative")+e;case 5292:return Sh+e+wh+Oh(e,"basis","preferred-size")+e;case 6060:return Sh+"box-"+Oh(e,"-grow","")+Sh+e+wh+Oh(e,"grow","positive")+e;case 4554:return Sh+Oh(e,/([^-])(transform)/g,"$1"+Sh+"$2")+e;case 6187:return Oh(Oh(Oh(e,/(zoom-|grab)/,Sh+"$1"),/(image-set)/,Sh+"$1"),e,"")+e;case 5495:case 3959:return Oh(e,/(image-set\([^]*)/,Sh+"$1$`$1");case 4968:return Oh(Oh(e,/(.+:)(flex-)?(.*)/,Sh+"box-pack:$3"+wh+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Sh+e+e;case 4200:if(!xh(e,/flex-|baseline/))return wh+"grid-column-align"+Mh(e,t)+e;break;case 2592:case 3360:return wh+Oh(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,xh(e.props,/grid-\w+-end/)}))?~Dh(e+(n=n[t].value),"span",0)?e:wh+Oh(e,"-start","")+e+wh+"grid-row-span:"+(~Dh(n,"span",0)?xh(n,/\d+/):+xh(n,/\d+/)-+xh(e,/\d+/))+";":wh+Oh(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return xh(e.props,/grid-\w+-start/)}))?e:wh+Oh(Oh(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Oh(e,/(.+)-inline(.+)/,Sh+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fh(e)-1-t>6)switch(Lh(e,t+1)){case 109:if(45!==Lh(e,t+4))break;case 102:return Oh(e,/(.+:)(.+)-([^]+)/,"$1"+Sh+"$2-$3$1"+Eh+(108==Lh(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Dh(e,"stretch",0)?dd(Oh(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Oh(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,s,o,a){return wh+n+":"+r+a+(i?wh+n+"-span:"+(s?o:+o-+r)+a:"")+e}));case 4949:if(121===Lh(e,t+6))return Oh(e,":",":"+Sh)+e;break;case 6444:switch(Lh(e,45===Lh(e,14)?18:11)){case 120:return Oh(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Sh+(45===Lh(e,14)?"inline-":"")+"box$3$1"+Sh+"$2$3$1"+wh+"$2box$3")+e;case 100:return Oh(e,":",":"+wh)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Oh(e,"scroll-","scroll-snap-")+e}return e}function fd(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ih:return void(e.return=dd(e.value,e.length,n));case Ch:return cd([Gh(e,{value:Oh(e.value,"@","@"+Sh)})],r);case kh:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(xh(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Qh(Gh(e,{props:[Oh(t,/:(read-\w+)/,":-moz-$1")]})),Qh(Gh(e,{props:[t]})),Rh(e,{props:zh(n,r)});break;case"::placeholder":Qh(Gh(e,{props:[Oh(t,/:(plac\w+)/,":"+Sh+"input-$1")]})),Qh(Gh(e,{props:[Oh(t,/:(plac\w+)/,":-moz-$1")]})),Qh(Gh(e,{props:[Oh(t,/:(plac\w+)/,wh+"input-$1")]})),Qh(Gh(e,{props:[t]})),Rh(e,{props:zh(n,r)})}return""}))}}function pd(e){return rd(gd("",null,null,null,[""],e=nd(e),0,[0],e))}function gd(e,t,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,g=1,m=1,y=1,v=0,_="",b=i,w=s,E=r,S=_;m;)switch(p=v,v=Xh()){case 40:if(108!=p&&58==Lh(S,h-1)){-1!=Dh(S+=Oh(id(v),"&","&\f"),"&\f",Ah(u?a[u-1]:0))&&(y=-1);break}case 34:case 39:case 91:S+=id(v);break;case 9:case 10:case 13:case 32:S+=sd(p);break;case 92:S+=od(Zh()-1,7);continue;case 47:switch(Jh()){case 42:case 47:Vh(yd(ld(Xh(),Zh()),t,n,l),l);break;default:S+="/"}break;case 123*g:a[u++]=Fh(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+c:-1==y&&(S=Oh(S,/\f/g,"")),f>0&&Fh(S)-h&&Vh(f>32?vd(S+";",r,n,h-1,l):vd(Oh(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(Vh(E=md(S,t,n,u,c,i,a,_,b=[],w=[],h,s),s),123===v)if(0===c)gd(S,t,E,E,b,s,h,a,w);else switch(99===d&&110===Lh(S,3)?100:d){case 100:case 108:case 109:case 115:gd(e,E,E,r&&Vh(md(e,E,E,0,0,i,a,_,i,b=[],h,w),w),i,w,h,a,r?b:w);break;default:gd(S,E,E,E,[""],w,0,a,w)}}u=c=f=0,g=y=1,_=S="",h=o;break;case 58:h=1+Fh(S),f=p;default:if(g<1)if(123==v)--g;else if(125==v&&0==g++&&125==Yh())continue;switch(S+=Ph(v),v*g){case 38:y=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(Fh(S)-1)*y,y=1;break;case 64:45===Jh()&&(S+=id(Xh())),d=Jh(),c=h=Fh(_=S+=ud(Zh())),v++;break;case 45:45===p&&2==Fh(S)&&(g=0)}}return s}function md(e,t,n,r,i,s,o,a,l,u,c,h){for(var d=i-1,f=0===i?s:[""],p=Uh(f),g=0,m=0,y=0;g<r;++g)for(var v=0,_=Mh(e,d+1,d=Ah(m=o[g])),b=e;v<p;++v)(b=Nh(m>0?f[v]+" "+_:Oh(_,/&\f/g,f[v])))&&(l[y++]=b);return Kh(e,t,n,0===i?kh:a,l,u,c,h)}function yd(e,t,n,r){return Kh(e,t,n,Th,Ph(Hh),Mh(e,2,-2),0,r)}function vd(e,t,n,r,i){return Kh(e,t,n,Ih,Mh(e,0,r),Mh(e,r+1,-1),r,i)}var _d={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bd="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}&&({NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}.SC_ATTR)||"data-styled",wd="active",Ed="data-styled-version",Sd="6.1.19",Td="/*!sc*/\n",kd="undefined"!=typeof window&&"undefined"!=typeof document,Id=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}.SC_DISABLE_SPEEDY)),Cd=(new Set,Object.freeze([])),Ad=Object.freeze({});function Pd(e,t,n){return void 0===n&&(n=Ad),e.theme!==n.theme&&e.theme||t||n.theme}var Rd=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Nd=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,xd=/(^-|-$)/g;function Od(e){return e.replace(Nd,"-").replace(xd,"")}var Dd=/(a)(d)/gi,Ld=function(e){return String.fromCharCode(e+(e>25?39:97))};function Md(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ld(t%52)+n;return(Ld(t%52)+n).replace(Dd,"$1-$2")}var Fd,Ud=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Vd=function(e){return Ud(5381,e)};function zd(e){return Md(Vd(e)>>>0)}function jd(e){return e.displayName||e.name||"Component"}function Bd(e){return"string"==typeof e&&!0}var $d="function"==typeof Symbol&&Symbol.for,qd=$d?Symbol.for("react.memo"):60115,Hd=$d?Symbol.for("react.forward_ref"):60112,Wd={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Kd={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Gd={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qd=((Fd={})[Hd]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fd[qd]=Gd,Fd);function Yd(e){return("type"in(t=e)&&t.type.$$typeof)===qd?Gd:"$$typeof"in e?Qd[e.$$typeof]:Wd;var t}var Xd=Object.defineProperty,Jd=Object.getOwnPropertyNames,Zd=Object.getOwnPropertySymbols,ef=Object.getOwnPropertyDescriptor,tf=Object.getPrototypeOf,nf=Object.prototype;function rf(e,t,n){if("string"!=typeof t){if(nf){var r=tf(t);r&&r!==nf&&rf(e,r,n)}var i=Jd(t);Zd&&(i=i.concat(Zd(t)));for(var s=Yd(e),o=Yd(t),a=0;a<i.length;++a){var l=i[a];if(!(l in Kd||n&&n[l]||o&&l in o||s&&l in s)){var u=ef(t,l);try{Xd(e,l,u)}catch(e){}}}}return e}function sf(e){return"function"==typeof e}function of(e){return"object"==typeof e&&"styledComponentId"in e}function af(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function lf(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function uf(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function cf(e,t,n){if(void 0===n&&(n=!1),!n&&!uf(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=cf(e[r],t[r]);else if(uf(t))for(var r in t)e[r]=cf(e[r],t[r]);return e}function hf(e,t){Object.defineProperty(e,"toString",{value:t})}function df(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var ff=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw df(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=r;s<i;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),a=(s=0,t.length);s<a;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,s=r;s<i;s++)t+="".concat(this.tag.getRule(s)).concat(Td);return t},e}(),pf=new Map,gf=new Map,mf=1,yf=function(e){if(pf.has(e))return pf.get(e);for(;gf.has(mf);)mf++;var t=mf++;return pf.set(e,t),gf.set(t,e),t},vf=function(e,t){mf=t+1,pf.set(e,t),gf.set(t,e)},_f="style[".concat(bd,"][").concat(Ed,'="').concat(Sd,'"]'),bf=new RegExp("^".concat(bd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),wf=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},Ef=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Td),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(bf);if(l){var u=0|parseInt(l[1],10),c=l[2];0!==u&&(vf(c,u),wf(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}},Sf=function(e){for(var t=document.querySelectorAll(_f),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(bd)!==wd&&(Ef(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function Tf(){return n.nc}var kf=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(bd,"]")));return t[t.length-1]}(n),s=void 0!==i?i.nextSibling:null;r.setAttribute(bd,wd),r.setAttribute(Ed,Sd);var o=Tf();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},If=function(){function e(e){this.element=kf(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw df(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Cf=function(){function e(e){this.element=kf(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Af=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Pf=kd,Rf={isServer:!kd,useCSSOMInjection:!Id},Nf=function(){function e(e,t,n){void 0===e&&(e=Ad),void 0===t&&(t={});var r=this;this.options=yh(yh({},Rf),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&kd&&Pf&&(Pf=!1,Sf(this)),hf(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return gf.get(e)}(n);if(void 0===i)return"continue";var s=e.names.get(i),o=t.getGroup(n);if(void 0===s||!s.size||0===o.length)return"continue";var a="".concat(bd,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==s&&s.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(o).concat(a,'{content:"').concat(l,'"}').concat(Td)},s=0;s<n;s++)i(s);return r}(r)}))}return e.registerId=function(e){return yf(e)},e.prototype.rehydrate=function(){!this.server&&kd&&Sf(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(yh(yh({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Af(n):t?new If(n):new Cf(n)}(this.options),new ff(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(yf(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(yf(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(yf(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),xf=/&/g,Of=/^\s*\/\/.*$/gm;function Df(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Df(e.children,t)),e}))}function Lf(e){var t,n,r,i=void 0===e?Ad:e,s=i.options,o=void 0===s?Ad:s,a=i.plugins,l=void 0===a?Cd:a,u=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},c=l.slice();c.push((function(e){e.type===kh&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(xf,n).replace(r,u))})),o.prefix&&c.push(fd),c.push(hd);var h=function(e,i,s,a){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a="&"),t=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(Of,""),u=pd(s||i?"".concat(s," ").concat(i," { ").concat(l," }"):l);o.namespace&&(u=Df(u,o.namespace));var h,d=[];return cd(u,function(e){var t=Uh(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}(c.concat((h=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&h(e)})))),d};return h.hash=l.length?l.reduce((function(e,t){return t.name||df(15),Ud(e,t.name)}),5381).toString():"",h}var Mf=new Nf,Ff=Lf(),Uf=e.createContext({shouldForwardProp:void 0,styleSheet:Mf,stylis:Ff}),Vf=(Uf.Consumer,e.createContext(void 0));function zf(){return(0,e.useContext)(Uf)}function jf(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],s=zf().styleSheet,o=(0,e.useMemo)((function(){var e=s;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target,s]),a=(0,e.useMemo)((function(){return Lf({options:{namespace:t.namespace,prefix:t.enableVendorPrefixes},plugins:r})}),[t.enableVendorPrefixes,t.namespace,r]);(0,e.useEffect)((function(){bh()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]);var l=(0,e.useMemo)((function(){return{shouldForwardProp:t.shouldForwardProp,styleSheet:o,stylis:a}}),[t.shouldForwardProp,o,a]);return e.createElement(Uf.Provider,{value:l},e.createElement(Vf.Provider,{value:a},t.children))}var Bf=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Ff);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,hf(this,(function(){throw df(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Ff),this.name+e.hash},e}(),$f=function(e){return e>="A"&&e<="Z"};function qf(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;$f(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Hf=function(e){return null==e||!1===e||""===e},Wf=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!Hf(s)&&(Array.isArray(s)&&s.isCss||sf(s)?r.push("".concat(qf(i),":"),s,";"):uf(s)?r.push.apply(r,vh(vh(["".concat(i," {")],Wf(s),!1),["}"],!1)):r.push("".concat(qf(i),": ").concat((t=i,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in _d||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Kf(e,t,n,r){return Hf(e)?[]:of(e)?[".".concat(e.styledComponentId)]:sf(e)?!sf(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Kf(e(t),t,n,r):e instanceof Bf?n?(e.inject(n,r),[e.getName(r)]):[e]:uf(e)?Wf(e):Array.isArray(e)?Array.prototype.concat.apply(Cd,e.map((function(e){return Kf(e,t,n,r)}))):[e.toString()];var i}function Gf(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(sf(n)&&!of(n))return!1}return!0}var Qf=Vd(Sd),Yf=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Gf(e),this.componentId=t,this.baseHash=Ud(Qf,t),this.baseStyle=n,Nf.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=af(r,this.staticRulesId);else{var i=lf(Kf(this.rules,e,t,n)),s=Md(Ud(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,s)){var o=n(i,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,o)}r=af(r,s),this.staticRulesId=s}else{for(var a=Ud(this.baseHash,n.hash),l="",u=0;u<this.rules.length;u++){var c=this.rules[u];if("string"==typeof c)l+=c;else if(c){var h=lf(Kf(c,e,t,n));a=Ud(a,h+u),l+=h}}if(l){var d=Md(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=af(r,d)}}return r},e}(),Xf=e.createContext(void 0);Xf.Consumer;var Jf={};new Set;function Zf(t,n,r){var i=of(t),s=t,o=!Bd(t),a=n.attrs,l=void 0===a?Cd:a,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Od(e);Jf[n]=(Jf[n]||0)+1;var r="".concat(n,"-").concat(zd(Sd+n+Jf[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):u,h=n.displayName,d=void 0===h?function(e){return Bd(e)?"styled.".concat(e):"Styled(".concat(jd(e),")")}(t):h,f=n.displayName&&n.componentId?"".concat(Od(n.displayName),"-").concat(n.componentId):n.componentId||c,p=i&&s.attrs?s.attrs.concat(l).filter(Boolean):l,g=n.shouldForwardProp;if(i&&s.shouldForwardProp){var m=s.shouldForwardProp;if(n.shouldForwardProp){var y=n.shouldForwardProp;g=function(e,t){return m(e,t)&&y(e,t)}}else g=m}var v=new Yf(r,f,i?s.componentStyle:void 0);function _(t,n){return function(t,n,r){var i=t.attrs,s=t.componentStyle,o=t.defaultProps,a=t.foldedComponentIds,l=t.styledComponentId,u=t.target,c=e.useContext(Xf),h=zf(),d=t.shouldForwardProp||h.shouldForwardProp,f=Pd(n,c,o)||Ad,p=function(e,t,n){for(var r,i=yh(yh({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var o=sf(r=e[s])?r(i):r;for(var a in o)i[a]="className"===a?af(i[a],o[a]):"style"===a?yh(yh({},i[a]),o[a]):o[a]}return t.className&&(i.className=af(i.className,t.className)),i}(i,n,f),g=p.as||u,m={};for(var y in p)void 0===p[y]||"$"===y[0]||"as"===y||"theme"===y&&p.theme===f||("forwardedAs"===y?m.as=p.forwardedAs:d&&!d(y,g)||(m[y]=p[y]));var v=function(e,t){var n=zf();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(s,p),_=af(a,l);return v&&(_+=" "+v),p.className&&(_+=" "+p.className),m[Bd(g)&&!Rd.has(g)?"class":"className"]=_,r&&(m.ref=r),(0,e.createElement)(g,m)}(b,t,n)}_.displayName=d;var b=e.forwardRef(_);return b.attrs=p,b.componentStyle=v,b.displayName=d,b.shouldForwardProp=g,b.foldedComponentIds=i?af(s.foldedComponentIds,s.styledComponentId):"",b.styledComponentId=f,b.target=i?s.target:t,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)cf(e,i[r],!0);return e}({},s.defaultProps,e):e}}),hf(b,(function(){return".".concat(b.styledComponentId)})),o&&rf(b,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function ep(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var tp=function(e){return Object.assign(e,{isCss:!0})};function np(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(sf(e)||uf(e))return tp(Kf(ep(Cd,vh([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Kf(r):tp(Kf(ep(r,t)))}function rp(e,t,n){if(void 0===n&&(n=Ad),!t)throw df(1,t);var r=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,np.apply(void 0,vh([r],i,!1)))};return r.attrs=function(r){return rp(e,t,yh(yh({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return rp(e,t,yh(yh({},n),r))},r}var ip=function(e){return rp(Zf,e)},sp=ip;Rd.forEach((function(e){sp[e]=ip(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Gf(e),Nf.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(lf(Kf(this.rules,t,n,r)),""),s=this.componentId+e;n.insertRules(s,s,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&Nf.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function op(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=lf(np.apply(void 0,vh([e],t,!1))),i=zd(r);return new Bf(i,r)}(function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var n=Tf(),r=lf([n&&'nonce="'.concat(n,'"'),"".concat(bd,'="true"'),"".concat(Ed,'="').concat(Sd,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(e,"</style>")},this.getStyleTags=function(){if(t.sealed)throw df(2);return t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)throw df(2);var r=t.instance.toString();if(!r)return[];var i=((n={})[bd]="",n[Ed]=Sd,n.dangerouslySetInnerHTML={__html:r},n),s=Tf();return s&&(i.nonce=s),[e.createElement("style",yh({},i,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new Nf({isServer:!0}),this.sealed=!1}t.prototype.collectStyles=function(t){if(this.sealed)throw df(2);return e.createElement(jf,{sheet:this.instance},t)},t.prototype.interleaveWithNodeStream=function(e){throw df(3)}})(),"__sc-".concat(bd,"__");const ap="#4fa94d",lp={"aria-busy":!0,role:"progressbar"},up=(sp.div`
  display: ${e=>e.$visible?"flex":"none"};
`,"http://www.w3.org/2000/svg"),cp=242.776657104492,hp=op`
12.5% {
  stroke-dasharray: ${33.98873199462888}px, ${cp}px;
  stroke-dashoffset: -${26.70543228149412}px;
}
43.75% {
  stroke-dasharray: ${84.97182998657219}px, ${cp}px;
  stroke-dashoffset: -${84.97182998657219}px;
}
100% {
  stroke-dasharray: ${2.42776657104492}px, ${cp}px;
  stroke-dashoffset: -${240.34889053344708}px;
}
`,dp=(sp.path`
  stroke-dasharray: ${2.42776657104492}px, ${cp};
  stroke-dashoffset: 0;
  animation: ${hp} ${1.6}s linear infinite;
`,[0,30,60,90,120,150,180,210,240,270,300,330]),fp=op`
to {
   transform: rotate(360deg);
 }
`,pp=sp.svg`
  animation: ${fp} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`,gp=sp.polyline`
  stroke-width: ${e=>e.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`,mp=t=>{let{strokeColor:n=ap,strokeWidth:r="5",animationDuration:i="0.75",width:s="96",visible:o=!0,ariaLabel:a="rotating-lines-loading"}=t;const l=(0,e.useCallback)((()=>dp.map((e=>(0,mh.jsx)(gp,{points:"24,12 24,4",width:r,transform:`rotate(${e}, 24, 24)`},e)))),[r]);return o?(0,mh.jsx)(pp,{xmlns:up,viewBox:"0 0 48 48",width:s,stroke:n,speed:i,"data-testid":"rotating-lines-svg","aria-label":a,...lp,children:l()}):null},yp=op`
to {
   stroke-dashoffset: 136;
 }
`,vp=(sp.polygon`
  stroke-dasharray: 17;
  animation: ${yp} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`,sp.svg`
  transform-origin: 50% 65%;
`,function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}),_p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vp(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new bp;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bp extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wp=function(e){return function(e){const t=vp(e);return _p.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ep=function(e){try{return _p.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const Sp=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Tp=()=>{try{return Sp()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/ZorixShooterBuildTestBranch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",REACT_APP_FIREBASE_APP_ID:"1:983540791855:web:d76a065a07319957ebe4da",REACT_APP_FIREBASE_AUTH_DOMAIN:"zorixshooter.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"983540791855",REACT_APP_FIREBASE_PROJECT_ID:"zorixshooter",REACT_APP_FIREBASE_STORAGE_BUCKET:"zorixshooter.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ep(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},kp=e=>{var t,n;return null===(n=null===(t=Tp())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ip=()=>{var e;return null===(e=Tp())||void 0===e?void 0:e.config},Cp=e=>{var t;return null===(t=Tp())||void 0===t?void 0:t[`_${e}`]};class Ap{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Pp(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Rp(){return!function(){var e;const t=null===(e=Tp())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Np(){try{return"object"===typeof indexedDB}catch(e){return!1}}class xp extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,xp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Op.prototype.create)}}class Op{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Dp,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new xp(n,s,t)}}const Dp=/\{\$([^}]+)}/g;function Lp(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Mp(n)&&Mp(s)){if(!Lp(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mp(e){return null!==e&&"object"===typeof e}function Fp(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Up(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Vp(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class zp{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=jp),void 0===r.error&&(r.error=jp),void 0===r.complete&&(r.complete=jp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function jp(){}function Bp(e){return e&&e._delegate?e._delegate:e}class $p{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qp="[DEFAULT]";class Hp{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ap;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qp})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qp;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qp;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qp;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(Os){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wp(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(Os){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qp;return this.component?this.component.multipleInstances?e:qp:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Wp(e){return e===qp?void 0:e}class Kp{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Hp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Gp=[];var Qp;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Qp||(Qp={}));const Yp={debug:Qp.DEBUG,verbose:Qp.VERBOSE,info:Qp.INFO,warn:Qp.WARN,error:Qp.ERROR,silent:Qp.SILENT},Xp=Qp.INFO,Jp={[Qp.DEBUG]:"log",[Qp.VERBOSE]:"log",[Qp.INFO]:"info",[Qp.WARN]:"warn",[Qp.ERROR]:"error"},Zp=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Jp[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class eg{constructor(e){this.name=e,this._logLevel=Xp,this._logHandler=Zp,this._userLogHandler=null,Gp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qp))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Yp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Qp.DEBUG,...t),this._logHandler(this,Qp.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Qp.VERBOSE,...t),this._logHandler(this,Qp.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Qp.INFO,...t),this._logHandler(this,Qp.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Qp.WARN,...t),this._logHandler(this,Qp.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Qp.ERROR,...t),this._logHandler(this,Qp.ERROR,...t)}}let tg,ng;const rg=new WeakMap,ig=new WeakMap,sg=new WeakMap,og=new WeakMap,ag=new WeakMap;let lg={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ig.get(e);if("objectStoreNames"===t)return e.objectStoreNames||sg.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hg(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ug(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ng||(ng=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(dg(this),n),hg(rg.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hg(e.apply(dg(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(dg(this),t,...r);return sg.set(s,t.sort?t.sort():[t]),hg(s)}}function cg(e){return"function"===typeof e?ug(e):(e instanceof IDBTransaction&&function(e){if(ig.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));ig.set(e,t)}(e),((e,t)=>t.some((t=>e instanceof t)))(e,tg||(tg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,lg):e)}function hg(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(hg(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&rg.set(t,e)})).catch((()=>{})),ag.set(t,e),t}(e);if(og.has(e))return og.get(e);const t=cg(e);return t!==e&&(og.set(e,t),ag.set(t,e)),t}const dg=e=>ag.get(e);const fg=["get","getKey","getAll","getAllKeys","count"],pg=["put","add","delete","clear"],gg=new Map;function mg(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(gg.get(t))return gg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=pg.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!fg.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return gg.set(t,s),s}lg=(e=>({...e,get:(t,n,r)=>mg(t,n)||e.get(t,n,r),has:(t,n)=>!!mg(t,n)||e.has(t,n)}))(lg);class yg{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const vg="@firebase/app",_g="0.10.13",bg=new eg("@firebase/app"),wg="@firebase/app-compat",Eg="@firebase/analytics-compat",Sg="@firebase/analytics",Tg="@firebase/app-check-compat",kg="@firebase/app-check",Ig="@firebase/auth",Cg="@firebase/auth-compat",Ag="@firebase/database",Pg="@firebase/data-connect",Rg="@firebase/database-compat",Ng="@firebase/functions",xg="@firebase/functions-compat",Og="@firebase/installations",Dg="@firebase/installations-compat",Lg="@firebase/messaging",Mg="@firebase/messaging-compat",Fg="@firebase/performance",Ug="@firebase/performance-compat",Vg="@firebase/remote-config",zg="@firebase/remote-config-compat",jg="@firebase/storage",Bg="@firebase/storage-compat",$g="@firebase/firestore",qg="@firebase/vertexai-preview",Hg="@firebase/firestore-compat",Wg="firebase",Kg="[DEFAULT]",Gg={[vg]:"fire-core",[wg]:"fire-core-compat",[Sg]:"fire-analytics",[Eg]:"fire-analytics-compat",[kg]:"fire-app-check",[Tg]:"fire-app-check-compat",[Ig]:"fire-auth",[Cg]:"fire-auth-compat",[Ag]:"fire-rtdb",[Pg]:"fire-data-connect",[Rg]:"fire-rtdb-compat",[Ng]:"fire-fn",[xg]:"fire-fn-compat",[Og]:"fire-iid",[Dg]:"fire-iid-compat",[Lg]:"fire-fcm",[Mg]:"fire-fcm-compat",[Fg]:"fire-perf",[Ug]:"fire-perf-compat",[Vg]:"fire-rc",[zg]:"fire-rc-compat",[jg]:"fire-gcs",[Bg]:"fire-gcs-compat",[$g]:"fire-fst",[Hg]:"fire-fst-compat",[qg]:"fire-vertex","fire-js":"fire-js",[Wg]:"fire-js-all"},Qg=new Map,Yg=new Map,Xg=new Map;function Jg(e,t){try{e.container.addComponent(t)}catch(n){bg.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zg(e){const t=e.name;if(Xg.has(t))return bg.debug(`There were multiple attempts to register component ${t}.`),!1;Xg.set(t,e);for(const n of Qg.values())Jg(n,e);for(const n of Yg.values())Jg(n,e);return!0}function em(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function tm(e){return void 0!==e.settings}const nm=new Op("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class rm{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $p("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nm.create("app-deleted",{appName:this._name})}}const im="10.14.1";function sm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Kg,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw nm.create("bad-app-name",{appName:String(i)});if(n||(n=Ip()),!n)throw nm.create("no-options");const s=Qg.get(i);if(s){if(Lp(n,s.options)&&Lp(r,s.config))return s;throw nm.create("duplicate-app",{appName:i})}const o=new Kp(i);for(const l of Xg.values())o.addComponent(l);const a=new rm(n,r,o);return Qg.set(i,a),a}function om(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kg;const t=Qg.get(e);if(!t&&e===Kg&&Ip())return sm();if(!t)throw nm.create("no-app",{appName:e});return t}function am(e,t,n){var r;let i=null!==(r=Gg[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void bg.warn(e.join(" "))}Zg(new $p(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const lm="firebase-heartbeat-store";let um=null;function cm(){return um||(um=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=hg(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(hg(o.result),e.oldVersion,e.newVersion,hg(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(lm)}catch(n){console.warn(n)}}}).catch((e=>{throw nm.create("idb-open",{originalErrorMessage:e.message})}))),um}async function hm(e,t){try{const n=(await cm()).transaction(lm,"readwrite"),r=n.objectStore(lm);await r.put(t,dm(e)),await n.done}catch(n){if(n instanceof xp)bg.warn(n.message);else{const e=nm.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});bg.warn(e.message)}}}function dm(e){return`${e.name}!${e.options.appId}`}class fm{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gm(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pm();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(n){bg.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=pm(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),mm(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=wp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return bg.warn(t),""}}}function pm(){return(new Date).toISOString().substring(0,10)}class gm{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Np()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await cm()).transaction(lm),n=await t.objectStore(lm).get(dm(e));return await t.done,n}catch(t){if(t instanceof xp)bg.warn(t.message);else{const e=nm.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});bg.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return hm(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return hm(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function mm(e){return wp(JSON.stringify({version:2,heartbeats:e})).length}!function(e){Zg(new $p("platform-logger",(e=>new yg(e)),"PRIVATE")),Zg(new $p("heartbeat",(e=>new fm(e)),"PRIVATE")),am(vg,_g,e),am(vg,_g,"esm2017"),am("fire-js","")}("");am("firebase","10.14.1","app");function ym(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function vm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _m=vm,bm=new Op("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wm=new eg("@firebase/auth");function Em(e){if(wm.logLevel<=Qp.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wm.error(`Auth (${im}): ${e}`,...n)}}function Sm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Cm(e,...n)}function Tm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cm(e,...n)}function km(e,t,n){const r=Object.assign(Object.assign({},_m()),{[t]:n});return new Op("auth","Firebase",r).create(t,{appName:e.name})}function Im(e){return km(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return bm.create(e,...n)}function Am(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Cm(t,...r)}}function Pm(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Em(t),new Error(t)}function Rm(e,t){e||Pm(t)}function Nm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xm(){return"http:"===Om()||"https:"===Om()}function Om(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Dm(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(xm()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Lm{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rm(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pp())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Dm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(e,t){Rm(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Fm{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Pm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Pm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Pm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Um={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vm=new Lm(3e4,6e4);function zm(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function jm(e,t,n,r){return Bm(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Fp(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Fm.fetch()(qm(e,e.config.apiHost,n,o),l)}))}async function Bm(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Um),t);try{const t=new Wm(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Km(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Km(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Km(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Km(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw km(e,a,o);Sm(e,a)}}catch(i){if(i instanceof xp)throw i;Sm(e,"network-request-failed",{message:String(i)})}}async function $m(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await jm(e,t,n,r,i);return"mfaPendingCredential"in s&&Sm(e,"multi-factor-auth-required",{_serverResponse:s}),s}function qm(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Mm(e.config,i):`${e.config.apiScheme}://${i}`}function Hm(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wm{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Tm(this.auth,"network-request-failed"))),Vm.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Km(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tm(e,t,r);return i.customData._tokenResponse=n,i}function Gm(e){return void 0!==e&&void 0!==e.enterprise}class Qm{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Hm(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ym(e,t){return jm(e,"GET","/v2/recaptchaConfig",zm(e,t))}async function Xm(e,t){return jm(e,"POST","/v1/accounts:lookup",t)}function Jm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Zm(e){return 1e3*Number(e)}function ey(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Em("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ep(n);return e?JSON.parse(e):(Em("Failed to decode base64 JWT payload"),null)}catch(i){return Em("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function ty(e){const t=ey(e);return Am(t,"internal-error"),Am("undefined"!==typeof t.exp,"internal-error"),Am("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ny(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof xp&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class ry{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class iy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jm(this.lastLoginAt),this.creationTime=Jm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sy(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ny(e,Xm(n,{idToken:r}));Am(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?oy(s.providerUserInfo):[],a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new iy(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function oy(e){return e.map((e=>{var{providerId:t}=e,n=ym(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ay{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Am(e.idToken,"internal-error"),Am("undefined"!==typeof e.idToken,"internal-error"),Am("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ty(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Am(0!==e.length,"internal-error");const t=ty(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Am(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Bm(e,{},(async()=>{const n=Fp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=qm(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Fm.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ay;return n&&(Am("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Am("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Am("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ay,this.toJSON())}_performRefresh(){return Pm("not implemented")}}function ly(e,t){Am("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class uy{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ym(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ry(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new iy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ny(this,this.stsTokenManager.getToken(this.auth,e));return Am(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Bp(e),r=await n.getIdToken(t),i=ey(r);Am(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jm(Zm(i.auth_time)),issuedAtTime:Jm(Zm(i.iat)),expirationTime:Jm(Zm(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Bp(e);await sy(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Am(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new uy(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Am(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await sy(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tm(this.auth.app))return Promise.reject(Im(this.auth));const e=await this.getIdToken();return await ny(this,async function(e,t){return jm(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:E}=t;Am(v&&E,e,"internal-error");const S=ay.fromJSON(this.name,E);Am("string"===typeof v,e,"internal-error"),ly(c,e.name),ly(h,e.name),Am("boolean"===typeof _,e,"internal-error"),Am("boolean"===typeof b,e,"internal-error"),ly(d,e.name),ly(f,e.name),ly(p,e.name),ly(g,e.name),ly(m,e.name),ly(y,e.name);const T=new uy({uid:v,auth:e,email:h,emailVerified:_,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:y});return w&&Array.isArray(w)&&(T.providerData=w.map((e=>Object.assign({},e)))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ay;r.updateFromServerResponse(t);const i=new uy({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await sy(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Am(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?oy(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new ay;o.updateFromIdToken(n);const a=new uy({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new iy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const cy=new Map;function hy(e){Rm(e instanceof Function,"Expected a class definition");let t=cy.get(e);return t?(Rm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cy.set(e,t),t)}class dy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dy.type="NONE";const fy=dy;function py(e,t,n){return`firebase:${e}:${t}:${n}`}class gy{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=py(this.userKey,r.apiKey,i),this.fullPersistenceKey=py("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?uy._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new gy(hy(fy),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||hy(fy);const s=py(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=uy._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(Os){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(Os){}}))),new gy(i,e,n)):new gy(i,e,n)}}function my(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(by(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ey(t))return"Blackberry";if(Sy(t))return"Webos";if(vy(t))return"Safari";if((t.includes("chrome/")||_y(t))&&!t.includes("edge/"))return"Chrome";if(wy(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function yy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp();return/firefox\//i.test(e)}function vy(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp();return/crios\//i.test(e)}function by(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp();return/iemobile/i.test(e)}function wy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp();return/android/i.test(e)}function Ey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp();return/blackberry/i.test(e)}function Sy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp();return/webos/i.test(e)}function Ty(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ky(){return function(){const e=Pp();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Iy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp();return Ty(e)||wy(e)||Sy(e)||Ey(e)||/windows phone/i.test(e)||by(e)}function Cy(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=my(Pp());break;case"Worker":t=`${my(Pp())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${im}/${r}`}class Ay{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(de){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Py{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ry{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xy(this),this.idTokenSubscription=new xy(this),this.beforeStateQueue=new Ay(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hy(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await gy.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Xm(this,{idToken:e}),n=await uy._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(tm(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Am(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sy(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tm(this.app))return Promise.reject(Im(this));const t=e?Bp(e):null;return t&&Am(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Am(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return tm(this.app)?Promise.reject(Im(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tm(this.app)?Promise.reject(Im(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(hy(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return jm(e,"GET","/v2/passwordPolicy",zm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Py(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Op("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return jm(e,"POST","/v2/accounts:revokeToken",zm(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hy(e)||this._popupRedirectResolver;Am(t,this,"argument-error"),this.redirectPersistenceManager=await gy.create(this,[hy(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Am(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Am(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(wm.logLevel<=Qp.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wm.warn(`Auth (${im}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Ny(e){return Bp(e)}class xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new zp(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Am(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Oy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dy(e){return Oy.loadJS(e)}function Ly(e){return`__${e}${Math.floor(1e6*Math.random())}`}class My{constructor(e){this.type="recaptcha-enterprise",this.auth=Ny(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Gm(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ym(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Qm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Gm(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Oy.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Dy(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Fy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new My(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Uy(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Fy(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Fy(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Vy(e,t,n){const r=Ny(e);Am(r._canInitEmulator,r,"emulator-config-failed"),Am(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=zy(t),{host:o,port:a}=function(e){const t=zy(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:jy(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:jy(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zy(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function jy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class By{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pm("not implemented")}_getIdTokenResponse(e){return Pm("not implemented")}_linkToIdToken(e,t){return Pm("not implemented")}_getReauthenticationResolver(e){return Pm("not implemented")}}async function $y(e,t){return jm(e,"POST","/v1/accounts:signUp",t)}async function qy(e,t){return $m(e,"POST","/v1/accounts:signInWithPassword",zm(e,t))}class Hy extends By{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Hy(e,t,"password")}static _fromEmailAndCode(e,t){return new Hy(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Uy(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",qy);case"emailLink":return async function(e,t){return $m(e,"POST","/v1/accounts:signInWithEmailLink",zm(e,t))}(e,{email:this._email,oobCode:this._password});default:Sm(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Uy(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$y);case"emailLink":return async function(e,t){return $m(e,"POST","/v1/accounts:signInWithEmailLink",zm(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Sm(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wy(e,t){return $m(e,"POST","/v1/accounts:signInWithIdp",zm(e,t))}class Ky extends By{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ky(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sm("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ym(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ky(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Wy(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Wy(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wy(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fp(t)}return e}}const Gy={USER_NOT_FOUND:"user-not-found"};class Qy extends By{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Qy({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Qy({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return $m(e,"POST","/v1/accounts:signInWithPhoneNumber",zm(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await $m(e,"POST","/v1/accounts:signInWithPhoneNumber",zm(e,t));if(n.temporaryProof)throw Km(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return $m(e,"POST","/v1/accounts:signInWithPhoneNumber",zm(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Gy)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Qy({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Yy{constructor(e){var t,n,r,i,s,o;const a=Up(Vp(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Am(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Up(Vp(e)).link,n=t?Up(Vp(t)).deep_link_id:null,r=Up(Vp(e)).deep_link_id;return(r?Up(Vp(r)).link:null)||r||n||t||e}(e);try{return new Yy(t)}catch(Os){return null}}}class Xy{constructor(){this.providerId=Xy.PROVIDER_ID}static credential(e,t){return Hy._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Yy.parseLink(t);return Am(n,"argument-error"),Hy._fromEmailAndCode(e,n.code,n.tenantId)}}Xy.PROVIDER_ID="password",Xy.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Xy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Jy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zy extends Jy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ev extends Zy{constructor(){super("facebook.com")}static credential(e){return Ky._fromParams({providerId:ev.PROVIDER_ID,signInMethod:ev.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ev.credentialFromTaggedObject(e)}static credentialFromError(e){return ev.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ev.credential(t.oauthAccessToken)}catch(Os){return null}}}ev.FACEBOOK_SIGN_IN_METHOD="facebook.com",ev.PROVIDER_ID="facebook.com";class tv extends Zy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ky._fromParams({providerId:tv.PROVIDER_ID,signInMethod:tv.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return tv.credentialFromTaggedObject(e)}static credentialFromError(e){return tv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return tv.credential(n,r)}catch(Os){return null}}}tv.GOOGLE_SIGN_IN_METHOD="google.com",tv.PROVIDER_ID="google.com";class nv extends Zy{constructor(){super("github.com")}static credential(e){return Ky._fromParams({providerId:nv.PROVIDER_ID,signInMethod:nv.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nv.credentialFromTaggedObject(e)}static credentialFromError(e){return nv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return nv.credential(t.oauthAccessToken)}catch(Os){return null}}}nv.GITHUB_SIGN_IN_METHOD="github.com",nv.PROVIDER_ID="github.com";class rv extends Zy{constructor(){super("twitter.com")}static credential(e,t){return Ky._fromParams({providerId:rv.PROVIDER_ID,signInMethod:rv.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rv.credentialFromTaggedObject(e)}static credentialFromError(e){return rv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return rv.credential(n,r)}catch(Os){return null}}}async function iv(e,t){return $m(e,"POST","/v1/accounts:signUp",zm(e,t))}rv.TWITTER_SIGN_IN_METHOD="twitter.com",rv.PROVIDER_ID="twitter.com";class sv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await uy._fromIdTokenResponse(e,n,r),s=ov(n);return new sv({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ov(n);return new sv({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ov(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class av extends xp{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,av.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new av(e,t,n,r)}}function lv(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw av._fromErrorAndOperation(e,n,t,r);throw n}))}async function uv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ny(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return sv._forOperation(e,"link",r)}async function cv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(tm(r.app))return Promise.reject(Im(r));const i="reauthenticate";try{const s=await ny(e,lv(r,i,t,e),n);Am(s.idToken,r,"internal-error");const o=ey(s.idToken);Am(o,r,"internal-error");const{sub:a}=o;return Am(e.uid===a,r,"user-mismatch"),sv._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&Sm(r,"user-mismatch"),s}}async function hv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(tm(e.app))return Promise.reject(Im(e));const r="signIn",i=await lv(e,r,t),s=await sv._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}new WeakMap;const dv="__sak";class fv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dv,"1"),this.storage.removeItem(dv),Promise.resolve(!0)):Promise.resolve(!1)}catch(Os){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class pv extends fv{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Iy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ky()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pv.type="LOCAL";const gv=pv;class mv extends fv{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mv.type="SESSION";const yv=mv;class vv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new vv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vv.receivers=[];class bv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=_v("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function wv(){return window}function Ev(){return"undefined"!==typeof wv().WorkerGlobalScope&&"function"===typeof wv().importScripts}const Sv="firebaseLocalStorageDb",Tv="firebaseLocalStorage",kv="fbase_key";class Iv{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Cv(e,t){return e.transaction([Tv],t?"readwrite":"readonly").objectStore(Tv)}function Av(){const e=indexedDB.open(Sv,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Tv,{keyPath:kv})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Tv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Sv);return new Iv(e).toPromise()}(),t(await Av()))}))}))}async function Pv(e,t,n){const r=Cv(e,!0).put({[kv]:t,value:n});return new Iv(r).toPromise()}function Rv(e,t){const n=Cv(e,!0).delete(t);return new Iv(n).toPromise()}class Nv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Av()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ev()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vv._getInstance(Ev()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new bv(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(Os){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Av();return await Pv(e,dv,"1"),await Rv(e,dv),!0}catch(Os){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Pv(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Cv(e,!1).get(t),r=await new Iv(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Rv(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Cv(e,!1).getAll();return new Iv(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Nv.type="LOCAL";const xv=Nv;Ly("rcb"),new Lm(3e4,6e4);const Ov="recaptcha";async function Dv(e,t,n){var r;const i=await n.verify();try{let s;if(Am("string"===typeof i,e,"argument-error"),Am(n.type===Ov,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Am("enroll"===t.type,e,"internal-error");const n=await function(e,t){return jm(e,"POST","/v2/accounts/mfaEnrollment:start",zm(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Am("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Am(n,e,"missing-multi-factor-info");const o=await function(e,t){return jm(e,"POST","/v2/accounts/mfaSignIn:start",zm(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return jm(e,"POST","/v1/accounts:sendVerificationCode",zm(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Lv{constructor(e){this.providerId=Lv.PROVIDER_ID,this.auth=Ny(e)}verifyPhoneNumber(e,t){return Dv(this.auth,e,Bp(t))}static credential(e,t){return Qy._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Lv.credentialFromTaggedObject(t)}static credentialFromError(e){return Lv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Qy._fromTokenResponse(n,r):null}}function Mv(e,t){return t?hy(t):(Am(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Lv.PROVIDER_ID="phone",Lv.PHONE_SIGN_IN_METHOD="phone";class Fv extends By{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wy(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Uv(e){return hv(e.auth,new Fv(e),e.bypassAuthState)}function Vv(e){const{auth:t,user:n}=e;return Am(n,t,"internal-error"),cv(n,new Fv(e),e.bypassAuthState)}async function zv(e){const{auth:t,user:n}=e;return Am(n,t,"internal-error"),uv(n,new Fv(e),e.bypassAuthState)}class jv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uv;case"linkViaPopup":case"linkViaRedirect":return zv;case"reauthViaPopup":case"reauthViaRedirect":return Vv;default:Sm(this.auth,"internal-error")}}resolve(e){Rm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bv=new Lm(2e3,1e4);class $v extends jv{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,$v.currentPopupAction&&$v.currentPopupAction.cancel(),$v.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Am(e,this.auth,"internal-error"),e}async onExecution(){Rm(1===this.filter.length,"Popup operations only handle one event");const e=_v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Tm(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Tm(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$v.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Tm(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Bv.get())};e()}}$v.currentPopupAction=null;const qv=new Map;class Hv extends jv{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=qv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Gv(t),r=Kv(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}qv.set(this.auth._key(),e)}return this.bypassAuthState||qv.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Wv(e,t){qv.set(e._key(),t)}function Kv(e){return hy(e._redirectPersistence)}function Gv(e){return py("pendingRedirect",e.config.apiKey,e.name)}async function Qv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(tm(e.app))return Promise.reject(Im(e));const r=Ny(e),i=Mv(r,t),s=new Hv(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Yv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Jv(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Tm(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(e))}saveEventToCache(e){this.cachedEventUids.add(Xv(e)),this.lastProcessedEventTime=Date.now()}}function Xv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Jv(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Zv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e_=/^https?/;async function t_(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return jm(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(n_(n))return}catch(Os){}Sm(e,"unauthorized-domain")}function n_(e){const t=Nm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!e_.test(n))return!1;if(Zv.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const r_=new Lm(3e4,6e4);function i_(){const e=wv().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function s_(e){return new Promise(((t,n)=>{var r,i,s;function o(){i_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{i_(),n(Tm(e,"network-request-failed"))},timeout:r_.get()})}if(null===(i=null===(r=wv().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=wv().gapi)||void 0===s?void 0:s.load)){const t=Ly("iframefcb");return wv()[t]=()=>{gapi.load?o():n(Tm(e,"network-request-failed"))},Dy(`${Oy.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw o_=null,e}))}let o_=null;const a_=new Lm(5e3,15e3),l_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c_(e){const t=e.config;Am(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Mm(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:im},i=u_.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Fp(r).slice(1)}`}async function h_(e){const t=await function(e){return o_=o_||s_(e),o_}(e),n=wv().gapi;return Am(n,e,"internal-error"),t.open({where:document.body,url:c_(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l_,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Tm(e,"network-request-failed"),s=wv().setTimeout((()=>{r(i)}),a_.get());function o(){wv().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const d_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class f_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function p_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},d_),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Pp().toLowerCase();n&&(a=_y(u)?"_blank":n),yy(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Ty(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new f_(null);const h=window.open(t||"",a,c);Am(h,e,"popup-blocked");try{h.focus()}catch(d){}return new f_(h)}const g_="__/auth/handler",m_="emulator/auth/handler",y_=encodeURIComponent("fac");async function v_(e,t,n,r,i,s){Am(e.config.authDomain,e,"auth-domain-config-required"),Am(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:im,eventId:i};if(t instanceof Jy){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Zy){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${y_}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${g_}`;return Mm(t,m_)}(e)}?${Fp(a).slice(1)}${u}`}const __="webStorageSupport";const b_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yv,this._completeRedirectFn=Qv,this._overrideRedirectResult=Wv}async _openPopup(e,t,n,r){var i;Rm(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return p_(e,await v_(e,t,n,Nm(),r),_v())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){wv().location.href=e}(await v_(e,t,n,Nm(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Rm(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await h_(e),n=new Yv(e);return t.register("authEvent",(t=>{Am(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(__,{type:__},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[__];void 0!==i&&t(!!i),Sm(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=t_(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Iy()||vy()||Ty()}};var w_="@firebase/auth",E_="1.7.9";class S_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Am(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const T_=Cp("authIdTokenMaxAge")||300;let k_=null;var I_;!function(e){Oy=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Tm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),I_="Browser",Zg(new $p("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Am(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:I_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cy(I_)},u=new Ry(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hy);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Zg(new $p("auth-internal",(e=>(e=>new S_(e))(Ny(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),am(w_,E_,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I_)),am(w_,E_,"esm2017");var C_,A_,P_="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},R_={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(c(t))throw Error("division by zero");if(c(e))return new g(a,a);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);h(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new g(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(s)>>>16,m=65535&e.i(s);n[2*i+2*s]+=f*m,p(n,2*i+2*s),n[2*i+2*s+1]+=l*m,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*g,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*g,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,A_=R_.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},C_=R_.Integer=r}).apply("undefined"!==typeof P_?P_:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var N_,x_,O_,D_,L_,M_,F_,U_,V_="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},z_={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof V_&&V_];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function u(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function h(e,t,n){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:c).apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function f(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function p(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function g(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function y(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function v(e){return v[" "](e),e}v[" "]=function(){};var _=-1!=y().indexOf("Gecko")&&!(-1!=y().toLowerCase().indexOf("webkit")&&-1==y().indexOf("Edge"))&&!(-1!=y().indexOf("Trident")||-1!=y().indexOf("MSIE"))&&-1==y().indexOf("Edge");function b(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<E.length;t++)n=E[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function T(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function I(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new A),(e=>e.reset()));class A{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let P,R=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=i.Promise.resolve(void 0);P=()=>{e.then(O)}};var O=()=>{for(var e;e=I();){try{e.h.call(e.g)}catch(n){k(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}R=!1};function D(){this.s=this.s,this.C=this.C}function L(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},L.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function F(e,t){if(L.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(_){e:{try{v(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:U[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&F.aa.h.call(this)}}f(F,L);var U={2:"touch",3:"pen",4:"mouse"};F.prototype.h=function(){F.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var V="closure_listenable_"+(1e6*Math.random()|0),z=0;function j(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=H(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new j(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),K={};function G(e,t,n,r,i){if(r&&r.once)return Y(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=re(n),e&&e[V]?e.K(t,n,l(r)?!!r.capture:!!r,i):Q(e,t,n,!1,r,i)}function Q(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=l(i)?!!i.capture:!!i,a=te(e);if(a||(e[W]=a=new $(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ee;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Z(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);return null}return n=re(n),e&&e[V]?e.L(t,n,l(r)?!!r.capture:!!r,i):Q(e,t,n,!0,r,i)}function X(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)X(e,t[s],n,r,i);else r=l(r)?!!r.capture:!!r,n=re(n),e&&e[V]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,r,i))&&(B(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[V])q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Z(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=te(t))?(q(n,e),0==n.h&&(n.src=null,t[W]=null)):B(e)}}}function Z(e){return e in K?K[e]:K[e]="on"+e}function ee(e,t){if(e.da)e=!0;else{t=new F(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function te(e){return(e=e[W])instanceof $?e:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(e){return"function"===typeof e?e:(e[ne]||(e[ne]=function(t){return e.handleEvent(t)}),e[ne])}function ie(){D.call(this),this.i=new $(this),this.M=this,this.F=null}function se(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new L(t,e);else if(t instanceof L)t.target=t.target||e;else{var i=t;S(t=new L(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=oe(o,r,!0,t)&&i}if(i=oe(o=t.g=e,r,!0,t)&&i,i=oe(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=oe(o=t.g=n[s],r,!1,t)&&i}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&q(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=h(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=h(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function le(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,le(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}f(ie,D),ie.prototype[V]=!0,ie.prototype.removeEventListener=function(e,t,n,r){X(this,e,t,n,r)},ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ie.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ie.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ue extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:le(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(e){D.call(this),this.h=e,this.g={}}f(ce,D);var he=[];function de(e){b(e.g,(function(e,t){this.g.hasOwnProperty(t)&&J(e)}),e),e.g={}}ce.prototype.N=function(){ce.aa.N.call(this),de(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fe=i.JSON.stringify,pe=i.JSON.parse,ge=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function me(){}function ye(e){return e.h||(e.h=e.i())}function ve(){}me.prototype.h=null;var _e={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function be(){L.call(this,"d")}function we(){L.call(this,"c")}f(be,L),f(we,L);var Ee={},Se=null;function Te(){return Se=Se||new ie}function ke(e){L.call(this,Ee.La,e)}function Ie(e){const t=Te();se(t,new ke(t))}function Ce(e,t){L.call(this,Ee.STAT_EVENT,e),this.stat=t}function Ae(e){const t=Te();se(t,new Ce(t,e))}function Pe(e,t){L.call(this,Ee.Ma,e),this.size=t}function Re(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function xe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return fe(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Ee.La="serverreachability",f(ke,L),Ee.STAT_EVENT="statevent",f(Ce,L),Ee.Ma="timingevent",f(Pe,L),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Oe,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function Fe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ce(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}f(Me,me),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Oe=new Me;var Ve={},ze={};function je(e,t,n){e.L=1,e.v=ft(lt(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),He(e),e.A=lt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ue,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ue(h(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(he[0]=i.toString()),i=he);for(var s=0;s<i.length;s++){var o=G(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ie(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function qe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ze:(n=Number(t.substring(n,r)),isNaN(n)?Ve:(r+=1)+n>t.length?ze:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Re(h(e.ba,e),t)}function Ke(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||un(e.j,e)}function Qe(e){Ke(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,de(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||tt(n.h,e)))if(!e.K&&tt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ln(n),Xt(n)}sn(n),Ae(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Re(h(n.Za,n),6e3));if(1>=et(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else hn(n,11)}else if((e.K||n.g==e)&&ln(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(nt(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,dt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=fn(r,r.J?r.ia:null,r.W),o.K){rt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(Ke(a),He(a)),r.g=o}else rn(r);0<n.i.length&&Zt(n)}else"stop"!=u[0]&&"close"!=u[0]||hn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?hn(n,7):Yt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Ie()}catch(u){}}Fe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Fe.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||Ie(),Ke(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=Kt(this.g);e="";var s=r.length,o=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qe(this),Ge(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Ae(12),Qe(this),Ge(this);break e}xe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=qe(this,a),e==ze){4==d&&(this.s=4,Ae(14),n=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ve){this.s=4,Ae(15),xe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}xe(this.i,this.l,e,null),Ye(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Ae(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(h),h.M=!0,Ae(11))}}else xe(this.i,this.l,a,"[Invalid Chunked Response]"),Qe(this),Ge(this)}else xe(this.i,this.l,a,null),Ye(this,a);4==d&&Qe(this),this.o&&!this.J&&(4==d?un(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=T(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),Qe(this),Ge(this)}}}catch(d){}},Fe.prototype.cancel=function(){this.J=!0,Qe(this)},Fe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ie(),Ae(17)),Qe(this),this.s=2,Ge(this)):We(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ze(e){return!!e.h||!!e.g&&e.g.size>=e.j}function et(e){return e.h?1:e.g?e.g.size:0}function tt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nt(e,t){e.g?e.g.add(t):e.h=t}function rt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function it(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return p(e.i)}function st(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Je.prototype.cancel=function(){if(this.i=it(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,ut(this,e.j),this.o=e.o,this.g=e.g,ct(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ht(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,ut(this,t[1]||"",!0),this.o=pt(t[2]||""),this.g=pt(t[3]||"",!0),ct(this,t[4]),this.l=pt(t[5]||"",!0),ht(this,t[6]||"",!0),this.m=pt(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function lt(e){return new at(e)}function ut(e,t,n){e.j=n?pt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ct(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ht(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tt(this,t),It(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=gt(t,bt)),e.i=new Et(t,e.h))}function dt(e,t,n){e.i.set(t,n)}function ft(e){return dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gt(t,yt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(gt(t,yt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(gt(n,"/"==n.charAt(0)?_t:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",gt(n,wt)),e.join("")};var yt=/[#\/\?@]/g,vt=/[#\?:]/g,_t=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tt(e,t){St(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return St(e),t=Ct(e,t),e.g.has(t)}function It(e,t,n){Tt(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),p(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function At(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Pt(){this.g=new ge}function Rt(e,t,n){const r=n||"";try{st(e,(function(e,n){let i=e;l(e)&&(i=fe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function xt(e,t){ie.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Lt(e)}function Lt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return b(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ft(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):dt(e,t,n))}function Ut(e){ie.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){St(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,kt(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},f(Nt,me),Nt.prototype.g=function(){return new xt(this.l,this.j)},Nt.prototype.i=function(e){return function(){return e}}({}),f(xt,ie),(e=xt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Lt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lt(this)),this.g&&(this.readyState=3,Lt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Lt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),f(Ut,ie);var Vt=/^https?$/i,zt=["POST","PUT"];function jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),qt(e)}function Bt(e){e.A||(e.A=!0,se(e,"complete"),se(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ae(e.Ea,0,e);else if(se(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(ot)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Vt.test(o?o.toLowerCase():"")}n=s}if(n)se(e,"complete"),se(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Bt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Ht(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||se(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new Pt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Jt(e),3==e.G){var t=e.U++,n=lt(e.I);if(dt(n,"SID",e.K),dt(n,"RID",t),dt(n,"TYPE","terminate"),tn(e,n),(t=new Fe(e,e.j,t)).L=2,t.v=ft(lt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(o){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}dn(e)}function Xt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Jt(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),ln(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Zt(e){if(!Ze(e.h)&&!e.s){e.s=!0;var t=e.Ga;P||x(),R||(P(),R=!0),N.add(t,e),e.B=0}}function en(e,t){var n;n=t?t.l:e.U++;const r=lt(e.I);dt(r,"SID",e.K),dt(r,"RID",n),dt(r,"AID",e.T),tn(e,r),e.m&&e.o&&Ft(r,e.m,e.o),n=new Fe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=nn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),nt(e.h,n),je(n,r,t)}function tn(e,t){e.H&&b(e.H,(function(e,n){dt(t,n,e)})),e.l&&st({},(function(e,n){dt(t,n,e)}))}function nn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?h(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Rt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function rn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;P||x(),R||(P(),R=!0),N.add(t,e),e.v=0}}function sn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Re(h(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Fe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=lt(e.qa);dt(t,"RID","rpc"),dt(t,"SID",e.K),dt(t,"AID",e.T),dt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&dt(t,"TO",e.ja),dt(t,"TYPE","xmlhttp"),tn(e,t),e.m&&e.o&&Ft(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ft(lt(t)),n.m=null,n.P=!0,Be(n,e)}function ln(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function un(e,t){var n=null;if(e.g==t){ln(e),on(e),e.g=null;var r=2}else{if(!tt(e.h,t))return;n=t.D,rt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;se(r=Te(),new Pe(r,n)),Zt(e)}else rn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(et(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Re(h(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&sn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:hn(e,5);break;case 4:hn(e,10);break;case 3:hn(e,6);break;default:hn(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function hn(e,t){if(e.j.info("Error code "+t),2==t){var n=h(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ut(r,"https"),ft(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=d(At,n,"TestLoadImage: loaded",!0,t,r),r.onerror=d(At,n,"TestLoadImage: error",!1,t,r),r.onabort=d(At,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=d(At,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),At(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?At(0,0,!0,t):At(0,0,!1,t)})).catch((()=>{clearTimeout(r),At(0,0,!1,t)}))}(r.toString(),n)}else Ae(2);e.G=0,e.l&&e.l.sa(t),dn(e),Jt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=it(e.h);0==t.length&&0==e.i.length||(g(e.ka,t),g(e.ka,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.ra()}}function fn(e,t,n){var r=n instanceof at?lt(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ct(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new at(null);r&&ut(o,r),t&&(o.g=t),s&&ct(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&dt(r,n,t),dt(r,"VER",e.la),tn(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ut(new Nt({eb:n})):new Ut(e.pa)).Ha(e.J),t}function gn(){}function mn(){}function yn(e,t){ie.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){be.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _n(){we.call(this),this.status=1}function bn(e){this.g=e}(e=Ut.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?ye(this.o):ye(Oe),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void jt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){jt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,se(this,"complete"),se(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ut.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(s){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pe(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ae(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=fn(this,null,this.W),Zt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Fe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=w(s),S(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=nn(this,i,t),dt(n=lt(this.I),"RID",e),dt(n,"CVER",22),this.D&&dt(n,"X-HTTP-Session-Id",this.D),tn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Mt(s)))+"&"+t:this.m&&Ft(n,this.m,s)),nt(this.h,i),this.Ua&&dt(n,"TYPE","init"),this.P?(dt(n,"$req",t),dt(n,"SID","null"),i.T=!0,je(i,n,null)):je(i,n,t),this.G=2}}else 3==this.G&&(e?en(this,e):0==this.i.length||Ze(this.h)||en(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Re(h(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),Xt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),sn(this),Ae(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=gn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new yn(e,t)},f(yn,ie),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Yt(this.g)},yn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=fe(e),e=n);t.i.push(new Xe(t.Ya++,e)),3==t.G&&Zt(t)},yn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,yn.aa.N.call(this)},f(vn,be),f(_n,we),f(bn,gn),bn.prototype.ua=function(){se(this.g,"a")},bn.prototype.ta=function(e){se(this.g,new vn(e))},bn.prototype.sa=function(e){se(this.g,new _n)},bn.prototype.ra=function(){se(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,U_=z_.createWebChannelTransport=function(){return new mn},F_=z_.getStatEventTarget=function(){return Te()},M_=z_.Event=Ee,L_=z_.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,D_=z_.ErrorCode=De,Le.COMPLETE="complete",O_=z_.EventType=Le,ve.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",ie.prototype.listen=ie.prototype.K,x_=z_.WebChannel=ve,z_.FetchXmlHttpFactory=Nt,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,N_=z_.XhrIo=Ut}).apply("undefined"!==typeof V_?V_:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const j_="@firebase/firestore";class B_{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}B_.UNAUTHENTICATED=new B_(null),B_.GOOGLE_CREDENTIALS=new B_("google-credentials-uid"),B_.FIRST_PARTY=new B_("first-party-uid"),B_.MOCK_USER=new B_("mock-user");let $_="10.14.0";const q_=new eg("@firebase/firestore");function H_(){return q_.logLevel}function W_(e){if(q_.logLevel<=Qp.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Q_);q_.debug(`Firestore (${$_}): ${e}`,...i)}}function K_(e){if(q_.logLevel<=Qp.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Q_);q_.error(`Firestore (${$_}): ${e}`,...i)}}function G_(e){if(q_.logLevel<=Qp.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Q_);q_.warn(`Firestore (${$_}): ${e}`,...i)}}function Q_(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Y_(){const e=`FIRESTORE (${$_}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw K_(e),new Error(e)}function X_(e,t){e||Y_()}function J_(e,t){return e}const Z_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class eb extends xp{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tb{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class nb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(B_.UNAUTHENTICATED)))}shutdown(){}}class ib{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class sb{constructor(e){this.t=e,this.currentUser=B_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){X_(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new tb;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new tb,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{W_("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(W_("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new tb)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(W_("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(X_("string"==typeof t.accessToken),new nb(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return X_(null===e||"string"==typeof e),new B_(e)}}class ob{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=B_.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ab{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ob(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(B_.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ub{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){X_(void 0===this.o);const n=e=>{null!=e.error&&W_("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,W_("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{W_("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):W_("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(X_("string"==typeof e.token),this.R=e.token,new lb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cb(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class hb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=cb(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function db(e,t){return e<t?-1:e>t?1:0}function fb(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class pb{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new eb(Z_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new eb(Z_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new eb(Z_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new eb(Z_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pb.fromMillis(Date.now())}static fromDate(e){return pb.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new pb(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?db(this.nanoseconds,e.nanoseconds):db(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gb{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gb(e)}static min(){return new gb(new pb(0,0))}static max(){return new gb(new pb(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mb{constructor(e,t,n){void 0===t?t=0:t>e.length&&Y_(),void 0===n?n=e.length-t:n>e.length-t&&Y_(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===mb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mb?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yb extends mb{construct(e,t,n){return new yb(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new eb(Z_.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new yb(e)}static emptyPath(){return new yb([])}}const vb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _b extends mb{construct(e,t,n){return new _b(e,t,n)}static isValidIdentifier(e){return vb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_b.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _b(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new eb(Z_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new eb(Z_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new eb(Z_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new eb(Z_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _b(t)}static emptyPath(){return new _b([])}}class bb{constructor(e){this.path=e}static fromPath(e){return new bb(yb.fromString(e))}static fromName(e){return new bb(yb.fromString(e).popFirst(5))}static empty(){return new bb(yb.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yb.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yb.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bb(new yb(e.slice()))}}class wb{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}wb.UNKNOWN_ID=-1;function Eb(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=gb.fromTimestamp(1e9===r?new pb(n+1,0):new pb(n,r));return new Tb(i,bb.empty(),t)}function Sb(e){return new Tb(e.readTime,e.key,-1)}class Tb{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Tb(gb.min(),bb.empty(),-1)}static max(){return new Tb(gb.max(),bb.empty(),-1)}}function kb(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=bb.comparator(e.documentKey,t.documentKey),0!==n?n:db(e.largestBatchId,t.largestBatchId))}const Ib="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ab(e){if(e.code!==Z_.FAILED_PRECONDITION||e.message!==Ib)throw e;W_("LocalStore","Unexpectedly lost primary lease")}class Pb{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pb(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Pb?t:Pb.resolve(t)}catch(e){return Pb.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Pb.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Pb.reject(t)}static resolve(e){return new Pb(((t,n)=>{t(e)}))}static reject(e){return new Pb(((t,n)=>{n(e)}))}static waitFor(e){return new Pb(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Pb.resolve(!1);for(const n of e)t=t.next((e=>e?Pb.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Pb(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Pb(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Rb(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nb(e){return"IndexedDbTransactionError"===e.name}class xb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Ob(e){return null==e}function Db(e){return 0===e&&1/e==-1/0}function Lb(e){return"number"==typeof e&&Number.isInteger(e)&&!Db(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}xb.oe=-1;const Mb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ub=Fb,Vb=[...Ub,"indexConfiguration","indexState","indexEntries"];function zb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function jb(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class $b{constructor(e,t){this.comparator=e,this.root=t||Hb.EMPTY}insert(e,t){return new $b(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hb.BLACK,null,null))}remove(e){return new $b(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hb.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qb(this.root,e,this.comparator,!1)}getReverseIterator(){return new qb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qb(this.root,e,this.comparator,!0)}}class qb{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hb{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Hb.RED,this.left=null!=r?r:Hb.EMPTY,this.right=null!=i?i:Hb.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Hb(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hb.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Hb.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y_();if(this.right.isRed())throw Y_();const e=this.left.check();if(e!==this.right.check())throw Y_();return e+(this.isRed()?0:1)}}Hb.EMPTY=null,Hb.RED=!0,Hb.BLACK=!1,Hb.EMPTY=new class{constructor(){this.size=0}get key(){throw Y_()}get value(){throw Y_()}get color(){throw Y_()}get left(){throw Y_()}get right(){throw Y_()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Hb(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wb{constructor(e){this.comparator=e,this.data=new $b(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kb(this.data.getIterator())}getIteratorFrom(e){return new Kb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Wb))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Wb(this.comparator);return t.data=e,t}}class Kb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gb{constructor(e){this.fields=e,e.sort(_b.comparator)}static empty(){return new Gb([])}unionWith(e){let t=new Wb(_b.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Gb(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fb(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Qb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yb{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Qb("Invalid base64 string: "+e):e}}(e);return new Yb(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Yb(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return db(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yb.EMPTY_BYTE_STRING=new Yb("");const Xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jb(e){if(X_(!!e),"string"==typeof e){let t=0;const n=Xb.exec(e);if(X_(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zb(e.seconds),nanos:Zb(e.nanos)}}function Zb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ew(e){return"string"==typeof e?Yb.fromBase64String(e):Yb.fromUint8Array(e)}function tw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nw(e){const t=e.mapValue.fields.__previous_value__;return tw(t)?nw(t):t}function rw(e){const t=Jb(e.mapValue.fields.__local_write_time__.timestampValue);return new pb(t.seconds,t.nanos)}class iw{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class sw{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sw("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sw&&e.projectId===this.projectId&&e.database===this.database}}const ow={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function aw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tw(e)?4:Sw(e)?9007199254740991:ww(e)?10:11:Y_()}function lw(e,t){if(e===t)return!0;const n=aw(e);if(n!==aw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rw(e).isEqual(rw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Jb(e.timestampValue),r=Jb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ew(e.bytesValue).isEqual(ew(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Zb(e.geoPointValue.latitude)===Zb(t.geoPointValue.latitude)&&Zb(e.geoPointValue.longitude)===Zb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Zb(e.integerValue)===Zb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Zb(e.doubleValue),r=Zb(t.doubleValue);return n===r?Db(n)===Db(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return fb(e.arrayValue.values||[],t.arrayValue.values||[],lw);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zb(n)!==zb(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!lw(n[i],r[i])))return!1;return!0}(e,t);default:return Y_()}}function uw(e,t){return void 0!==(e.values||[]).find((e=>lw(e,t)))}function cw(e,t){if(e===t)return 0;const n=aw(e),r=aw(t);if(n!==r)return db(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return db(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Zb(e.integerValue||e.doubleValue),r=Zb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hw(e.timestampValue,t.timestampValue);case 4:return hw(rw(e),rw(t));case 5:return db(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ew(e),r=ew(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=db(n[i],r[i]);if(0!==e)return e}return db(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=db(Zb(e.latitude),Zb(t.latitude));return 0!==n?n:db(Zb(e.longitude),Zb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return dw(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,u=null===(r=a.value)||void 0===r?void 0:r.arrayValue,c=db((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:dw(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ow.mapValue&&t===ow.mapValue)return 0;if(e===ow.mapValue)return 1;if(t===ow.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=db(r[o],s[o]);if(0!==e)return e;const t=cw(n[r[o]],i[s[o]]);if(0!==t)return t}return db(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Y_()}}function hw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return db(e,t);const n=Jb(e),r=Jb(t),i=db(n.seconds,r.seconds);return 0!==i?i:db(n.nanos,r.nanos)}function dw(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=cw(n[i],r[i]);if(e)return e}return db(n.length,r.length)}function fw(e){return pw(e)}function pw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Jb(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ew(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return bb.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=pw(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${pw(e.fields[i])}`;return n+"}"}(e.mapValue):Y_()}function gw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function mw(e){return!!e&&"integerValue"in e}function yw(e){return!!e&&"arrayValue"in e}function vw(e){return!!e&&"nullValue"in e}function _w(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bw(e){return!!e&&"mapValue"in e}function ww(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ew(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return jb(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ew(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ew(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Sw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Tw{constructor(e){this.value=e}static empty(){return new Tw({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!bw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ew(t)}setAll(e){let t=_b.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ew(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());bw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lw(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];bw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){jb(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Tw(Ew(this.value))}}function kw(e){const t=[];return jb(e.fields,((e,n)=>{const r=new _b([e]);if(bw(n)){const e=kw(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Gb(t)}class Iw{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Iw(e,0,gb.min(),gb.min(),gb.min(),Tw.empty(),0)}static newFoundDocument(e,t,n,r){return new Iw(e,1,t,gb.min(),n,r,0)}static newNoDocument(e,t){return new Iw(e,2,t,gb.min(),gb.min(),Tw.empty(),0)}static newUnknownDocument(e,t){return new Iw(e,3,t,gb.min(),gb.min(),Tw.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gb.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tw.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tw.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gb.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Iw&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Iw(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cw{constructor(e,t){this.position=e,this.inclusive=t}}function Aw(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?bb.comparator(bb.fromName(o.referenceValue),n.key):cw(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Pw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!lw(e.position[n],t.position[n]))return!1;return!0}class Rw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Nw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class xw{}class Ow extends xw{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new jw(e,t,n):"array-contains"===t?new Hw(e,n):"in"===t?new Ww(e,n):"not-in"===t?new Kw(e,n):"array-contains-any"===t?new Gw(e,n):new Ow(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Bw(e,n):new $w(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cw(t,this.value)):null!==t&&aw(this.value)===aw(t)&&this.matchesComparison(cw(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Y_()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dw extends xw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Dw(e,t)}matches(e){return Lw(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Lw(e){return"and"===e.op}function Mw(e){return Fw(e)&&Lw(e)}function Fw(e){for(const t of e.filters)if(t instanceof Dw)return!1;return!0}function Uw(e){if(e instanceof Ow)return e.field.canonicalString()+e.op.toString()+fw(e.value);if(Mw(e))return e.filters.map((e=>Uw(e))).join(",");{const t=e.filters.map((e=>Uw(e))).join(",");return`${e.op}(${t})`}}function Vw(e,t){return e instanceof Ow?function(e,t){return t instanceof Ow&&e.op===t.op&&e.field.isEqual(t.field)&&lw(e.value,t.value)}(e,t):e instanceof Dw?function(e,t){return t instanceof Dw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Vw(n,t.filters[r])),!0)}(e,t):void Y_()}function zw(e){return e instanceof Ow?function(e){return`${e.field.canonicalString()} ${e.op} ${fw(e.value)}`}(e):e instanceof Dw?function(e){return e.op.toString()+" {"+e.getFilters().map(zw).join(" ,")+"}"}(e):"Filter"}class jw extends Ow{constructor(e,t,n){super(e,t,n),this.key=bb.fromName(n.referenceValue)}matches(e){const t=bb.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bw extends Ow{constructor(e,t){super(e,"in",t),this.keys=qw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $w extends Ow{constructor(e,t){super(e,"not-in",t),this.keys=qw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>bb.fromName(e.referenceValue)))}class Hw extends Ow{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yw(t)&&uw(t.arrayValue,this.value)}}class Ww extends Ow{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uw(this.value.arrayValue,t)}}class Kw extends Ow{constructor(e,t){super(e,"not-in",t)}matches(e){if(uw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uw(this.value.arrayValue,t)}}class Gw extends Ow{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>uw(this.value.arrayValue,e)))}}class Qw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function Yw(e){return new Qw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xw(e){const t=J_(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Uw(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ob(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>fw(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>fw(e))).join(",")),t.ue=e}return t.ue}function Jw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Nw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Vw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pw(e.startAt,t.startAt)&&Pw(e.endAt,t.endAt)}function Zw(e){return bb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class eE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tE(e,t,n,r,i,s,o,a){return new eE(e,t,n,r,i,s,o,a)}function nE(e){return new eE(e)}function rE(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function iE(e){return null!==e.collectionGroup}function sE(e){const t=J_(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Wb(_b.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Rw(r,n))})),e.has(_b.keyField().canonicalString())||t.ce.push(new Rw(_b.keyField(),n))}return t.ce}function oE(e){const t=J_(e);return t.le||(t.le=aE(t,sE(e))),t.le}function aE(e,t){if("F"===e.limitType)return Yw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Rw(e.field,t)}));const n=e.endAt?new Cw(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Cw(e.startAt.position,e.startAt.inclusive):null;return Yw(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function lE(e,t){const n=e.filters.concat([t]);return new eE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function uE(e,t,n){return new eE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cE(e,t){return Jw(oE(e),oE(t))&&e.limitType===t.limitType}function hE(e){return`${Xw(oE(e))}|lt:${e.limitType}`}function dE(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>zw(e))).join(", ")}]`),Ob(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>fw(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>fw(e))).join(",")),`Target(${t})`}(oE(e))}; limitType=${e.limitType})`}function fE(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of sE(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Aw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,sE(e),t))&&!(e.endAt&&!function(e,t,n){const r=Aw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,sE(e),t))}(e,t)}function pE(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gE(e){return(t,n)=>{let r=!1;for(const i of sE(e)){const e=mE(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function mE(e,t,n){const r=e.field.isKeyField()?bb.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?cw(r,i):Y_()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Y_()}}class yE{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){jb(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Bb(this.inner)}size(){return this.innerSize}}const vE=new $b(bb.comparator);function _E(){return vE}const bE=new $b(bb.comparator);function wE(){let e=bE;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function EE(e){let t=bE;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function SE(){return kE()}function TE(){return kE()}function kE(){return new yE((e=>e.toString()),((e,t)=>e.isEqual(t)))}const IE=new $b(bb.comparator),CE=new Wb(bb.comparator);function AE(){let e=CE;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const PE=new Wb(db);function RE(){return PE}function NE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Db(t)?"-0":t}}function xE(e){return{integerValue:""+e}}function OE(e,t){return Lb(t)?xE(t):NE(e,t)}class DE{constructor(){this._=void 0}}function LE(e,t,n){return e instanceof UE?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&tw(t)&&(t=nw(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof VE?zE(e,t):e instanceof jE?BE(e,t):function(e,t){const n=FE(e,t),r=qE(n)+qE(e.Pe);return mw(n)&&mw(e.Pe)?xE(r):NE(e.serializer,r)}(e,t)}function ME(e,t,n){return e instanceof VE?zE(e,t):e instanceof jE?BE(e,t):n}function FE(e,t){return e instanceof $E?function(e){return mw(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class UE extends DE{}class VE extends DE{constructor(e){super(),this.elements=e}}function zE(e,t){const n=HE(t);for(const r of e.elements)n.some((e=>lw(e,r)))||n.push(r);return{arrayValue:{values:n}}}class jE extends DE{constructor(e){super(),this.elements=e}}function BE(e,t){let n=HE(t);for(const r of e.elements)n=n.filter((e=>!lw(e,r)));return{arrayValue:{values:n}}}class $E extends DE{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function qE(e){return Zb(e.integerValue||e.doubleValue)}function HE(e){return yw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class WE{constructor(e,t){this.field=e,this.transform=t}}class KE{constructor(e,t){this.version=e,this.transformResults=t}}class GE{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new GE}static exists(e){return new GE(void 0,e)}static updateTime(e){return new GE(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function QE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class YE{}function XE(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new aS(e.key,GE.none()):new nS(e.key,e.data,GE.none());{const n=e.data,r=Tw.empty();let i=new Wb(_b.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new rS(e.key,r,new Gb(i.toArray()),GE.none())}}function JE(e,t,n){e instanceof nS?function(e,t,n){const r=e.value.clone(),i=sS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rS?function(e,t,n){if(!QE(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=sS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(iS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ZE(e,t,n,r){return e instanceof nS?function(e,t,n,r){if(!QE(e.precondition,t))return n;const i=e.value.clone(),s=oS(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rS?function(e,t,n,r){if(!QE(e.precondition,t))return n;const i=oS(e.fieldTransforms,r,t),s=t.data;return s.setAll(iS(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return QE(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function eS(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=FE(r.transform,e||null);null!=i&&(null===n&&(n=Tw.empty()),n.set(r.field,i))}return n||null}function tS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&fb(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof VE&&t instanceof VE||e instanceof jE&&t instanceof jE?fb(e.elements,t.elements,lw):e instanceof $E&&t instanceof $E?lw(e.Pe,t.Pe):e instanceof UE&&t instanceof UE}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nS extends YE{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rS extends YE{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iS(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function sS(e,t,n){const r=new Map;X_(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,ME(o,a,n[i]))}return r}function oS(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,LE(e,s,t))}return r}class aS extends YE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lS extends YE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uS{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&JE(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ZE(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ZE(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=TE();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=XE(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(gb.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),AE())}isEqual(e){return this.batchId===e.batchId&&fb(this.mutations,e.mutations,((e,t)=>tS(e,t)))&&fb(this.baseMutations,e.baseMutations,((e,t)=>tS(e,t)))}}class cS{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){X_(e.mutations.length===n.length);let r=IE;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new cS(e,t,n,r)}}class hS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dS{constructor(e,t){this.count=e,this.unchangedNames=t}}var fS,pS;function gS(e){switch(e){default:return Y_();case Z_.CANCELLED:case Z_.UNKNOWN:case Z_.DEADLINE_EXCEEDED:case Z_.RESOURCE_EXHAUSTED:case Z_.INTERNAL:case Z_.UNAVAILABLE:case Z_.UNAUTHENTICATED:return!1;case Z_.INVALID_ARGUMENT:case Z_.NOT_FOUND:case Z_.ALREADY_EXISTS:case Z_.PERMISSION_DENIED:case Z_.FAILED_PRECONDITION:case Z_.ABORTED:case Z_.OUT_OF_RANGE:case Z_.UNIMPLEMENTED:case Z_.DATA_LOSS:return!0}}function mS(e){if(void 0===e)return K_("GRPC error has no .code"),Z_.UNKNOWN;switch(e){case fS.OK:return Z_.OK;case fS.CANCELLED:return Z_.CANCELLED;case fS.UNKNOWN:return Z_.UNKNOWN;case fS.DEADLINE_EXCEEDED:return Z_.DEADLINE_EXCEEDED;case fS.RESOURCE_EXHAUSTED:return Z_.RESOURCE_EXHAUSTED;case fS.INTERNAL:return Z_.INTERNAL;case fS.UNAVAILABLE:return Z_.UNAVAILABLE;case fS.UNAUTHENTICATED:return Z_.UNAUTHENTICATED;case fS.INVALID_ARGUMENT:return Z_.INVALID_ARGUMENT;case fS.NOT_FOUND:return Z_.NOT_FOUND;case fS.ALREADY_EXISTS:return Z_.ALREADY_EXISTS;case fS.PERMISSION_DENIED:return Z_.PERMISSION_DENIED;case fS.FAILED_PRECONDITION:return Z_.FAILED_PRECONDITION;case fS.ABORTED:return Z_.ABORTED;case fS.OUT_OF_RANGE:return Z_.OUT_OF_RANGE;case fS.UNIMPLEMENTED:return Z_.UNIMPLEMENTED;case fS.DATA_LOSS:return Z_.DATA_LOSS;default:return Y_()}}(pS=fS||(fS={}))[pS.OK=0]="OK",pS[pS.CANCELLED=1]="CANCELLED",pS[pS.UNKNOWN=2]="UNKNOWN",pS[pS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pS[pS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pS[pS.NOT_FOUND=5]="NOT_FOUND",pS[pS.ALREADY_EXISTS=6]="ALREADY_EXISTS",pS[pS.PERMISSION_DENIED=7]="PERMISSION_DENIED",pS[pS.UNAUTHENTICATED=16]="UNAUTHENTICATED",pS[pS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pS[pS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pS[pS.ABORTED=10]="ABORTED",pS[pS.OUT_OF_RANGE=11]="OUT_OF_RANGE",pS[pS.UNIMPLEMENTED=12]="UNIMPLEMENTED",pS[pS.INTERNAL=13]="INTERNAL",pS[pS.UNAVAILABLE=14]="UNAVAILABLE",pS[pS.DATA_LOSS=15]="DATA_LOSS";let yS=null;function vS(){return new TextEncoder}const _S=new C_([4294967295,4294967295],0);function bS(e){const t=vS().encode(e),n=new A_;return n.update(t),new Uint8Array(n.digest())}function wS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new C_([n,r],0),new C_([i,s],0)]}class ES{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new SS(`Invalid padding: ${t}`);if(n<0)throw new SS(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new SS(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new SS(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=C_.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(C_.fromNumber(n)));return 1===r.compare(_S)&&(r=new C_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=bS(e),[n,r]=wS(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ES(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=bS(e),[n,r]=wS(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class SS extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class TS{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,kS.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new TS(gb.min(),r,new $b(db),_E(),AE())}}class kS{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new kS(n,t,AE(),AE(),AE())}}class IS{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class CS{constructor(e,t){this.targetId=e,this.me=t}}class AS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yb.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class PS{constructor(){this.fe=0,this.ge=xS(),this.pe=Yb.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=AE(),t=AE(),n=AE();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Y_()}})),new kS(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=xS()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,X_(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class RS{constructor(e){this.Le=e,this.Be=new Map,this.ke=_E(),this.qe=NS(),this.Qe=new $b(db)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Y_()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Zw(i))if(0===n){const e=new bb(i.path);this.Ue(t,e,Iw.newNoDocument(e,gb.min()))}else X_(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==yS||yS.et(function(e,t,n,r,i){var s,o,a,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=ew(n).toUint8Array()}catch(e){if(e instanceof Qb)return G_("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ES(s,r,i)}catch(e){return G_(e instanceof SS?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Zw(i.target)){const t=new bb(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Iw.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=AE();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new TS(e,t,this.Qe,this.ke,n);return this.ke=_E(),this.qe=NS(),this.Qe=new $b(db),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new PS,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Wb(db),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||W_("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new PS),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function NS(){return new $b(bb.comparator)}function xS(){return new $b(bb.comparator)}const OS={asc:"ASCENDING",desc:"DESCENDING"},DS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LS={and:"AND",or:"OR"};class MS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function FS(e,t){return e.useProto3Json||Ob(t)?t:{value:t}}function US(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zS(e,t){return US(e,t.toTimestamp())}function jS(e){return X_(!!e),gb.fromTimestamp(function(e){const t=Jb(e);return new pb(t.seconds,t.nanos)}(e))}function BS(e,t){return $S(e,t).canonicalString()}function $S(e,t){const n=function(e){return new yb(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function qS(e){const t=yb.fromString(e);return X_(cT(t)),t}function HS(e,t){return BS(e.databaseId,t.path)}function WS(e,t){const n=qS(t);if(n.get(1)!==e.databaseId.projectId)throw new eb(Z_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new eb(Z_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bb(YS(n))}function KS(e,t){return BS(e.databaseId,t)}function GS(e){const t=qS(e);return 4===t.length?yb.emptyPath():YS(t)}function QS(e){return new yb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function YS(e){return X_(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function XS(e,t,n){return{name:HS(e,t),fields:n.value.mapValue.fields}}function JS(e,t){let n;if(t instanceof nS)n={update:XS(e,t.key,t.value)};else if(t instanceof aS)n={delete:HS(e,t.key)};else if(t instanceof rS)n={update:XS(e,t.key,t.data),updateMask:uT(t.fieldMask)};else{if(!(t instanceof lS))return Y_();n={verify:HS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof UE)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof VE)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $E)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Y_()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:zS(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Y_()}(e,t.precondition)),n}function ZS(e,t){return{documents:[KS(e,t.path)]}}function eT(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KS(e,i);const s=function(e){if(0!==e.length)return lT(Dw.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:oT(e.field),direction:rT(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=FS(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function tT(e){let t=GS(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){X_(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=nT(e);return t instanceof Dw&&Mw(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Rw(aT(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ob(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Cw(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Cw(n,t)}(n.endAt)),tE(t,i,o,s,a,"F",l,u)}function nT(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=aT(e.unaryFilter.field);return Ow.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=aT(e.unaryFilter.field);return Ow.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=aT(e.unaryFilter.field);return Ow.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=aT(e.unaryFilter.field);return Ow.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Y_()}}(e):void 0!==e.fieldFilter?function(e){return Ow.create(aT(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y_()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Dw.create(e.compositeFilter.filters.map((e=>nT(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Y_()}}(e.compositeFilter.op))}(e):Y_()}function rT(e){return OS[e]}function iT(e){return DS[e]}function sT(e){return LS[e]}function oT(e){return{fieldPath:e.canonicalString()}}function aT(e){return _b.fromServerFormat(e.fieldPath)}function lT(e){return e instanceof Ow?function(e){if("=="===e.op){if(_w(e.value))return{unaryFilter:{field:oT(e.field),op:"IS_NAN"}};if(vw(e.value))return{unaryFilter:{field:oT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_w(e.value))return{unaryFilter:{field:oT(e.field),op:"IS_NOT_NAN"}};if(vw(e.value))return{unaryFilter:{field:oT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oT(e.field),op:iT(e.op),value:e.value}}}(e):e instanceof Dw?function(e){const t=e.getFilters().map((e=>lT(e)));return 1===t.length?t[0]:{compositeFilter:{op:sT(e.op),filters:t}}}(e):Y_()}function uT(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function cT(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class hT{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gb.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gb.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Yb.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new hT(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hT(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hT(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hT(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dT{constructor(e){this.ct=e}}function fT(e){const t=tT({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uE(t,t.limit,"L"):t}class pT{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Zb(e.integerValue));else if("doubleValue"in e){const n=Zb(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Db(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Jb(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ew(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Sw(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ww(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Y_()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Zb(o)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),bb.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}pT.vt=new pT;class gT{constructor(){this.un=new mT}addToCollectionParentIndex(e,t){return this.un.add(t),Pb.resolve()}getCollectionParents(e,t){return Pb.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Pb.resolve()}deleteFieldIndex(e,t){return Pb.resolve()}deleteAllFieldIndexes(e){return Pb.resolve()}createTargetIndexes(e,t){return Pb.resolve()}getDocumentsMatchingTarget(e,t){return Pb.resolve(null)}getIndexType(e,t){return Pb.resolve(0)}getFieldIndexes(e,t){return Pb.resolve([])}getNextCollectionGroupToUpdate(e){return Pb.resolve(null)}getMinOffset(e,t){return Pb.resolve(Tb.min())}getMinOffsetFromCollectionGroup(e,t){return Pb.resolve(Tb.min())}updateCollectionGroup(e,t,n){return Pb.resolve()}updateIndexEntries(e,t){return Pb.resolve()}}class mT{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wb(yb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Wb(yb.comparator)).toArray()}}new Uint8Array(0);class yT{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new yT(e,yT.DEFAULT_COLLECTION_PERCENTILE,yT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}yT.DEFAULT_COLLECTION_PERCENTILE=10,yT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yT.DEFAULT=new yT(41943040,yT.DEFAULT_COLLECTION_PERCENTILE,yT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yT.DISABLED=new yT(-1,0,0);class vT{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vT(0)}static kn(){return new vT(-1)}}class _T{constructor(){this.changes=new yE((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Iw.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Pb.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wT{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ZE(n.mutation,e,Gb.empty(),pb.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,AE()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:AE();const r=SE();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=wE();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=SE();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,AE())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=_E();const s=kE(),o=kE();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof rS)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),ZE(o.mutation,t,o.mutation.getFieldMask(),pb.now())):s.set(t.key,Gb.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new bT(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=kE();let r=new $b(((e,t)=>e-t)),i=AE();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Gb.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||AE()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=TE();l.forEach((e=>{if(!i.has(e)){const r=XE(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Pb.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return bb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Pb.resolve(SE());let o=-1,a=i;return s.next((t=>Pb.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Pb.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,AE()))).next((e=>({batchId:o,changes:EE(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bb(t)).next((e=>{let t=wE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=wE();return this.indexManager.getCollectionParents(e,i).next((o=>Pb.forEach(o,(o=>{const a=function(e,t){return new eE(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Iw.newInvalidDocument(r)))}));let n=wE();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&ZE(s.mutation,r,Gb.empty(),pb.now()),fE(t,r)&&(n=n.insert(e,r))})),n}))}}class ET{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Pb.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:jS(e.createTime)}}(t)),Pb.resolve()}getNamedQuery(e,t){return Pb.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:fT(e.bundledQuery),readTime:jS(e.readTime)}}(t)),Pb.resolve()}}class ST{constructor(){this.overlays=new $b(bb.comparator),this.Ir=new Map}getOverlay(e,t){return Pb.resolve(this.overlays.get(t))}getOverlays(e,t){const n=SE();return Pb.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Pb.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),Pb.resolve()}getOverlaysForCollection(e,t,n){const r=SE(),i=t.length+1,s=new bb(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Pb.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new $b(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=SE(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=SE(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Pb.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new hS(t,n));let i=this.Ir.get(t);void 0===i&&(i=AE(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class TT{constructor(){this.sessionToken=Yb.EMPTY_BYTE_STRING}getSessionToken(e){return Pb.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Pb.resolve()}}class kT{constructor(){this.Tr=new Wb(IT.Er),this.dr=new Wb(IT.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new IT(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new IT(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new bb(new yb([])),n=new IT(t,e),r=new IT(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new bb(new yb([])),n=new IT(t,e),r=new IT(t,e+1);let i=AE();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new IT(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class IT{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return bb.comparator(e.key,t.key)||db(e.wr,t.wr)}static Ar(e,t){return db(e.wr,t.wr)||bb.comparator(e.key,t.key)}}class CT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Wb(IT.Er)}checkEmpty(e){return Pb.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new uS(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new IT(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Pb.resolve(s)}lookupMutationBatch(e,t){return Pb.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return Pb.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Pb.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Pb.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new IT(t,0),r=new IT(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),Pb.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Wb(db);return t.forEach((e=>{const t=new IT(e,0),r=new IT(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),Pb.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;bb.isDocumentKey(i)||(i=i.child(""));const s=new IT(new bb(i),0);let o=new Wb(db);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),s),Pb.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){X_(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Pb.forEach(t.mutations,(r=>{const i=new IT(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new IT(t,0),r=this.br.firstAfterOrEqual(n);return Pb.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pb.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class AT{constructor(e){this.Mr=e,this.docs=new $b(bb.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Pb.resolve(n?n.document.mutableCopy():Iw.newInvalidDocument(t))}getEntries(e,t){let n=_E();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Iw.newInvalidDocument(e))})),Pb.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=_E();const s=t.path,o=new bb(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||kb(Sb(o),n)<=0||(r.has(o.key)||fE(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Pb.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Y_()}Or(e,t){return Pb.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new PT(this)}getSize(e){return Pb.resolve(this.size)}}class PT extends _T{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),Pb.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class RT{constructor(e){this.persistence=e,this.Nr=new yE((e=>Xw(e)),Jw),this.lastRemoteSnapshotVersion=gb.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kT,this.targetCount=0,this.kr=vT.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),Pb.resolve()}getLastRemoteSnapshotVersion(e){return Pb.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pb.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Pb.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Pb.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new vT(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Pb.resolve()}updateTargetData(e,t){return this.Kn(t),Pb.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Pb.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Pb.waitFor(i).next((()=>r))}getTargetCount(e){return Pb.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Pb.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Pb.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Pb.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Pb.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Pb.resolve(n)}containsKey(e,t){return Pb.resolve(this.Br.containsKey(t))}}class NT{constructor(e,t){this.qr={},this.overlays={},this.Qr=new xb(0),this.Kr=!1,this.Kr=!0,this.$r=new TT,this.referenceDelegate=e(this),this.Ur=new RT(this),this.indexManager=new gT,this.remoteDocumentCache=function(e){return new AT(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new dT(t),this.Gr=new ET(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ST,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new CT(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){W_("MemoryPersistence","Starting transaction:",e);const r=new xT(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return Pb.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class xT extends Cb{constructor(e){super(),this.currentSequenceNumber=e}}class OT{constructor(e){this.persistence=e,this.Jr=new kT,this.Yr=null}static Zr(e){return new OT(e)}get Xr(){if(this.Yr)return this.Yr;throw Y_()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Pb.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Pb.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Pb.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pb.forEach(this.Xr,(n=>{const r=bb.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,gb.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Pb.or([()=>Pb.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class DT{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=AE(),r=AE();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new DT(e,t.fromCache,n,r)}}class LT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MT{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Rp()?8:Rb(Pp())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new LT;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(H_()<=Qp.DEBUG&&W_("QueryEngine","SDK will not create cache indexes for query:",dE(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Pb.resolve()):(H_()<=Qp.DEBUG&&W_("QueryEngine","Query:",dE(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(H_()<=Qp.DEBUG&&W_("QueryEngine","The SDK decides to create cache indexes for query:",dE(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oE(t))):Pb.resolve())}Yi(e,t){if(rE(t))return Pb.resolve(null);let n=oE(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=uE(t,null,"F"),n=oE(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=AE(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,uE(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return rE(t)||r.isEqual(gb.min())?Pb.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?Pb.resolve(null):(H_()<=Qp.DEBUG&&W_("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dE(t)),this.rs(e,s,t,Eb(r,-1)).next((e=>e)))}))}ts(e,t){let n=new Wb(gE(e));return t.forEach(((t,r)=>{fE(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return H_()<=Qp.DEBUG&&W_("QueryEngine","Using full collection scan to execute query:",dE(t)),this.Ji.getDocumentsMatchingQuery(e,t,Tb.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class FT{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new $b(db),this._s=new yE((e=>Xw(e)),Jw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wT(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function UT(e,t,n,r){return new FT(e,t,n,r)}async function VT(e,t){const n=J_(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=AE();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function zT(e){const t=J_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function jT(e,t,n){let r=AE(),i=AE();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=_E();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(gb.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):W_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function BT(e,t){const n=J_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function $T(e,t){const n=J_(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,Pb.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new hT(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function qT(e,t,n){const r=J_(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Nb(e))throw e;W_("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function HT(e,t,n){const r=J_(e);let i=gb.min(),s=AE();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=J_(e),i=r._s.get(n);return void 0!==i?Pb.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,oE(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:gb.min(),n?s:AE()))).next((e=>(WT(r,pE(t),e),{documents:e,Ts:s})))))}function WT(e,t,n){let r=e.us.get(t)||gb.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class KT{constructor(){this.activeTargetIds=RE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GT{constructor(){this.so=new KT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new KT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QT{_o(e){}shutdown(){}}class YT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){W_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let XT=null;function JT(){return null===XT?XT=268435456+Math.round(2147483648*Math.random()):XT++,"0x"+XT.toString(16)}const ZT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ek{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const tk="WebChannelConnection";class nk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=JT(),o=this.xo(e,t.toUriEncodedString());W_("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,o,a,n).then((t=>(W_("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw G_("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+$_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=ZT[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=JT();return new Promise(((s,o)=>{const a=new N_;a.setWithCredentials(!0),a.listenOnce(O_.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case D_.NO_ERROR:const t=a.getResponseJson();W_(tk,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case D_.TIMEOUT:W_(tk,`RPC '${e}' ${i} timed out`),o(new eb(Z_.DEADLINE_EXCEEDED,"Request time out"));break;case D_.HTTP_ERROR:const n=a.getStatus();if(W_(tk,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Z_).indexOf(t)>=0?t:Z_.UNKNOWN}(t.status);o(new eb(e,t.message))}else o(new eb(Z_.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new eb(Z_.UNAVAILABLE,"Connection failed."));break;default:Y_()}}finally{W_(tk,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);W_(tk,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=JT(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=U_(),o=F_(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");W_(tk,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new ek({Io:t=>{d?W_(tk,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(W_(tk,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),W_(tk,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},To:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,x_.EventType.OPEN,(()=>{d||(W_(tk,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(c,x_.EventType.CLOSE,(()=>{d||(d=!0,W_(tk,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(c,x_.EventType.ERROR,(t=>{d||(d=!0,G_(tk,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new eb(Z_.UNAVAILABLE,"The operation could not be completed")))})),p(c,x_.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];X_(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){W_(tk,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=fS[e];if(void 0!==t)return mS(t)}(t),i=o.message;void 0===n&&(n=Z_.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.So(new eb(n,i)),c.close()}else W_(tk,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(o,M_.STAT_EVENT,(t=>{t.stat===L_.PROXY?W_(tk,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===L_.NOPROXY&&W_(tk,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function rk(){return"undefined"!=typeof document?document:null}function ik(e){return new MS(e,!0)}class sk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&W_("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class ok{constructor(e,t,n,r,i,s,o,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sk(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Z_.RESOURCE_EXHAUSTED?(K_(t.toString()),K_("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Z_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new eb(Z_.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return W_("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(W_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ak extends ok{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Y_()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(X_(void 0===t||"string"==typeof t),Yb.fromBase64String(t||"")):(X_(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Yb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Z_.UNKNOWN:mS(e.code);return new eb(t,e.message||"")}(o);n=new AS(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=WS(e,r.document.name),s=jS(r.document.updateTime),o=r.document.createTime?jS(r.document.createTime):gb.min(),a=new Tw({mapValue:{fields:r.document.fields}}),l=Iw.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new IS(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=WS(e,r.document),s=r.readTime?jS(r.readTime):gb.min(),o=Iw.newNoDocument(i,s),a=r.removedTargetIds||[];n=new IS([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=WS(e,r.document),s=r.removedTargetIds||[];n=new IS([],s,i,null)}else{if(!("filter"in t))return Y_();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new dS(r,i),o=e.targetId;n=new CS(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return gb.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?gb.min():t.readTime?jS(t.readTime):gb.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=QS(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Zw(r)?{documents:ZS(e,r)}:{query:eT(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=VS(e,t.resumeToken);const r=FS(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(gb.min())>0){n.readTime=US(e,t.snapshotVersion.toTimestamp());const r=FS(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y_()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=QS(this.serializer),t.removeTarget=e,this.a_(t)}}class lk extends ok{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return X_(!!e.streamToken),this.lastStreamToken=e.streamToken,X_(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){X_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(X_(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?jS(e.updateTime):jS(t);return n.isEqual(gb.min())&&(n=jS(t)),new KE(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=jS(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=QS(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>JS(this.serializer,e)))};this.a_(t)}}class uk extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new eb(Z_.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Mo(e,$S(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Z_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new eb(Z_.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Lo(e,$S(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Z_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new eb(Z_.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class ck{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(K_(t),this.D_=!1):W_("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class hk{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{bk(this)&&(W_("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=J_(e);t.L_.add(4),await fk(t),t.q_.set("Unknown"),t.L_.delete(4),await dk(t)}(this))}))})),this.q_=new ck(n,r)}}async function dk(e){if(bk(e))for(const t of e.B_)await t(!0)}async function fk(e){for(const t of e.B_)await t(!1)}function pk(e,t){const n=J_(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),_k(n)?vk(n):Vk(n).r_()&&mk(n,t))}function gk(e,t){const n=J_(e),r=Vk(n);n.N_.delete(t),r.r_()&&yk(n,t),0===n.N_.size&&(r.r_()?r.o_():bk(n)&&n.q_.set("Unknown"))}function mk(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gb.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Vk(e).A_(t)}function yk(e,t){e.Q_.xe(t),Vk(e).R_(t)}function vk(e){e.Q_=new RS({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Vk(e).start(),e.q_.v_()}function _k(e){return bk(e)&&!Vk(e).n_()&&e.N_.size>0}function bk(e){return 0===J_(e).L_.size}function wk(e){e.Q_=void 0}async function Ek(e){e.q_.set("Online")}async function Sk(e){e.N_.forEach(((t,n)=>{mk(e,t)}))}async function Tk(e,t){wk(e),_k(e)?(e.q_.M_(t),vk(e)):e.q_.set("Unknown")}async function kk(e,t,n){if(e.q_.set("Online"),t instanceof AS&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){W_("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ik(e,n)}else if(t instanceof IS?e.Q_.Ke(t):t instanceof CS?e.Q_.He(t):e.Q_.We(t),!n.isEqual(gb.min()))try{const t=await zT(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Yb.EMPTY_BYTE_STRING,r.snapshotVersion)),yk(e,t);const i=new hT(r.target,t,n,r.sequenceNumber);mk(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){W_("RemoteStore","Failed to raise snapshot:",t),await Ik(e,t)}}async function Ik(e,t,n){if(!Nb(t))throw t;e.L_.add(1),await fk(e),e.q_.set("Offline"),n||(n=()=>zT(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{W_("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await dk(e)}))}function Ck(e,t){return t().catch((n=>Ik(e,n,t)))}async function Ak(e){const t=J_(e),n=zk(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Pk(t);)try{const e=await BT(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Rk(t,e)}catch(e){await Ik(t,e)}Nk(t)&&xk(t)}function Pk(e){return bk(e)&&e.O_.length<10}function Rk(e,t){e.O_.push(t);const n=zk(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Nk(e){return bk(e)&&!zk(e).n_()&&e.O_.length>0}function xk(e){zk(e).start()}async function Ok(e){zk(e).p_()}async function Dk(e){const t=zk(e);for(const n of e.O_)t.m_(n.mutations)}async function Lk(e,t,n){const r=e.O_.shift(),i=cS.from(r,t,n);await Ck(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ak(e)}async function Mk(e,t){t&&zk(e).V_&&await async function(e,t){if(function(e){return gS(e)&&e!==Z_.ABORTED}(t.code)){const n=e.O_.shift();zk(e).s_(),await Ck(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ak(e)}}(e,t),Nk(e)&&xk(e)}async function Fk(e,t){const n=J_(e);n.asyncQueue.verifyOperationInProgress(),W_("RemoteStore","RemoteStore received new credentials");const r=bk(n);n.L_.add(3),await fk(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await dk(n)}async function Uk(e,t){const n=J_(e);t?(n.L_.delete(2),await dk(n)):t||(n.L_.add(2),await fk(n),n.q_.set("Unknown"))}function Vk(e){return e.K_||(e.K_=function(e,t,n){const r=J_(e);return r.w_(),new ak(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Ek.bind(null,e),Ro:Sk.bind(null,e),mo:Tk.bind(null,e),d_:kk.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),_k(e)?vk(e):e.q_.set("Unknown")):(await e.K_.stop(),wk(e))}))),e.K_}function zk(e){return e.U_||(e.U_=function(e,t,n){const r=J_(e);return r.w_(),new lk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ok.bind(null,e),mo:Mk.bind(null,e),f_:Dk.bind(null,e),g_:Lk.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await Ak(e)):(await e.U_.stop(),e.O_.length>0&&(W_("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class jk{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new tb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new jk(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new eb(Z_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bk(e,t){if(K_("AsyncQueue",`${t}: ${e}`),Nb(e))return new eb(Z_.UNAVAILABLE,`${t}: ${e}`);throw e}class $k{constructor(e){this.comparator=e?(t,n)=>e(t,n)||bb.comparator(t.key,n.key):(e,t)=>bb.comparator(e.key,t.key),this.keyedMap=wE(),this.sortedSet=new $b(this.comparator)}static emptySet(e){return new $k(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $k))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new $k;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class qk{constructor(){this.W_=new $b(bb.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Y_():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Hk{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Hk(e,t,$k.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Wk{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Kk{constructor(){this.queries=Gk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=J_(e),r=n.queries;n.queries=Gk(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new eb(Z_.ABORTED,"Firestore shutting down"))}}function Gk(){return new yE((e=>hE(e)),cE)}async function Qk(e,t){const n=J_(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new Wk,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Bk(e,`Initialization of query '${dE(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Zk(n)}async function Yk(e,t){const n=J_(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xk(e,t){const n=J_(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Zk(n)}function Jk(e,t,n){const r=J_(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function Zk(e){e.Y_.forEach((e=>{e.next()}))}var eI,tI;(tI=eI||(eI={})).ea="default",tI.Cache="cache";class nI{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Hk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Hk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==eI.Cache}}class rI{constructor(e){this.key=e}}class iI{constructor(e){this.key=e}}class sI{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=AE(),this.mutatedKeys=AE(),this.Aa=gE(e),this.Ra=new $k(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new qk,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=fE(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.ga(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Aa(c,a)>0||l&&this.Aa(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y_()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return this.Ea=a,0!==s.length||l?{snapshot:new Hk(this.query,e.Ra,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=AE(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new iI(e))})),this.da.forEach((n=>{e.has(n)||t.push(new rI(n))})),t}ba(e){this.Ta=e.Ts,this.da=AE();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Hk.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class oI{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class aI{constructor(e){this.key=e,this.va=!1}}class lI{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new yE((e=>hE(e)),cE),this.Ma=new Map,this.xa=new Set,this.Oa=new $b(bb.comparator),this.Na=new Map,this.La=new kT,this.Ba={},this.ka=new Map,this.qa=vT.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function uI(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=RI(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await hI(r,t,n,!0),i}async function cI(e,t){const n=RI(e);await hI(n,t,!0,!1)}async function hI(e,t,n,r){const i=await $T(e.localStore,oE(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await dI(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&pk(e.remoteStore,i),a}async function dI(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await HT(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return TI(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const s=await HT(e.localStore,t,!0),o=new sI(t,s.Ts),a=o.ma(s.documents),l=kS.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);TI(e,n,u.wa);const c=new oI(t,n,o);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function fI(e,t,n){const r=J_(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!cE(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gk(r.remoteStore,i.targetId),EI(r,i.targetId)})).catch(Ab)):(EI(r,i.targetId),await qT(r.localStore,i.targetId,!0))}async function pI(e,t){const n=J_(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gk(n.remoteStore,r.targetId))}async function gI(e,t){const n=J_(e);try{const e=await function(e,t){const n=J_(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Yb.EMPTY_BYTE_STRING,gb.min()).withLastLimboFreeSnapshotVersion(gb.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Ur.updateTargetData(e,u))}));let a=_E(),l=AE();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(jT(e,s,t.documentUpdates).next((e=>{a=e.Ps,l=e.Is}))),!r.isEqual(gb.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Pb.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(X_(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?X_(r.va):e.removedDocuments.size>0&&(X_(r.va),r.va=!1))})),await CI(n,e,t)}catch(e){await Ab(e)}}function mI(e,t,n){const r=J_(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=J_(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&Zk(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function yI(e,t,n){const r=J_(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new $b(bb.comparator);e=e.insert(s,Iw.newNoDocument(s,gb.min()));const n=AE().add(s),i=new TS(gb.min(),new Map,new $b(db),e,n);await gI(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),II(r)}else await qT(r.localStore,t,!1).then((()=>EI(r,t,n))).catch(Ab)}async function vI(e,t){const n=J_(e),r=t.batch.batchId;try{const e=await function(e,t){const n=J_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Pb.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);X_(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=AE();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);wI(n,r,null),bI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await CI(n,e)}catch(e){await Ab(e)}}async function _I(e,t,n){const r=J_(e);try{const e=await function(e,t){const n=J_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(X_(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);wI(r,t,n),bI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await CI(r,e)}catch(n){await Ab(n)}}function bI(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function wI(e,t,n){const r=J_(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function EI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||SI(e,t)}))}function SI(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(gk(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),II(e))}function TI(e,t,n){for(const r of n)r instanceof rI?(e.La.addReference(r.key,t),kI(e,r)):r instanceof iI?(W_("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||SI(e,r.key)):Y_()}function kI(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(W_("SyncEngine","New document in limbo: "+n),e.xa.add(r),II(e))}function II(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new bb(yb.fromString(t)),r=e.qa.next();e.Na.set(r,new aI(n)),e.Oa=e.Oa.insert(n,r),pk(e.remoteStore,new hT(oE(nE(n.path)),r,"TargetPurposeLimboResolution",xb.oe))}}async function CI(e,t,n){const r=J_(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{o.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=DT.Wi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ca.d_(i),await async function(e,t){const n=J_(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Pb.forEach(t,(t=>Pb.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Pb.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Nb(e))throw e;W_("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function AI(e,t){const n=J_(e);if(!n.currentUser.isEqual(t)){W_("SyncEngine","User change. New user:",t.toKey());const e=await VT(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new eb(Z_.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await CI(n,e.hs)}}function PI(e,t){const n=J_(e),r=n.Na.get(t);if(r&&r.va)return AE().add(r.key);{let e=AE();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function RI(e){const t=J_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yI.bind(null,t),t.Ca.d_=Xk.bind(null,t.eventManager),t.Ca.$a=Jk.bind(null,t.eventManager),t}function NI(e){const t=J_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_I.bind(null,t),t}class xI{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ik(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return UT(this.persistence,new MT,e.initialUser,this.serializer)}Ga(e){return new NT(OT.Zr,this.serializer)}Wa(e){return new GT}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xI.provider={build:()=>new xI};class OI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>mI(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=AI.bind(null,this.syncEngine),await Uk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Kk}createDatastore(e){const t=ik(e.databaseInfo.databaseId),n=function(e){return new nk(e)}(e.databaseInfo);return function(e,t,n,r){return new uk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new hk(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>mI(this.syncEngine,e,0)),YT.D()?new YT:new QT)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new lI(e,t,n,r,i,s);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=J_(e);W_("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await fk(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}OI.provider={build:()=>new OI};class DI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):K_("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class LI{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=B_.UNAUTHENTICATED,this.clientId=hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{W_("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(W_("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Bk(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function MI(e,t){e.asyncQueue.verifyOperationInProgress(),W_("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await VT(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function FI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await UI(e);W_("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Fk(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Fk(t.remoteStore,n))),e._onlineComponents=t}async function UI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){W_("FirestoreClient","Using user provided OfflineComponentProvider");try{await MI(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Z_.FAILED_PRECONDITION||e.code===Z_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;G_("Error using user provided cache. Falling back to memory cache: "+n),await MI(e,new xI)}}else W_("FirestoreClient","Using default OfflineComponentProvider"),await MI(e,new xI);return e._offlineComponents}async function VI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(W_("FirestoreClient","Using user provided OnlineComponentProvider"),await FI(e,e._uninitializedComponentsProvider._online)):(W_("FirestoreClient","Using default OnlineComponentProvider"),await FI(e,new OI))),e._onlineComponents}function zI(e){return VI(e).then((e=>e.syncEngine))}async function jI(e){const t=await VI(e),n=t.eventManager;return n.onListen=uI.bind(null,t.syncEngine),n.onUnlisten=fI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=cI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=pI.bind(null,t.syncEngine),n}function BI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new tb;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new DI({next:a=>{s.Za(),t.enqueueAndForget((()=>Yk(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new eb(Z_.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new eb(Z_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new nI(nE(n.path),s,{includeMetadataChanges:!0,_a:!0});return Qk(e,o)}(await jI(e),e.asyncQueue,t,n,r))),r.promise}function $I(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new tb;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new DI({next:n=>{s.Za(),t.enqueueAndForget((()=>Yk(e,o))),n.fromCache&&"server"===r.source?i.reject(new eb(Z_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new nI(n,s,{includeMetadataChanges:!0,_a:!0});return Qk(e,o)}(await jI(e),e.asyncQueue,t,n,r))),r.promise}function qI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const HI=new Map;function WI(e,t,n){if(!n)throw new eb(Z_.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function KI(e){if(!bb.isDocumentKey(e))throw new eb(Z_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function GI(e){if(bb.isDocumentKey(e))throw new eb(Z_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function QI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Y_()}function YI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new eb(Z_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=QI(e);throw new eb(Z_.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function XI(e,t){if(t<=0)throw new eb(Z_.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class JI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new eb(Z_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new eb(Z_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new eb(Z_.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new eb(Z_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new eb(Z_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new eb(Z_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ZI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new eb(Z_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new eb(Z_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new rb;switch(e.type){case"firstParty":return new ab(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new eb(Z_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=HI.get(e);t&&(W_("ComponentProvider","Removing Datastore"),HI.delete(e),t.terminate())}(this),Promise.resolve()}}function eC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=YI(e,ZI))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&G_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=B_.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[wp(JSON.stringify({alg:"none",type:"JWT"})),wp(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new eb(Z_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new B_(s)}e._authCredentials=new ib(new nb(t,n))}}class tC{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new tC(this.firestore,e,this._query)}}class nC{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rC(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nC(this.firestore,e,this._key)}}class rC extends tC{constructor(e,t,n){super(e,t,nE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nC(this.firestore,null,new bb(e))}withConverter(e){return new rC(this.firestore,e,this._path)}}function iC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Bp(e),1===arguments.length&&(t=hb.newId()),WI("doc","path",t),e instanceof ZI){const n=yb.fromString(t,...r);return KI(n),new nC(e,null,new bb(n))}{if(!(e instanceof nC||e instanceof rC))throw new eb(Z_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yb.fromString(t,...r));return KI(n),new nC(e.firestore,e instanceof rC?e.converter:null,new bb(n))}}class sC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new sk(this,"async_queue_retry"),this.Vu=()=>{const e=rk();e&&W_("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=rk();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=rk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new tb;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nb(e))throw e;W_("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw K_("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=jk.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&Y_()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class oC extends ZI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new sC,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sC(e),this._firestoreClient=void 0,await e}}}function aC(e){if(e._terminated)throw new eb(Z_.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||lC(e),e._firestoreClient}function lC(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new iw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,qI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new LI(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class uC{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uC(Yb.fromBase64String(e))}catch(e){throw new eb(Z_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new uC(Yb.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new eb(Z_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _b(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hC{constructor(e){this._methodName=e}}class dC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new eb(Z_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new eb(Z_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return db(this._lat,e._lat)||db(this._long,e._long)}}class fC{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const pC=/^__.*__$/;class gC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new rS(e,this.data,this.fieldMask,t,this.fieldTransforms):new nS(e,this.data,t,this.fieldTransforms)}}class mC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new rS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y_()}}class vC{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return DC(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(yC(this.Cu)&&pC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _C{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ik(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vC({Cu:e,methodName:t,qu:n,path:_b.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bC(e){const t=e._freezeSettings(),n=ik(e._databaseId);return new _C(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wC(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);RC("Data must be an object, but it was:",o,r);const a=AC(r,o);let l,u;if(s.merge)l=new Gb(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=NC(t,r,n);if(!o.contains(i))throw new eb(Z_.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);LC(e,i)||e.push(i)}l=new Gb(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new gC(new Tw(a),l,u)}class EC extends hC{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof EC}}class SC extends hC{_toFieldTransform(e){return new WE(e.path,new UE)}isEqual(e){return e instanceof SC}}function TC(e,t,n,r){const i=e.Qu(1,t,n);RC("Data must be an object, but it was:",i,r);const s=[],o=Tw.empty();jb(r,((e,r)=>{const a=OC(t,e,n);r=Bp(r);const l=i.Nu(a);if(r instanceof EC)s.push(a);else{const e=CC(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Gb(s);return new mC(o,a,i.fieldTransforms)}function kC(e,t,n,r,i,s){const o=e.Qu(1,t,n),a=[NC(t,r,n)],l=[i];if(s.length%2!=0)throw new eb(Z_.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(NC(t,s[d])),l.push(s[d+1]);const u=[],c=Tw.empty();for(let d=a.length-1;d>=0;--d)if(!LC(u,a[d])){const e=a[d];let t=l[d];t=Bp(t);const n=o.Nu(e);if(t instanceof EC)u.push(e);else{const r=CC(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Gb(u);return new mC(c,h,o.fieldTransforms)}function IC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return CC(n,e.Qu(r?4:3,t))}function CC(e,t){if(PC(e=Bp(e)))return RC("Unsupported field value:",t,e),AC(e,t);if(e instanceof hC)return function(e,t){if(!yC(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=CC(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Bp(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return OE(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=pb.fromDate(e);return{timestampValue:US(t.serializer,n)}}if(e instanceof pb){const n=new pb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:US(t.serializer,n)}}if(e instanceof dC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uC)return{bytesValue:VS(t.serializer,e._byteString)};if(e instanceof nC){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:BS(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof fC)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return NE(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${QI(e)}`)}(e,t)}function AC(e,t){const n={};return Bb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jb(e,((e,r)=>{const i=CC(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function PC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof pb||e instanceof dC||e instanceof uC||e instanceof nC||e instanceof hC||e instanceof fC)}function RC(e,t,n){if(!PC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=QI(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function NC(e,t,n){if((t=Bp(t))instanceof cC)return t._internalPath;if("string"==typeof t)return OC(e,t);throw DC("Field path arguments must be of type string or ",e,!1,void 0,n)}const xC=new RegExp("[~\\*/\\[\\]]");function OC(e,t,n){if(t.search(xC)>=0)throw DC(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cC(...t.split("."))._internalPath}catch(r){throw DC(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function DC(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new eb(Z_.INVALID_ARGUMENT,a+e+l)}function LC(e,t){return e.some((e=>e.isEqual(t)))}class MC{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nC(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new FC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(UC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class FC extends MC{data(){return super.data()}}function UC(e,t){return"string"==typeof t?OC(e,t):t instanceof cC?t._internalPath:t._delegate._internalPath}function VC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new eb(Z_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zC{}class jC extends zC{}class BC extends jC{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new BC(e,t,n)}_apply(e){const t=this._parse(e);return GC(e._query,t),new tC(e.firestore,e.converter,lE(e._query,t))}_parse(e){const t=bC(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new eb(Z_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){KC(o,s);const t=[];for(const n of o)t.push(WC(r,e,n));a={arrayValue:{values:t}}}else a=WC(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||KC(o,s),a=IC(n,t,o,"in"===s||"not-in"===s);return Ow.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class $C extends zC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $C(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Dw.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)GC(n,i),n=lE(n,i)}(e._query,t),new tC(e.firestore,e.converter,lE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qC extends jC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qC(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new eb(Z_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new eb(Z_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rw(t,n)}(e._query,this._field,this._direction);return new tC(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new eE(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class HC extends jC{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new HC(e,t,n)}_apply(e){return new tC(e.firestore,e.converter,uE(e._query,this._limit,this._limitType))}}function WC(e,t,n){if("string"==typeof(n=Bp(n))){if(""===n)throw new eb(Z_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iE(t)&&-1!==n.indexOf("/"))throw new eb(Z_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(yb.fromString(n));if(!bb.isDocumentKey(r))throw new eb(Z_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gw(e,new bb(r))}if(n instanceof nC)return gw(e,n._key);throw new eb(Z_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QI(n)}.`)}function KC(e,t){if(!Array.isArray(e)||0===e.length)throw new eb(Z_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function GC(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new eb(Z_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new eb(Z_.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class QC{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(aw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ew(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y_()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return jb(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Zb(e.doubleValue)));return new fC(i)}convertGeoPoint(e){return new dC(Zb(e.latitude),Zb(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=nw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rw(e));default:return null}}convertTimestamp(e){const t=Jb(e);return new pb(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yb.fromString(e);X_(cT(n));const r=new sw(n.get(1),n.get(3)),i=new bb(n.popFirst(5));return r.isEqual(t)||K_(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function YC(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class XC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JC extends MC{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ZC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(UC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ZC extends JC{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class eA{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new XC(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ZC(this._firestore,this._userDataWriter,n.key,n,new XC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new eb(Z_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ZC(e._firestore,e._userDataWriter,n.doc.key,n.doc,new XC(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ZC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:tA(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function tA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y_()}}function nA(e){e=YI(e,nC);const t=YI(e.firestore,oC);return BI(aC(t),e._key).then((n=>aA(t,e,n)))}class rA extends QC{constructor(e){super(),this.firestore=e}convertBytes(e){return new uC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nC(this.firestore,null,t)}}function iA(e,t,n){e=YI(e,nC);const r=YI(e.firestore,oC),i=YC(e.converter,t,n);return oA(r,[wC(bC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,GE.none())])}function sA(e,t,n){e=YI(e,nC);const r=YI(e.firestore,oC),i=bC(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Bp(t))||t instanceof cC?kC(i,"updateDoc",e._key,t,n,a):TC(i,"updateDoc",e._key,t),oA(r,[s.toMutation(e._key,GE.exists(!0))])}function oA(e,t){return function(e,t){const n=new tb;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=NI(e);try{const e=await function(e,t){const n=J_(e),r=pb.now(),i=t.reduce(((e,t)=>e.add(t.key)),AE());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=_E(),l=AE();return n.cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=eS(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new rS(e.key,t,kw(t.value.mapValue),GE.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:EE(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new $b(db)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await CI(r,e.changes),await Ak(r.remoteStore)}catch(e){const t=Bk(e,"Failed to persist write");n.reject(t)}}(await zI(e),t,n))),n.promise}(aC(e),t)}function aA(e,t,n){const r=n.docs.get(t._key),i=new rA(e);return new JC(e,i,t._key,r,new XC(n.hasPendingWrites,n.fromCache),t.converter)}function lA(){return new SC("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){$_=e}(im),Zg(new $p("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new oC(new sb(e.getProvider("auth-internal")),new ub(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new eb(Z_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sw(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),am(j_,"4.7.3",e),am(j_,"4.7.3","esm2017")}();const uA=sm({apiKey:"AIzaSyCSEXO8zsXHtF6_zcWMPZqHgjP1nokYftY",authDomain:"zorixshooter.firebaseapp.com",projectId:"zorixshooter",storageBucket:"zorixshooter.firebasestorage.app",messagingSenderId:"983540791855",appId:"1:983540791855:web:d76a065a07319957ebe4da",measurementId:"G-F1JQG1LN6F"}),cA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:om();const t=em(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=em(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Lp(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Sm(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:b_,persistence:[xv,gv,yv]}),r=Cp("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T_)return;const i=null===n||void 0===n?void 0:n.token;k_!==i&&(k_=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))})(e.toString());!function(e,t,n){Bp(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Bp(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const i=kp("auth");return i&&Vy(n,`http://${i}`),n}(uA),hA=function(e,t){const n="string"==typeof e?e:t||"(default)",r=em("object"==typeof e?e:om(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=kp(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&eC(r,...e)}return r}(uA);function dA(){return(0,mh.jsx)(mp,{strokeColor:"green",strokeWidth:"5",animationDuration:"30",width:"96",visible:!0})}async function fA(){await Ut()&&function(e){Cn(e);const[t,n]=X(pt("reload_iframe",(()=>{wn().log("Received a request to reload the page"),Nn("iframe_will_reload"),window.location.reload()}))),{acceptCustomStyles:r=!0}=e||{};if(r){const e=document.createElement("style");e.id="telegram-custom-styles",document.head.appendChild(e),t(pt("set_custom_style",(t=>{e.innerHTML=t})),(()=>{document.head.removeChild(e)}))}Nn("iframe_ready",{reload_supported:!0}),wn().log("The package was initialized")}()}(async()=>{await fA()})();const pA=function(){const[t,n]=(0,e.useState)(!1),[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)(null),[u,c]=(0,e.useState)(null),[h,d]=(0,e.useState)("Checking Telegram environment..."),{unityProvider:f,sendMessage:p,addEventListener:g,removeEventListener:m,loadingProgression:y,isLoaded:v}=(0,r.sT)({loaderUrl:"Assets/WEBGL.loader.js",dataUrl:"Assets/WEBGL.data.unityweb",frameworkUrl:"Assets/WEBGL.framework.js.unityweb",codeUrl:"Assets/WEBGL.wasm.unityweb"}),[_,b,w]=(()=>{const t=a(),n=null==t?void 0:t.HapticFeedback;return[(0,e.useCallback)((function(){return null==n?void 0:n.impactOccurred(...arguments)}),[n]),(0,e.useCallback)((function(){return null==n?void 0:n.notificationOccurred(...arguments)}),[n]),(0,e.useCallback)((function(){return null==n?void 0:n.selectionChanged(...arguments)}),[n])]})(),E=(0,e.useCallback)((()=>{b("success")}),[]),S=(0,e.useCallback)((()=>{b("error")}),[]),T=(0,e.useCallback)((async e=>{try{console.log("Authenticating with Firebase..."),d("Authenticating with Firebase...");const e=await async function(e){var t;if(tm(e.app))return Promise.reject(Im(e));const n=Ny(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new sv({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await iv(n,{returnSecureToken:!0}),i=await sv._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(cA),t=e.user;console.log("Firebase authentication successful:",t.uid);const n=iC(hA,"users",t.uid),r=await nA(n);let i={userId:t.uid,username:"",discriminator:"",isApproved:!1};if(r.exists()){const e=r.data();i.username=e.username||"",i.discriminator=e.discriminator||"",i.isApproved=e.isApproved||!1,console.log("Existing user found:",i)}else console.log("New user - needs to create username");v&&(p("RegistrationUITelegram","OnAuthenticationComplete",JSON.stringify(i)),i.username&&""!==i.username?i.isApproved?p("RegistrationUITelegram","LoadMainMenuFromReact",""):p("RegistrationUITelegram","ShowCodePanel",""):p("RegistrationUITelegram","ShowUsernamePanel","")),l(t),s(!0),d("Authentication complete!")}catch(t){console.error("Firebase authentication error:",t),d(`Authentication error: ${t.message}`)}}),[p,v]),k=(0,e.useCallback)((async e=>{if(!o||!u)return console.error("No authenticated user or telegram data"),void p("RegistrationUITelegram","OnUsernameCreationFailedFromReact","Not authenticated");try{if(!e||e.trim().length<3||e.trim().length>16)return void p("RegistrationUITelegram","OnUsernameCreationFailedFromReact","Username must be 3-16 characters");const t=e.trim(),n=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Bp(e),WI("collection","path",t),e instanceof ZI){const n=yb.fromString(t,...r);return GI(n),new rC(e,null,n)}{if(!(e instanceof nC||e instanceof rC))throw new eb(Z_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yb.fromString(t,...r));return GI(n),new rC(e.firestore,null,n)}}(hA,"users"),r=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof zC&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof $C)).length,n=e.filter((e=>e instanceof BC)).length;if(t>1||t>0&&n>0)throw new eb(Z_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}(n,function(e,t,n){const r=t,i=UC("where",e);return BC._create(i,r,n)}("username","==",t),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=UC("orderBy",e);return qC._create(n,t)}("discriminator","desc"),function(e){return XI("limit",e),HC._create("limit",e,"F")}(1)),i=await function(e){e=YI(e,tC);const t=YI(e.firestore,oC),n=aC(t),r=new rA(t);return VC(e._query),$I(n,e._query).then((n=>new eA(t,r,e,n)))}(r);let s="0001";if(!i.empty){const e=i.docs[0].data().discriminator,t=parseInt(e);s=(t+1).toString().padStart(4,"0")}const a=`${t}#${s}`,l=(new Date).toISOString().replace("T"," ").substring(0,19),c=iC(hA,"users",o.uid),h={username:t,discriminator:s,fullUsername:a,authProvider:"telegram",telegramId:u.id.toString(),telegramUsername:u.username||"",telegramFirstName:u.first_name||"",isApproved:!1,createdAt:lA(),registrationDate:l};await iA(c,h);const d=iC(hA,"usernames",a);await iA(d,{userId:o.uid}),console.log("Username created successfully:",a);const f={username:t,discriminator:s};p("RegistrationUITelegram","OnUsernameCreated",JSON.stringify(f))}catch(t){console.error("Error creating username:",t),p("RegistrationUITelegram","OnUsernameCreationFailedFromReact",`Failed to create username: ${t.message}`)}}),[o,u,p]),I=(0,e.useCallback)((async e=>{if(!o)return console.error("No authenticated user"),void p("RegistrationUITelegram","OnCodeVerificationFailedFromReact","Not authenticated");try{if(!e||0===e.trim().length)return void p("RegistrationUITelegram","OnCodeVerificationFailedFromReact","Code cannot be empty");const t=e.trim(),n=iC(hA,"SpecificData","Codes"),r=await nA(n);if(!r.exists())return p("RegistrationUITelegram","OnCodeVerificationFailedFromReact","Code verification system unavailable"),void console.error("SpecificData/Codes document does not exist");const i=r.data();if(!(t in i))return void p("RegistrationUITelegram","OnCodeVerificationFailedFromReact","Invalid access code");if(i[t])return void p("RegistrationUITelegram","OnCodeVerificationFailedFromReact","This code has already been used");await sA(n,{[t]:!0});const s=iC(hA,"users",o.uid);await sA(s,{isApproved:!0,accessCode:t,approvedAt:lA()}),console.log("Access code verified successfully"),p("RegistrationUITelegram","OnCodeVerified","")}catch(t){console.error("Error verifying access code:",t),p("RegistrationUITelegram","OnCodeVerificationFailedFromReact",`Verification failed: ${t.message}`)}}),[o,p]);(0,e.useEffect)((()=>(window.createUsername=k,window.verifyAccessCode=I,()=>{delete window.createUsername,delete window.verifyAccessCode})),[k,I]),(0,e.useEffect)((()=>{!async function(){if(await Ut())try{d("Getting Telegram user data...");const e=rs();if(e&&e.user){const t=e.user,r={id:t.id,username:t.username||"",first_name:t.firstName||"",last_name:t.lastName||"",photo_url:t.photoUrl||""};console.log("Telegram data received:",r),c(r),n(!0),d("Telegram data received! Waiting for game to load...")}else console.log("No Telegram user data available"),d("No Telegram user data available"),n(!0)}catch(e){console.error("Error getting Telegram data:",e),d(`Error: ${e.message}`),n(!0)}else console.log("Not running in Telegram environment"),d("Not running in Telegram"),n(!0)}()}),[]),(0,e.useEffect)((()=>{!async function(){v&&t&&u&&!i&&(console.log("Game loaded and Telegram data ready - sending to Unity"),d("Sending data to Unity..."),p("RegistrationUITelegram","ReceiveTelegramData",JSON.stringify(u)),d("Authenticating..."),await T(u))}()}),[v,t,u,i,p,T]),(0,e.useEffect)((()=>(g("HapticSoft",E),g("HapticMedium",S),()=>{m("HapticSoft",E),m("HapticMedium",S)})),[g,m,E,S]);const C=t&&v;return(0,mh.jsxs)(e.Fragment,{children:[!C&&(0,mh.jsxs)("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a1a",color:"white"},children:[(0,mh.jsx)(dA,{}),(0,mh.jsx)("p",{style:{marginTop:"20px",fontSize:"18px"},children:h}),!v&&(0,mh.jsxs)("p",{style:{marginTop:"10px"},children:["Loading game: ",Math.round(100*y),"%"]})]}),(0,mh.jsx)(r.G9,{style:{width:"100vw",height:"100vh",position:"absolute",top:0,left:0,display:C?"block":"none"},devicePixelRatio:window.devicePixelRatio,unityProvider:f})]})},gA=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};t.createRoot(document.getElementById("root")).render((0,mh.jsx)(e.StrictMode,{children:(0,mh.jsx)(pA,{})})),gA()})()})();
//# sourceMappingURL=main.6c637198.js.map